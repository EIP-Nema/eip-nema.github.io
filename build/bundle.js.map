{"version":3,"file":"bundle.js","sources":["../../node_modules/svelte/internal/index.mjs","../../src/actions/drop-zone.ts","../../src/actions/drag-source.ts","../../src/components/panels/Clip/components/Clip.svelte","../../src/components/AddFile.svelte","../../node_modules/svelte/store/index.mjs","../../target/wasm-pack/audio-engine/index.js","../../src/stores/project.ts","../../src/components/panels/Clip/ClipPanel.svelte","../../src/components/shared-components/Knob.svelte","../../node_modules/svelte/motion/index.mjs","../../src/actions/DraggableNode.ts","../../src/components/panels/Graph/components/links/Link.svelte","../../src/stores/output_ports.ts","../../src/components/panels/Graph/components/links/io/InputPort.svelte","../../src/components/panels/Graph/components/links/io/OutputPort.svelte","../../src/components/panels/Graph/components/Node.svelte","../../src/actions/key-listener.ts","../../src/components/panels/Graph/GraphPanel.svelte","../../src/components/panels/Node/components/NodeName.svelte","../../src/components/panels/Node/NodePanel.svelte","../../node_modules/element-resize-detector/src/collection-utils.js","../../node_modules/element-resize-detector/src/browser-detector.js","../../node_modules/batch-processor/src/utils.js","../../node_modules/batch-processor/src/batch-processor.js","../../node_modules/element-resize-detector/src/state-handler.js","../../node_modules/element-resize-detector/src/detection-strategy/scroll.js","../../node_modules/element-resize-detector/src/element-resize-detector.js","../../node_modules/svelte-watch-resize/lib/index.es.js","../../node_modules/element-resize-detector/src/id-generator.js","../../node_modules/element-resize-detector/src/id-handler.js","../../node_modules/element-resize-detector/src/reporter.js","../../node_modules/element-resize-detector/src/listener-handler.js","../../node_modules/element-resize-detector/src/element-utils.js","../../node_modules/element-resize-detector/src/detection-strategy/object.js","../../src/themes.ts","../../src/stores/theme.ts","../../src/components/panels/Timeline/components/TimelineTrack.svelte","../../src/components/panels/Timeline/TimelinePanel.svelte","../../src/components/panels/Track/components/AddTrackButton.svelte","../../src/components/panels/Track/components/Track.svelte","../../src/components/panels/Track/TrackPanel.svelte","../../src/components/toolbar/components/ButtonIcon.svelte","../../src/stores/view.ts","../../src/components/toolbar/components/ButtonSwitch.svelte","../../src/components/toolbar/components/Tempo.svelte","../../src/components/toolbar/components/GlobalTimer.svelte","../../src/components/toolbar/components/Slider.svelte","../../src/components/toolbar/Toolbar.svelte","../../node_modules/css-vars-ponyfill/dist/css-vars-ponyfill.esm.js","../../node_modules/svelte-themer/components/presets.js","../../node_modules/svelte-themer/support/store.js","../../node_modules/svelte-themer/support/toggle.js","../../node_modules/svelte-themer/support/processConfig.js","../../node_modules/svelte-themer/components/ThemeWrapper.svelte","../../node_modules/svelte-themer/support/isObject.js","../../node_modules/svelte-themer/support/css.js","../../src/App.svelte","../../src/main.ts"],"sourcesContent":["function noop() { }\nconst identity = x => x;\nfunction assign(tar, src) {\n    // @ts-ignore\n    for (const k in src)\n        tar[k] = src[k];\n    return tar;\n}\nfunction is_promise(value) {\n    return value && typeof value === 'object' && typeof value.then === 'function';\n}\nfunction add_location(element, file, line, column, char) {\n    element.__svelte_meta = {\n        loc: { file, line, column, char }\n    };\n}\nfunction run(fn) {\n    return fn();\n}\nfunction blank_object() {\n    return Object.create(null);\n}\nfunction run_all(fns) {\n    fns.forEach(run);\n}\nfunction is_function(thing) {\n    return typeof thing === 'function';\n}\nfunction safe_not_equal(a, b) {\n    return a != a ? b == b : a !== b || ((a && typeof a === 'object') || typeof a === 'function');\n}\nlet src_url_equal_anchor;\nfunction src_url_equal(element_src, url) {\n    if (!src_url_equal_anchor) {\n        src_url_equal_anchor = document.createElement('a');\n    }\n    src_url_equal_anchor.href = url;\n    return element_src === src_url_equal_anchor.href;\n}\nfunction not_equal(a, b) {\n    return a != a ? b == b : a !== b;\n}\nfunction is_empty(obj) {\n    return Object.keys(obj).length === 0;\n}\nfunction validate_store(store, name) {\n    if (store != null && typeof store.subscribe !== 'function') {\n        throw new Error(`'${name}' is not a store with a 'subscribe' method`);\n    }\n}\nfunction subscribe(store, ...callbacks) {\n    if (store == null) {\n        return noop;\n    }\n    const unsub = store.subscribe(...callbacks);\n    return unsub.unsubscribe ? () => unsub.unsubscribe() : unsub;\n}\nfunction get_store_value(store) {\n    let value;\n    subscribe(store, _ => value = _)();\n    return value;\n}\nfunction component_subscribe(component, store, callback) {\n    component.$$.on_destroy.push(subscribe(store, callback));\n}\nfunction create_slot(definition, ctx, $$scope, fn) {\n    if (definition) {\n        const slot_ctx = get_slot_context(definition, ctx, $$scope, fn);\n        return definition[0](slot_ctx);\n    }\n}\nfunction get_slot_context(definition, ctx, $$scope, fn) {\n    return definition[1] && fn\n        ? assign($$scope.ctx.slice(), definition[1](fn(ctx)))\n        : $$scope.ctx;\n}\nfunction get_slot_changes(definition, $$scope, dirty, fn) {\n    if (definition[2] && fn) {\n        const lets = definition[2](fn(dirty));\n        if ($$scope.dirty === undefined) {\n            return lets;\n        }\n        if (typeof lets === 'object') {\n            const merged = [];\n            const len = Math.max($$scope.dirty.length, lets.length);\n            for (let i = 0; i < len; i += 1) {\n                merged[i] = $$scope.dirty[i] | lets[i];\n            }\n            return merged;\n        }\n        return $$scope.dirty | lets;\n    }\n    return $$scope.dirty;\n}\nfunction update_slot_base(slot, slot_definition, ctx, $$scope, slot_changes, get_slot_context_fn) {\n    if (slot_changes) {\n        const slot_context = get_slot_context(slot_definition, ctx, $$scope, get_slot_context_fn);\n        slot.p(slot_context, slot_changes);\n    }\n}\nfunction update_slot(slot, slot_definition, ctx, $$scope, dirty, get_slot_changes_fn, get_slot_context_fn) {\n    const slot_changes = get_slot_changes(slot_definition, $$scope, dirty, get_slot_changes_fn);\n    update_slot_base(slot, slot_definition, ctx, $$scope, slot_changes, get_slot_context_fn);\n}\nfunction get_all_dirty_from_scope($$scope) {\n    if ($$scope.ctx.length > 32) {\n        const dirty = [];\n        const length = $$scope.ctx.length / 32;\n        for (let i = 0; i < length; i++) {\n            dirty[i] = -1;\n        }\n        return dirty;\n    }\n    return -1;\n}\nfunction exclude_internal_props(props) {\n    const result = {};\n    for (const k in props)\n        if (k[0] !== '$')\n            result[k] = props[k];\n    return result;\n}\nfunction compute_rest_props(props, keys) {\n    const rest = {};\n    keys = new Set(keys);\n    for (const k in props)\n        if (!keys.has(k) && k[0] !== '$')\n            rest[k] = props[k];\n    return rest;\n}\nfunction compute_slots(slots) {\n    const result = {};\n    for (const key in slots) {\n        result[key] = true;\n    }\n    return result;\n}\nfunction once(fn) {\n    let ran = false;\n    return function (...args) {\n        if (ran)\n            return;\n        ran = true;\n        fn.call(this, ...args);\n    };\n}\nfunction null_to_empty(value) {\n    return value == null ? '' : value;\n}\nfunction set_store_value(store, ret, value) {\n    store.set(value);\n    return ret;\n}\nconst has_prop = (obj, prop) => Object.prototype.hasOwnProperty.call(obj, prop);\nfunction action_destroyer(action_result) {\n    return action_result && is_function(action_result.destroy) ? action_result.destroy : noop;\n}\n\nconst is_client = typeof window !== 'undefined';\nlet now = is_client\n    ? () => window.performance.now()\n    : () => Date.now();\nlet raf = is_client ? cb => requestAnimationFrame(cb) : noop;\n// used internally for testing\nfunction set_now(fn) {\n    now = fn;\n}\nfunction set_raf(fn) {\n    raf = fn;\n}\n\nconst tasks = new Set();\nfunction run_tasks(now) {\n    tasks.forEach(task => {\n        if (!task.c(now)) {\n            tasks.delete(task);\n            task.f();\n        }\n    });\n    if (tasks.size !== 0)\n        raf(run_tasks);\n}\n/**\n * For testing purposes only!\n */\nfunction clear_loops() {\n    tasks.clear();\n}\n/**\n * Creates a new task that runs on each raf frame\n * until it returns a falsy value or is aborted\n */\nfunction loop(callback) {\n    let task;\n    if (tasks.size === 0)\n        raf(run_tasks);\n    return {\n        promise: new Promise(fulfill => {\n            tasks.add(task = { c: callback, f: fulfill });\n        }),\n        abort() {\n            tasks.delete(task);\n        }\n    };\n}\n\n// Track which nodes are claimed during hydration. Unclaimed nodes can then be removed from the DOM\n// at the end of hydration without touching the remaining nodes.\nlet is_hydrating = false;\nfunction start_hydrating() {\n    is_hydrating = true;\n}\nfunction end_hydrating() {\n    is_hydrating = false;\n}\nfunction upper_bound(low, high, key, value) {\n    // Return first index of value larger than input value in the range [low, high)\n    while (low < high) {\n        const mid = low + ((high - low) >> 1);\n        if (key(mid) <= value) {\n            low = mid + 1;\n        }\n        else {\n            high = mid;\n        }\n    }\n    return low;\n}\nfunction init_hydrate(target) {\n    if (target.hydrate_init)\n        return;\n    target.hydrate_init = true;\n    // We know that all children have claim_order values since the unclaimed have been detached if target is not <head>\n    let children = target.childNodes;\n    // If target is <head>, there may be children without claim_order\n    if (target.nodeName === 'HEAD') {\n        const myChildren = [];\n        for (let i = 0; i < children.length; i++) {\n            const node = children[i];\n            if (node.claim_order !== undefined) {\n                myChildren.push(node);\n            }\n        }\n        children = myChildren;\n    }\n    /*\n    * Reorder claimed children optimally.\n    * We can reorder claimed children optimally by finding the longest subsequence of\n    * nodes that are already claimed in order and only moving the rest. The longest\n    * subsequence subsequence of nodes that are claimed in order can be found by\n    * computing the longest increasing subsequence of .claim_order values.\n    *\n    * This algorithm is optimal in generating the least amount of reorder operations\n    * possible.\n    *\n    * Proof:\n    * We know that, given a set of reordering operations, the nodes that do not move\n    * always form an increasing subsequence, since they do not move among each other\n    * meaning that they must be already ordered among each other. Thus, the maximal\n    * set of nodes that do not move form a longest increasing subsequence.\n    */\n    // Compute longest increasing subsequence\n    // m: subsequence length j => index k of smallest value that ends an increasing subsequence of length j\n    const m = new Int32Array(children.length + 1);\n    // Predecessor indices + 1\n    const p = new Int32Array(children.length);\n    m[0] = -1;\n    let longest = 0;\n    for (let i = 0; i < children.length; i++) {\n        const current = children[i].claim_order;\n        // Find the largest subsequence length such that it ends in a value less than our current value\n        // upper_bound returns first greater value, so we subtract one\n        // with fast path for when we are on the current longest subsequence\n        const seqLen = ((longest > 0 && children[m[longest]].claim_order <= current) ? longest + 1 : upper_bound(1, longest, idx => children[m[idx]].claim_order, current)) - 1;\n        p[i] = m[seqLen] + 1;\n        const newLen = seqLen + 1;\n        // We can guarantee that current is the smallest value. Otherwise, we would have generated a longer sequence.\n        m[newLen] = i;\n        longest = Math.max(newLen, longest);\n    }\n    // The longest increasing subsequence of nodes (initially reversed)\n    const lis = [];\n    // The rest of the nodes, nodes that will be moved\n    const toMove = [];\n    let last = children.length - 1;\n    for (let cur = m[longest] + 1; cur != 0; cur = p[cur - 1]) {\n        lis.push(children[cur - 1]);\n        for (; last >= cur; last--) {\n            toMove.push(children[last]);\n        }\n        last--;\n    }\n    for (; last >= 0; last--) {\n        toMove.push(children[last]);\n    }\n    lis.reverse();\n    // We sort the nodes being moved to guarantee that their insertion order matches the claim order\n    toMove.sort((a, b) => a.claim_order - b.claim_order);\n    // Finally, we move the nodes\n    for (let i = 0, j = 0; i < toMove.length; i++) {\n        while (j < lis.length && toMove[i].claim_order >= lis[j].claim_order) {\n            j++;\n        }\n        const anchor = j < lis.length ? lis[j] : null;\n        target.insertBefore(toMove[i], anchor);\n    }\n}\nfunction append(target, node) {\n    target.appendChild(node);\n}\nfunction append_styles(target, style_sheet_id, styles) {\n    const append_styles_to = get_root_for_style(target);\n    if (!append_styles_to.getElementById(style_sheet_id)) {\n        const style = element('style');\n        style.id = style_sheet_id;\n        style.textContent = styles;\n        append_stylesheet(append_styles_to, style);\n    }\n}\nfunction get_root_for_style(node) {\n    if (!node)\n        return document;\n    const root = node.getRootNode ? node.getRootNode() : node.ownerDocument;\n    if (root && root.host) {\n        return root;\n    }\n    return node.ownerDocument;\n}\nfunction append_empty_stylesheet(node) {\n    const style_element = element('style');\n    append_stylesheet(get_root_for_style(node), style_element);\n    return style_element;\n}\nfunction append_stylesheet(node, style) {\n    append(node.head || node, style);\n}\nfunction append_hydration(target, node) {\n    if (is_hydrating) {\n        init_hydrate(target);\n        if ((target.actual_end_child === undefined) || ((target.actual_end_child !== null) && (target.actual_end_child.parentElement !== target))) {\n            target.actual_end_child = target.firstChild;\n        }\n        // Skip nodes of undefined ordering\n        while ((target.actual_end_child !== null) && (target.actual_end_child.claim_order === undefined)) {\n            target.actual_end_child = target.actual_end_child.nextSibling;\n        }\n        if (node !== target.actual_end_child) {\n            // We only insert if the ordering of this node should be modified or the parent node is not target\n            if (node.claim_order !== undefined || node.parentNode !== target) {\n                target.insertBefore(node, target.actual_end_child);\n            }\n        }\n        else {\n            target.actual_end_child = node.nextSibling;\n        }\n    }\n    else if (node.parentNode !== target || node.nextSibling !== null) {\n        target.appendChild(node);\n    }\n}\nfunction insert(target, node, anchor) {\n    target.insertBefore(node, anchor || null);\n}\nfunction insert_hydration(target, node, anchor) {\n    if (is_hydrating && !anchor) {\n        append_hydration(target, node);\n    }\n    else if (node.parentNode !== target || node.nextSibling != anchor) {\n        target.insertBefore(node, anchor || null);\n    }\n}\nfunction detach(node) {\n    node.parentNode.removeChild(node);\n}\nfunction destroy_each(iterations, detaching) {\n    for (let i = 0; i < iterations.length; i += 1) {\n        if (iterations[i])\n            iterations[i].d(detaching);\n    }\n}\nfunction element(name) {\n    return document.createElement(name);\n}\nfunction element_is(name, is) {\n    return document.createElement(name, { is });\n}\nfunction object_without_properties(obj, exclude) {\n    const target = {};\n    for (const k in obj) {\n        if (has_prop(obj, k)\n            // @ts-ignore\n            && exclude.indexOf(k) === -1) {\n            // @ts-ignore\n            target[k] = obj[k];\n        }\n    }\n    return target;\n}\nfunction svg_element(name) {\n    return document.createElementNS('http://www.w3.org/2000/svg', name);\n}\nfunction text(data) {\n    return document.createTextNode(data);\n}\nfunction space() {\n    return text(' ');\n}\nfunction empty() {\n    return text('');\n}\nfunction listen(node, event, handler, options) {\n    node.addEventListener(event, handler, options);\n    return () => node.removeEventListener(event, handler, options);\n}\nfunction prevent_default(fn) {\n    return function (event) {\n        event.preventDefault();\n        // @ts-ignore\n        return fn.call(this, event);\n    };\n}\nfunction stop_propagation(fn) {\n    return function (event) {\n        event.stopPropagation();\n        // @ts-ignore\n        return fn.call(this, event);\n    };\n}\nfunction self(fn) {\n    return function (event) {\n        // @ts-ignore\n        if (event.target === this)\n            fn.call(this, event);\n    };\n}\nfunction trusted(fn) {\n    return function (event) {\n        // @ts-ignore\n        if (event.isTrusted)\n            fn.call(this, event);\n    };\n}\nfunction attr(node, attribute, value) {\n    if (value == null)\n        node.removeAttribute(attribute);\n    else if (node.getAttribute(attribute) !== value)\n        node.setAttribute(attribute, value);\n}\nfunction set_attributes(node, attributes) {\n    // @ts-ignore\n    const descriptors = Object.getOwnPropertyDescriptors(node.__proto__);\n    for (const key in attributes) {\n        if (attributes[key] == null) {\n            node.removeAttribute(key);\n        }\n        else if (key === 'style') {\n            node.style.cssText = attributes[key];\n        }\n        else if (key === '__value') {\n            node.value = node[key] = attributes[key];\n        }\n        else if (descriptors[key] && descriptors[key].set) {\n            node[key] = attributes[key];\n        }\n        else {\n            attr(node, key, attributes[key]);\n        }\n    }\n}\nfunction set_svg_attributes(node, attributes) {\n    for (const key in attributes) {\n        attr(node, key, attributes[key]);\n    }\n}\nfunction set_custom_element_data(node, prop, value) {\n    if (prop in node) {\n        node[prop] = typeof node[prop] === 'boolean' && value === '' ? true : value;\n    }\n    else {\n        attr(node, prop, value);\n    }\n}\nfunction xlink_attr(node, attribute, value) {\n    node.setAttributeNS('http://www.w3.org/1999/xlink', attribute, value);\n}\nfunction get_binding_group_value(group, __value, checked) {\n    const value = new Set();\n    for (let i = 0; i < group.length; i += 1) {\n        if (group[i].checked)\n            value.add(group[i].__value);\n    }\n    if (!checked) {\n        value.delete(__value);\n    }\n    return Array.from(value);\n}\nfunction to_number(value) {\n    return value === '' ? null : +value;\n}\nfunction time_ranges_to_array(ranges) {\n    const array = [];\n    for (let i = 0; i < ranges.length; i += 1) {\n        array.push({ start: ranges.start(i), end: ranges.end(i) });\n    }\n    return array;\n}\nfunction children(element) {\n    return Array.from(element.childNodes);\n}\nfunction init_claim_info(nodes) {\n    if (nodes.claim_info === undefined) {\n        nodes.claim_info = { last_index: 0, total_claimed: 0 };\n    }\n}\nfunction claim_node(nodes, predicate, processNode, createNode, dontUpdateLastIndex = false) {\n    // Try to find nodes in an order such that we lengthen the longest increasing subsequence\n    init_claim_info(nodes);\n    const resultNode = (() => {\n        // We first try to find an element after the previous one\n        for (let i = nodes.claim_info.last_index; i < nodes.length; i++) {\n            const node = nodes[i];\n            if (predicate(node)) {\n                const replacement = processNode(node);\n                if (replacement === undefined) {\n                    nodes.splice(i, 1);\n                }\n                else {\n                    nodes[i] = replacement;\n                }\n                if (!dontUpdateLastIndex) {\n                    nodes.claim_info.last_index = i;\n                }\n                return node;\n            }\n        }\n        // Otherwise, we try to find one before\n        // We iterate in reverse so that we don't go too far back\n        for (let i = nodes.claim_info.last_index - 1; i >= 0; i--) {\n            const node = nodes[i];\n            if (predicate(node)) {\n                const replacement = processNode(node);\n                if (replacement === undefined) {\n                    nodes.splice(i, 1);\n                }\n                else {\n                    nodes[i] = replacement;\n                }\n                if (!dontUpdateLastIndex) {\n                    nodes.claim_info.last_index = i;\n                }\n                else if (replacement === undefined) {\n                    // Since we spliced before the last_index, we decrease it\n                    nodes.claim_info.last_index--;\n                }\n                return node;\n            }\n        }\n        // If we can't find any matching node, we create a new one\n        return createNode();\n    })();\n    resultNode.claim_order = nodes.claim_info.total_claimed;\n    nodes.claim_info.total_claimed += 1;\n    return resultNode;\n}\nfunction claim_element_base(nodes, name, attributes, create_element) {\n    return claim_node(nodes, (node) => node.nodeName === name, (node) => {\n        const remove = [];\n        for (let j = 0; j < node.attributes.length; j++) {\n            const attribute = node.attributes[j];\n            if (!attributes[attribute.name]) {\n                remove.push(attribute.name);\n            }\n        }\n        remove.forEach(v => node.removeAttribute(v));\n        return undefined;\n    }, () => create_element(name));\n}\nfunction claim_element(nodes, name, attributes) {\n    return claim_element_base(nodes, name, attributes, element);\n}\nfunction claim_svg_element(nodes, name, attributes) {\n    return claim_element_base(nodes, name, attributes, svg_element);\n}\nfunction claim_text(nodes, data) {\n    return claim_node(nodes, (node) => node.nodeType === 3, (node) => {\n        const dataStr = '' + data;\n        if (node.data.startsWith(dataStr)) {\n            if (node.data.length !== dataStr.length) {\n                return node.splitText(dataStr.length);\n            }\n        }\n        else {\n            node.data = dataStr;\n        }\n    }, () => text(data), true // Text nodes should not update last index since it is likely not worth it to eliminate an increasing subsequence of actual elements\n    );\n}\nfunction claim_space(nodes) {\n    return claim_text(nodes, ' ');\n}\nfunction find_comment(nodes, text, start) {\n    for (let i = start; i < nodes.length; i += 1) {\n        const node = nodes[i];\n        if (node.nodeType === 8 /* comment node */ && node.textContent.trim() === text) {\n            return i;\n        }\n    }\n    return nodes.length;\n}\nfunction claim_html_tag(nodes) {\n    // find html opening tag\n    const start_index = find_comment(nodes, 'HTML_TAG_START', 0);\n    const end_index = find_comment(nodes, 'HTML_TAG_END', start_index);\n    if (start_index === end_index) {\n        return new HtmlTagHydration();\n    }\n    init_claim_info(nodes);\n    const html_tag_nodes = nodes.splice(start_index, end_index + 1);\n    detach(html_tag_nodes[0]);\n    detach(html_tag_nodes[html_tag_nodes.length - 1]);\n    const claimed_nodes = html_tag_nodes.slice(1, html_tag_nodes.length - 1);\n    for (const n of claimed_nodes) {\n        n.claim_order = nodes.claim_info.total_claimed;\n        nodes.claim_info.total_claimed += 1;\n    }\n    return new HtmlTagHydration(claimed_nodes);\n}\nfunction set_data(text, data) {\n    data = '' + data;\n    if (text.wholeText !== data)\n        text.data = data;\n}\nfunction set_input_value(input, value) {\n    input.value = value == null ? '' : value;\n}\nfunction set_input_type(input, type) {\n    try {\n        input.type = type;\n    }\n    catch (e) {\n        // do nothing\n    }\n}\nfunction set_style(node, key, value, important) {\n    node.style.setProperty(key, value, important ? 'important' : '');\n}\nfunction select_option(select, value) {\n    for (let i = 0; i < select.options.length; i += 1) {\n        const option = select.options[i];\n        if (option.__value === value) {\n            option.selected = true;\n            return;\n        }\n    }\n    select.selectedIndex = -1; // no option should be selected\n}\nfunction select_options(select, value) {\n    for (let i = 0; i < select.options.length; i += 1) {\n        const option = select.options[i];\n        option.selected = ~value.indexOf(option.__value);\n    }\n}\nfunction select_value(select) {\n    const selected_option = select.querySelector(':checked') || select.options[0];\n    return selected_option && selected_option.__value;\n}\nfunction select_multiple_value(select) {\n    return [].map.call(select.querySelectorAll(':checked'), option => option.__value);\n}\n// unfortunately this can't be a constant as that wouldn't be tree-shakeable\n// so we cache the result instead\nlet crossorigin;\nfunction is_crossorigin() {\n    if (crossorigin === undefined) {\n        crossorigin = false;\n        try {\n            if (typeof window !== 'undefined' && window.parent) {\n                void window.parent.document;\n            }\n        }\n        catch (error) {\n            crossorigin = true;\n        }\n    }\n    return crossorigin;\n}\nfunction add_resize_listener(node, fn) {\n    const computed_style = getComputedStyle(node);\n    if (computed_style.position === 'static') {\n        node.style.position = 'relative';\n    }\n    const iframe = element('iframe');\n    iframe.setAttribute('style', 'display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; ' +\n        'overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;');\n    iframe.setAttribute('aria-hidden', 'true');\n    iframe.tabIndex = -1;\n    const crossorigin = is_crossorigin();\n    let unsubscribe;\n    if (crossorigin) {\n        iframe.src = \"data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}</script>\";\n        unsubscribe = listen(window, 'message', (event) => {\n            if (event.source === iframe.contentWindow)\n                fn();\n        });\n    }\n    else {\n        iframe.src = 'about:blank';\n        iframe.onload = () => {\n            unsubscribe = listen(iframe.contentWindow, 'resize', fn);\n        };\n    }\n    append(node, iframe);\n    return () => {\n        if (crossorigin) {\n            unsubscribe();\n        }\n        else if (unsubscribe && iframe.contentWindow) {\n            unsubscribe();\n        }\n        detach(iframe);\n    };\n}\nfunction toggle_class(element, name, toggle) {\n    element.classList[toggle ? 'add' : 'remove'](name);\n}\nfunction custom_event(type, detail, bubbles = false) {\n    const e = document.createEvent('CustomEvent');\n    e.initCustomEvent(type, bubbles, false, detail);\n    return e;\n}\nfunction query_selector_all(selector, parent = document.body) {\n    return Array.from(parent.querySelectorAll(selector));\n}\nclass HtmlTag {\n    constructor() {\n        this.e = this.n = null;\n    }\n    c(html) {\n        this.h(html);\n    }\n    m(html, target, anchor = null) {\n        if (!this.e) {\n            this.e = element(target.nodeName);\n            this.t = target;\n            this.c(html);\n        }\n        this.i(anchor);\n    }\n    h(html) {\n        this.e.innerHTML = html;\n        this.n = Array.from(this.e.childNodes);\n    }\n    i(anchor) {\n        for (let i = 0; i < this.n.length; i += 1) {\n            insert(this.t, this.n[i], anchor);\n        }\n    }\n    p(html) {\n        this.d();\n        this.h(html);\n        this.i(this.a);\n    }\n    d() {\n        this.n.forEach(detach);\n    }\n}\nclass HtmlTagHydration extends HtmlTag {\n    constructor(claimed_nodes) {\n        super();\n        this.e = this.n = null;\n        this.l = claimed_nodes;\n    }\n    c(html) {\n        if (this.l) {\n            this.n = this.l;\n        }\n        else {\n            super.c(html);\n        }\n    }\n    i(anchor) {\n        for (let i = 0; i < this.n.length; i += 1) {\n            insert_hydration(this.t, this.n[i], anchor);\n        }\n    }\n}\nfunction attribute_to_object(attributes) {\n    const result = {};\n    for (const attribute of attributes) {\n        result[attribute.name] = attribute.value;\n    }\n    return result;\n}\nfunction get_custom_elements_slots(element) {\n    const result = {};\n    element.childNodes.forEach((node) => {\n        result[node.slot || 'default'] = true;\n    });\n    return result;\n}\n\nconst active_docs = new Set();\nlet active = 0;\n// https://github.com/darkskyapp/string-hash/blob/master/index.js\nfunction hash(str) {\n    let hash = 5381;\n    let i = str.length;\n    while (i--)\n        hash = ((hash << 5) - hash) ^ str.charCodeAt(i);\n    return hash >>> 0;\n}\nfunction create_rule(node, a, b, duration, delay, ease, fn, uid = 0) {\n    const step = 16.666 / duration;\n    let keyframes = '{\\n';\n    for (let p = 0; p <= 1; p += step) {\n        const t = a + (b - a) * ease(p);\n        keyframes += p * 100 + `%{${fn(t, 1 - t)}}\\n`;\n    }\n    const rule = keyframes + `100% {${fn(b, 1 - b)}}\\n}`;\n    const name = `__svelte_${hash(rule)}_${uid}`;\n    const doc = get_root_for_style(node);\n    active_docs.add(doc);\n    const stylesheet = doc.__svelte_stylesheet || (doc.__svelte_stylesheet = append_empty_stylesheet(node).sheet);\n    const current_rules = doc.__svelte_rules || (doc.__svelte_rules = {});\n    if (!current_rules[name]) {\n        current_rules[name] = true;\n        stylesheet.insertRule(`@keyframes ${name} ${rule}`, stylesheet.cssRules.length);\n    }\n    const animation = node.style.animation || '';\n    node.style.animation = `${animation ? `${animation}, ` : ''}${name} ${duration}ms linear ${delay}ms 1 both`;\n    active += 1;\n    return name;\n}\nfunction delete_rule(node, name) {\n    const previous = (node.style.animation || '').split(', ');\n    const next = previous.filter(name\n        ? anim => anim.indexOf(name) < 0 // remove specific animation\n        : anim => anim.indexOf('__svelte') === -1 // remove all Svelte animations\n    );\n    const deleted = previous.length - next.length;\n    if (deleted) {\n        node.style.animation = next.join(', ');\n        active -= deleted;\n        if (!active)\n            clear_rules();\n    }\n}\nfunction clear_rules() {\n    raf(() => {\n        if (active)\n            return;\n        active_docs.forEach(doc => {\n            const stylesheet = doc.__svelte_stylesheet;\n            let i = stylesheet.cssRules.length;\n            while (i--)\n                stylesheet.deleteRule(i);\n            doc.__svelte_rules = {};\n        });\n        active_docs.clear();\n    });\n}\n\nfunction create_animation(node, from, fn, params) {\n    if (!from)\n        return noop;\n    const to = node.getBoundingClientRect();\n    if (from.left === to.left && from.right === to.right && from.top === to.top && from.bottom === to.bottom)\n        return noop;\n    const { delay = 0, duration = 300, easing = identity, \n    // @ts-ignore todo: should this be separated from destructuring? Or start/end added to public api and documentation?\n    start: start_time = now() + delay, \n    // @ts-ignore todo:\n    end = start_time + duration, tick = noop, css } = fn(node, { from, to }, params);\n    let running = true;\n    let started = false;\n    let name;\n    function start() {\n        if (css) {\n            name = create_rule(node, 0, 1, duration, delay, easing, css);\n        }\n        if (!delay) {\n            started = true;\n        }\n    }\n    function stop() {\n        if (css)\n            delete_rule(node, name);\n        running = false;\n    }\n    loop(now => {\n        if (!started && now >= start_time) {\n            started = true;\n        }\n        if (started && now >= end) {\n            tick(1, 0);\n            stop();\n        }\n        if (!running) {\n            return false;\n        }\n        if (started) {\n            const p = now - start_time;\n            const t = 0 + 1 * easing(p / duration);\n            tick(t, 1 - t);\n        }\n        return true;\n    });\n    start();\n    tick(0, 1);\n    return stop;\n}\nfunction fix_position(node) {\n    const style = getComputedStyle(node);\n    if (style.position !== 'absolute' && style.position !== 'fixed') {\n        const { width, height } = style;\n        const a = node.getBoundingClientRect();\n        node.style.position = 'absolute';\n        node.style.width = width;\n        node.style.height = height;\n        add_transform(node, a);\n    }\n}\nfunction add_transform(node, a) {\n    const b = node.getBoundingClientRect();\n    if (a.left !== b.left || a.top !== b.top) {\n        const style = getComputedStyle(node);\n        const transform = style.transform === 'none' ? '' : style.transform;\n        node.style.transform = `${transform} translate(${a.left - b.left}px, ${a.top - b.top}px)`;\n    }\n}\n\nlet current_component;\nfunction set_current_component(component) {\n    current_component = component;\n}\nfunction get_current_component() {\n    if (!current_component)\n        throw new Error('Function called outside component initialization');\n    return current_component;\n}\nfunction beforeUpdate(fn) {\n    get_current_component().$$.before_update.push(fn);\n}\nfunction onMount(fn) {\n    get_current_component().$$.on_mount.push(fn);\n}\nfunction afterUpdate(fn) {\n    get_current_component().$$.after_update.push(fn);\n}\nfunction onDestroy(fn) {\n    get_current_component().$$.on_destroy.push(fn);\n}\nfunction createEventDispatcher() {\n    const component = get_current_component();\n    return (type, detail) => {\n        const callbacks = component.$$.callbacks[type];\n        if (callbacks) {\n            // TODO are there situations where events could be dispatched\n            // in a server (non-DOM) environment?\n            const event = custom_event(type, detail);\n            callbacks.slice().forEach(fn => {\n                fn.call(component, event);\n            });\n        }\n    };\n}\nfunction setContext(key, context) {\n    get_current_component().$$.context.set(key, context);\n}\nfunction getContext(key) {\n    return get_current_component().$$.context.get(key);\n}\nfunction getAllContexts() {\n    return get_current_component().$$.context;\n}\nfunction hasContext(key) {\n    return get_current_component().$$.context.has(key);\n}\n// TODO figure out if we still want to support\n// shorthand events, or if we want to implement\n// a real bubbling mechanism\nfunction bubble(component, event) {\n    const callbacks = component.$$.callbacks[event.type];\n    if (callbacks) {\n        // @ts-ignore\n        callbacks.slice().forEach(fn => fn.call(this, event));\n    }\n}\n\nconst dirty_components = [];\nconst intros = { enabled: false };\nconst binding_callbacks = [];\nconst render_callbacks = [];\nconst flush_callbacks = [];\nconst resolved_promise = Promise.resolve();\nlet update_scheduled = false;\nfunction schedule_update() {\n    if (!update_scheduled) {\n        update_scheduled = true;\n        resolved_promise.then(flush);\n    }\n}\nfunction tick() {\n    schedule_update();\n    return resolved_promise;\n}\nfunction add_render_callback(fn) {\n    render_callbacks.push(fn);\n}\nfunction add_flush_callback(fn) {\n    flush_callbacks.push(fn);\n}\nlet flushing = false;\nconst seen_callbacks = new Set();\nfunction flush() {\n    if (flushing)\n        return;\n    flushing = true;\n    do {\n        // first, call beforeUpdate functions\n        // and update components\n        for (let i = 0; i < dirty_components.length; i += 1) {\n            const component = dirty_components[i];\n            set_current_component(component);\n            update(component.$$);\n        }\n        set_current_component(null);\n        dirty_components.length = 0;\n        while (binding_callbacks.length)\n            binding_callbacks.pop()();\n        // then, once components are updated, call\n        // afterUpdate functions. This may cause\n        // subsequent updates...\n        for (let i = 0; i < render_callbacks.length; i += 1) {\n            const callback = render_callbacks[i];\n            if (!seen_callbacks.has(callback)) {\n                // ...so guard against infinite loops\n                seen_callbacks.add(callback);\n                callback();\n            }\n        }\n        render_callbacks.length = 0;\n    } while (dirty_components.length);\n    while (flush_callbacks.length) {\n        flush_callbacks.pop()();\n    }\n    update_scheduled = false;\n    flushing = false;\n    seen_callbacks.clear();\n}\nfunction update($$) {\n    if ($$.fragment !== null) {\n        $$.update();\n        run_all($$.before_update);\n        const dirty = $$.dirty;\n        $$.dirty = [-1];\n        $$.fragment && $$.fragment.p($$.ctx, dirty);\n        $$.after_update.forEach(add_render_callback);\n    }\n}\n\nlet promise;\nfunction wait() {\n    if (!promise) {\n        promise = Promise.resolve();\n        promise.then(() => {\n            promise = null;\n        });\n    }\n    return promise;\n}\nfunction dispatch(node, direction, kind) {\n    node.dispatchEvent(custom_event(`${direction ? 'intro' : 'outro'}${kind}`));\n}\nconst outroing = new Set();\nlet outros;\nfunction group_outros() {\n    outros = {\n        r: 0,\n        c: [],\n        p: outros // parent group\n    };\n}\nfunction check_outros() {\n    if (!outros.r) {\n        run_all(outros.c);\n    }\n    outros = outros.p;\n}\nfunction transition_in(block, local) {\n    if (block && block.i) {\n        outroing.delete(block);\n        block.i(local);\n    }\n}\nfunction transition_out(block, local, detach, callback) {\n    if (block && block.o) {\n        if (outroing.has(block))\n            return;\n        outroing.add(block);\n        outros.c.push(() => {\n            outroing.delete(block);\n            if (callback) {\n                if (detach)\n                    block.d(1);\n                callback();\n            }\n        });\n        block.o(local);\n    }\n}\nconst null_transition = { duration: 0 };\nfunction create_in_transition(node, fn, params) {\n    let config = fn(node, params);\n    let running = false;\n    let animation_name;\n    let task;\n    let uid = 0;\n    function cleanup() {\n        if (animation_name)\n            delete_rule(node, animation_name);\n    }\n    function go() {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        if (css)\n            animation_name = create_rule(node, 0, 1, duration, delay, easing, css, uid++);\n        tick(0, 1);\n        const start_time = now() + delay;\n        const end_time = start_time + duration;\n        if (task)\n            task.abort();\n        running = true;\n        add_render_callback(() => dispatch(node, true, 'start'));\n        task = loop(now => {\n            if (running) {\n                if (now >= end_time) {\n                    tick(1, 0);\n                    dispatch(node, true, 'end');\n                    cleanup();\n                    return running = false;\n                }\n                if (now >= start_time) {\n                    const t = easing((now - start_time) / duration);\n                    tick(t, 1 - t);\n                }\n            }\n            return running;\n        });\n    }\n    let started = false;\n    return {\n        start() {\n            if (started)\n                return;\n            started = true;\n            delete_rule(node);\n            if (is_function(config)) {\n                config = config();\n                wait().then(go);\n            }\n            else {\n                go();\n            }\n        },\n        invalidate() {\n            started = false;\n        },\n        end() {\n            if (running) {\n                cleanup();\n                running = false;\n            }\n        }\n    };\n}\nfunction create_out_transition(node, fn, params) {\n    let config = fn(node, params);\n    let running = true;\n    let animation_name;\n    const group = outros;\n    group.r += 1;\n    function go() {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        if (css)\n            animation_name = create_rule(node, 1, 0, duration, delay, easing, css);\n        const start_time = now() + delay;\n        const end_time = start_time + duration;\n        add_render_callback(() => dispatch(node, false, 'start'));\n        loop(now => {\n            if (running) {\n                if (now >= end_time) {\n                    tick(0, 1);\n                    dispatch(node, false, 'end');\n                    if (!--group.r) {\n                        // this will result in `end()` being called,\n                        // so we don't need to clean up here\n                        run_all(group.c);\n                    }\n                    return false;\n                }\n                if (now >= start_time) {\n                    const t = easing((now - start_time) / duration);\n                    tick(1 - t, t);\n                }\n            }\n            return running;\n        });\n    }\n    if (is_function(config)) {\n        wait().then(() => {\n            // @ts-ignore\n            config = config();\n            go();\n        });\n    }\n    else {\n        go();\n    }\n    return {\n        end(reset) {\n            if (reset && config.tick) {\n                config.tick(1, 0);\n            }\n            if (running) {\n                if (animation_name)\n                    delete_rule(node, animation_name);\n                running = false;\n            }\n        }\n    };\n}\nfunction create_bidirectional_transition(node, fn, params, intro) {\n    let config = fn(node, params);\n    let t = intro ? 0 : 1;\n    let running_program = null;\n    let pending_program = null;\n    let animation_name = null;\n    function clear_animation() {\n        if (animation_name)\n            delete_rule(node, animation_name);\n    }\n    function init(program, duration) {\n        const d = (program.b - t);\n        duration *= Math.abs(d);\n        return {\n            a: t,\n            b: program.b,\n            d,\n            duration,\n            start: program.start,\n            end: program.start + duration,\n            group: program.group\n        };\n    }\n    function go(b) {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        const program = {\n            start: now() + delay,\n            b\n        };\n        if (!b) {\n            // @ts-ignore todo: improve typings\n            program.group = outros;\n            outros.r += 1;\n        }\n        if (running_program || pending_program) {\n            pending_program = program;\n        }\n        else {\n            // if this is an intro, and there's a delay, we need to do\n            // an initial tick and/or apply CSS animation immediately\n            if (css) {\n                clear_animation();\n                animation_name = create_rule(node, t, b, duration, delay, easing, css);\n            }\n            if (b)\n                tick(0, 1);\n            running_program = init(program, duration);\n            add_render_callback(() => dispatch(node, b, 'start'));\n            loop(now => {\n                if (pending_program && now > pending_program.start) {\n                    running_program = init(pending_program, duration);\n                    pending_program = null;\n                    dispatch(node, running_program.b, 'start');\n                    if (css) {\n                        clear_animation();\n                        animation_name = create_rule(node, t, running_program.b, running_program.duration, 0, easing, config.css);\n                    }\n                }\n                if (running_program) {\n                    if (now >= running_program.end) {\n                        tick(t = running_program.b, 1 - t);\n                        dispatch(node, running_program.b, 'end');\n                        if (!pending_program) {\n                            // we're done\n                            if (running_program.b) {\n                                // intro — we can tidy up immediately\n                                clear_animation();\n                            }\n                            else {\n                                // outro — needs to be coordinated\n                                if (!--running_program.group.r)\n                                    run_all(running_program.group.c);\n                            }\n                        }\n                        running_program = null;\n                    }\n                    else if (now >= running_program.start) {\n                        const p = now - running_program.start;\n                        t = running_program.a + running_program.d * easing(p / running_program.duration);\n                        tick(t, 1 - t);\n                    }\n                }\n                return !!(running_program || pending_program);\n            });\n        }\n    }\n    return {\n        run(b) {\n            if (is_function(config)) {\n                wait().then(() => {\n                    // @ts-ignore\n                    config = config();\n                    go(b);\n                });\n            }\n            else {\n                go(b);\n            }\n        },\n        end() {\n            clear_animation();\n            running_program = pending_program = null;\n        }\n    };\n}\n\nfunction handle_promise(promise, info) {\n    const token = info.token = {};\n    function update(type, index, key, value) {\n        if (info.token !== token)\n            return;\n        info.resolved = value;\n        let child_ctx = info.ctx;\n        if (key !== undefined) {\n            child_ctx = child_ctx.slice();\n            child_ctx[key] = value;\n        }\n        const block = type && (info.current = type)(child_ctx);\n        let needs_flush = false;\n        if (info.block) {\n            if (info.blocks) {\n                info.blocks.forEach((block, i) => {\n                    if (i !== index && block) {\n                        group_outros();\n                        transition_out(block, 1, 1, () => {\n                            if (info.blocks[i] === block) {\n                                info.blocks[i] = null;\n                            }\n                        });\n                        check_outros();\n                    }\n                });\n            }\n            else {\n                info.block.d(1);\n            }\n            block.c();\n            transition_in(block, 1);\n            block.m(info.mount(), info.anchor);\n            needs_flush = true;\n        }\n        info.block = block;\n        if (info.blocks)\n            info.blocks[index] = block;\n        if (needs_flush) {\n            flush();\n        }\n    }\n    if (is_promise(promise)) {\n        const current_component = get_current_component();\n        promise.then(value => {\n            set_current_component(current_component);\n            update(info.then, 1, info.value, value);\n            set_current_component(null);\n        }, error => {\n            set_current_component(current_component);\n            update(info.catch, 2, info.error, error);\n            set_current_component(null);\n            if (!info.hasCatch) {\n                throw error;\n            }\n        });\n        // if we previously had a then/catch block, destroy it\n        if (info.current !== info.pending) {\n            update(info.pending, 0);\n            return true;\n        }\n    }\n    else {\n        if (info.current !== info.then) {\n            update(info.then, 1, info.value, promise);\n            return true;\n        }\n        info.resolved = promise;\n    }\n}\nfunction update_await_block_branch(info, ctx, dirty) {\n    const child_ctx = ctx.slice();\n    const { resolved } = info;\n    if (info.current === info.then) {\n        child_ctx[info.value] = resolved;\n    }\n    if (info.current === info.catch) {\n        child_ctx[info.error] = resolved;\n    }\n    info.block.p(child_ctx, dirty);\n}\n\nconst globals = (typeof window !== 'undefined'\n    ? window\n    : typeof globalThis !== 'undefined'\n        ? globalThis\n        : global);\n\nfunction destroy_block(block, lookup) {\n    block.d(1);\n    lookup.delete(block.key);\n}\nfunction outro_and_destroy_block(block, lookup) {\n    transition_out(block, 1, 1, () => {\n        lookup.delete(block.key);\n    });\n}\nfunction fix_and_destroy_block(block, lookup) {\n    block.f();\n    destroy_block(block, lookup);\n}\nfunction fix_and_outro_and_destroy_block(block, lookup) {\n    block.f();\n    outro_and_destroy_block(block, lookup);\n}\nfunction update_keyed_each(old_blocks, dirty, get_key, dynamic, ctx, list, lookup, node, destroy, create_each_block, next, get_context) {\n    let o = old_blocks.length;\n    let n = list.length;\n    let i = o;\n    const old_indexes = {};\n    while (i--)\n        old_indexes[old_blocks[i].key] = i;\n    const new_blocks = [];\n    const new_lookup = new Map();\n    const deltas = new Map();\n    i = n;\n    while (i--) {\n        const child_ctx = get_context(ctx, list, i);\n        const key = get_key(child_ctx);\n        let block = lookup.get(key);\n        if (!block) {\n            block = create_each_block(key, child_ctx);\n            block.c();\n        }\n        else if (dynamic) {\n            block.p(child_ctx, dirty);\n        }\n        new_lookup.set(key, new_blocks[i] = block);\n        if (key in old_indexes)\n            deltas.set(key, Math.abs(i - old_indexes[key]));\n    }\n    const will_move = new Set();\n    const did_move = new Set();\n    function insert(block) {\n        transition_in(block, 1);\n        block.m(node, next);\n        lookup.set(block.key, block);\n        next = block.first;\n        n--;\n    }\n    while (o && n) {\n        const new_block = new_blocks[n - 1];\n        const old_block = old_blocks[o - 1];\n        const new_key = new_block.key;\n        const old_key = old_block.key;\n        if (new_block === old_block) {\n            // do nothing\n            next = new_block.first;\n            o--;\n            n--;\n        }\n        else if (!new_lookup.has(old_key)) {\n            // remove old block\n            destroy(old_block, lookup);\n            o--;\n        }\n        else if (!lookup.has(new_key) || will_move.has(new_key)) {\n            insert(new_block);\n        }\n        else if (did_move.has(old_key)) {\n            o--;\n        }\n        else if (deltas.get(new_key) > deltas.get(old_key)) {\n            did_move.add(new_key);\n            insert(new_block);\n        }\n        else {\n            will_move.add(old_key);\n            o--;\n        }\n    }\n    while (o--) {\n        const old_block = old_blocks[o];\n        if (!new_lookup.has(old_block.key))\n            destroy(old_block, lookup);\n    }\n    while (n)\n        insert(new_blocks[n - 1]);\n    return new_blocks;\n}\nfunction validate_each_keys(ctx, list, get_context, get_key) {\n    const keys = new Set();\n    for (let i = 0; i < list.length; i++) {\n        const key = get_key(get_context(ctx, list, i));\n        if (keys.has(key)) {\n            throw new Error('Cannot have duplicate keys in a keyed each');\n        }\n        keys.add(key);\n    }\n}\n\nfunction get_spread_update(levels, updates) {\n    const update = {};\n    const to_null_out = {};\n    const accounted_for = { $$scope: 1 };\n    let i = levels.length;\n    while (i--) {\n        const o = levels[i];\n        const n = updates[i];\n        if (n) {\n            for (const key in o) {\n                if (!(key in n))\n                    to_null_out[key] = 1;\n            }\n            for (const key in n) {\n                if (!accounted_for[key]) {\n                    update[key] = n[key];\n                    accounted_for[key] = 1;\n                }\n            }\n            levels[i] = n;\n        }\n        else {\n            for (const key in o) {\n                accounted_for[key] = 1;\n            }\n        }\n    }\n    for (const key in to_null_out) {\n        if (!(key in update))\n            update[key] = undefined;\n    }\n    return update;\n}\nfunction get_spread_object(spread_props) {\n    return typeof spread_props === 'object' && spread_props !== null ? spread_props : {};\n}\n\n// source: https://html.spec.whatwg.org/multipage/indices.html\nconst boolean_attributes = new Set([\n    'allowfullscreen',\n    'allowpaymentrequest',\n    'async',\n    'autofocus',\n    'autoplay',\n    'checked',\n    'controls',\n    'default',\n    'defer',\n    'disabled',\n    'formnovalidate',\n    'hidden',\n    'ismap',\n    'loop',\n    'multiple',\n    'muted',\n    'nomodule',\n    'novalidate',\n    'open',\n    'playsinline',\n    'readonly',\n    'required',\n    'reversed',\n    'selected'\n]);\n\nconst invalid_attribute_name_character = /[\\s'\">/=\\u{FDD0}-\\u{FDEF}\\u{FFFE}\\u{FFFF}\\u{1FFFE}\\u{1FFFF}\\u{2FFFE}\\u{2FFFF}\\u{3FFFE}\\u{3FFFF}\\u{4FFFE}\\u{4FFFF}\\u{5FFFE}\\u{5FFFF}\\u{6FFFE}\\u{6FFFF}\\u{7FFFE}\\u{7FFFF}\\u{8FFFE}\\u{8FFFF}\\u{9FFFE}\\u{9FFFF}\\u{AFFFE}\\u{AFFFF}\\u{BFFFE}\\u{BFFFF}\\u{CFFFE}\\u{CFFFF}\\u{DFFFE}\\u{DFFFF}\\u{EFFFE}\\u{EFFFF}\\u{FFFFE}\\u{FFFFF}\\u{10FFFE}\\u{10FFFF}]/u;\n// https://html.spec.whatwg.org/multipage/syntax.html#attributes-2\n// https://infra.spec.whatwg.org/#noncharacter\nfunction spread(args, classes_to_add) {\n    const attributes = Object.assign({}, ...args);\n    if (classes_to_add) {\n        if (attributes.class == null) {\n            attributes.class = classes_to_add;\n        }\n        else {\n            attributes.class += ' ' + classes_to_add;\n        }\n    }\n    let str = '';\n    Object.keys(attributes).forEach(name => {\n        if (invalid_attribute_name_character.test(name))\n            return;\n        const value = attributes[name];\n        if (value === true)\n            str += ' ' + name;\n        else if (boolean_attributes.has(name.toLowerCase())) {\n            if (value)\n                str += ' ' + name;\n        }\n        else if (value != null) {\n            str += ` ${name}=\"${value}\"`;\n        }\n    });\n    return str;\n}\nconst escaped = {\n    '\"': '&quot;',\n    \"'\": '&#39;',\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;'\n};\nfunction escape(html) {\n    return String(html).replace(/[\"'&<>]/g, match => escaped[match]);\n}\nfunction escape_attribute_value(value) {\n    return typeof value === 'string' ? escape(value) : value;\n}\nfunction escape_object(obj) {\n    const result = {};\n    for (const key in obj) {\n        result[key] = escape_attribute_value(obj[key]);\n    }\n    return result;\n}\nfunction each(items, fn) {\n    let str = '';\n    for (let i = 0; i < items.length; i += 1) {\n        str += fn(items[i], i);\n    }\n    return str;\n}\nconst missing_component = {\n    $$render: () => ''\n};\nfunction validate_component(component, name) {\n    if (!component || !component.$$render) {\n        if (name === 'svelte:component')\n            name += ' this={...}';\n        throw new Error(`<${name}> is not a valid SSR component. You may need to review your build config to ensure that dependencies are compiled, rather than imported as pre-compiled modules`);\n    }\n    return component;\n}\nfunction debug(file, line, column, values) {\n    console.log(`{@debug} ${file ? file + ' ' : ''}(${line}:${column})`); // eslint-disable-line no-console\n    console.log(values); // eslint-disable-line no-console\n    return '';\n}\nlet on_destroy;\nfunction create_ssr_component(fn) {\n    function $$render(result, props, bindings, slots, context) {\n        const parent_component = current_component;\n        const $$ = {\n            on_destroy,\n            context: new Map(context || (parent_component ? parent_component.$$.context : [])),\n            // these will be immediately discarded\n            on_mount: [],\n            before_update: [],\n            after_update: [],\n            callbacks: blank_object()\n        };\n        set_current_component({ $$ });\n        const html = fn(result, props, bindings, slots);\n        set_current_component(parent_component);\n        return html;\n    }\n    return {\n        render: (props = {}, { $$slots = {}, context = new Map() } = {}) => {\n            on_destroy = [];\n            const result = { title: '', head: '', css: new Set() };\n            const html = $$render(result, props, {}, $$slots, context);\n            run_all(on_destroy);\n            return {\n                html,\n                css: {\n                    code: Array.from(result.css).map(css => css.code).join('\\n'),\n                    map: null // TODO\n                },\n                head: result.title + result.head\n            };\n        },\n        $$render\n    };\n}\nfunction add_attribute(name, value, boolean) {\n    if (value == null || (boolean && !value))\n        return '';\n    return ` ${name}${value === true ? '' : `=${typeof value === 'string' ? JSON.stringify(escape(value)) : `\"${value}\"`}`}`;\n}\nfunction add_classes(classes) {\n    return classes ? ` class=\"${classes}\"` : '';\n}\n\nfunction bind(component, name, callback) {\n    const index = component.$$.props[name];\n    if (index !== undefined) {\n        component.$$.bound[index] = callback;\n        callback(component.$$.ctx[index]);\n    }\n}\nfunction create_component(block) {\n    block && block.c();\n}\nfunction claim_component(block, parent_nodes) {\n    block && block.l(parent_nodes);\n}\nfunction mount_component(component, target, anchor, customElement) {\n    const { fragment, on_mount, on_destroy, after_update } = component.$$;\n    fragment && fragment.m(target, anchor);\n    if (!customElement) {\n        // onMount happens before the initial afterUpdate\n        add_render_callback(() => {\n            const new_on_destroy = on_mount.map(run).filter(is_function);\n            if (on_destroy) {\n                on_destroy.push(...new_on_destroy);\n            }\n            else {\n                // Edge case - component was destroyed immediately,\n                // most likely as a result of a binding initialising\n                run_all(new_on_destroy);\n            }\n            component.$$.on_mount = [];\n        });\n    }\n    after_update.forEach(add_render_callback);\n}\nfunction destroy_component(component, detaching) {\n    const $$ = component.$$;\n    if ($$.fragment !== null) {\n        run_all($$.on_destroy);\n        $$.fragment && $$.fragment.d(detaching);\n        // TODO null out other refs, including component.$$ (but need to\n        // preserve final state?)\n        $$.on_destroy = $$.fragment = null;\n        $$.ctx = [];\n    }\n}\nfunction make_dirty(component, i) {\n    if (component.$$.dirty[0] === -1) {\n        dirty_components.push(component);\n        schedule_update();\n        component.$$.dirty.fill(0);\n    }\n    component.$$.dirty[(i / 31) | 0] |= (1 << (i % 31));\n}\nfunction init(component, options, instance, create_fragment, not_equal, props, append_styles, dirty = [-1]) {\n    const parent_component = current_component;\n    set_current_component(component);\n    const $$ = component.$$ = {\n        fragment: null,\n        ctx: null,\n        // state\n        props,\n        update: noop,\n        not_equal,\n        bound: blank_object(),\n        // lifecycle\n        on_mount: [],\n        on_destroy: [],\n        on_disconnect: [],\n        before_update: [],\n        after_update: [],\n        context: new Map(options.context || (parent_component ? parent_component.$$.context : [])),\n        // everything else\n        callbacks: blank_object(),\n        dirty,\n        skip_bound: false,\n        root: options.target || parent_component.$$.root\n    };\n    append_styles && append_styles($$.root);\n    let ready = false;\n    $$.ctx = instance\n        ? instance(component, options.props || {}, (i, ret, ...rest) => {\n            const value = rest.length ? rest[0] : ret;\n            if ($$.ctx && not_equal($$.ctx[i], $$.ctx[i] = value)) {\n                if (!$$.skip_bound && $$.bound[i])\n                    $$.bound[i](value);\n                if (ready)\n                    make_dirty(component, i);\n            }\n            return ret;\n        })\n        : [];\n    $$.update();\n    ready = true;\n    run_all($$.before_update);\n    // `false` as a special case of no DOM component\n    $$.fragment = create_fragment ? create_fragment($$.ctx) : false;\n    if (options.target) {\n        if (options.hydrate) {\n            start_hydrating();\n            const nodes = children(options.target);\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            $$.fragment && $$.fragment.l(nodes);\n            nodes.forEach(detach);\n        }\n        else {\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            $$.fragment && $$.fragment.c();\n        }\n        if (options.intro)\n            transition_in(component.$$.fragment);\n        mount_component(component, options.target, options.anchor, options.customElement);\n        end_hydrating();\n        flush();\n    }\n    set_current_component(parent_component);\n}\nlet SvelteElement;\nif (typeof HTMLElement === 'function') {\n    SvelteElement = class extends HTMLElement {\n        constructor() {\n            super();\n            this.attachShadow({ mode: 'open' });\n        }\n        connectedCallback() {\n            const { on_mount } = this.$$;\n            this.$$.on_disconnect = on_mount.map(run).filter(is_function);\n            // @ts-ignore todo: improve typings\n            for (const key in this.$$.slotted) {\n                // @ts-ignore todo: improve typings\n                this.appendChild(this.$$.slotted[key]);\n            }\n        }\n        attributeChangedCallback(attr, _oldValue, newValue) {\n            this[attr] = newValue;\n        }\n        disconnectedCallback() {\n            run_all(this.$$.on_disconnect);\n        }\n        $destroy() {\n            destroy_component(this, 1);\n            this.$destroy = noop;\n        }\n        $on(type, callback) {\n            // TODO should this delegate to addEventListener?\n            const callbacks = (this.$$.callbacks[type] || (this.$$.callbacks[type] = []));\n            callbacks.push(callback);\n            return () => {\n                const index = callbacks.indexOf(callback);\n                if (index !== -1)\n                    callbacks.splice(index, 1);\n            };\n        }\n        $set($$props) {\n            if (this.$$set && !is_empty($$props)) {\n                this.$$.skip_bound = true;\n                this.$$set($$props);\n                this.$$.skip_bound = false;\n            }\n        }\n    };\n}\n/**\n * Base class for Svelte components. Used when dev=false.\n */\nclass SvelteComponent {\n    $destroy() {\n        destroy_component(this, 1);\n        this.$destroy = noop;\n    }\n    $on(type, callback) {\n        const callbacks = (this.$$.callbacks[type] || (this.$$.callbacks[type] = []));\n        callbacks.push(callback);\n        return () => {\n            const index = callbacks.indexOf(callback);\n            if (index !== -1)\n                callbacks.splice(index, 1);\n        };\n    }\n    $set($$props) {\n        if (this.$$set && !is_empty($$props)) {\n            this.$$.skip_bound = true;\n            this.$$set($$props);\n            this.$$.skip_bound = false;\n        }\n    }\n}\n\nfunction dispatch_dev(type, detail) {\n    document.dispatchEvent(custom_event(type, Object.assign({ version: '3.44.2' }, detail), true));\n}\nfunction append_dev(target, node) {\n    dispatch_dev('SvelteDOMInsert', { target, node });\n    append(target, node);\n}\nfunction append_hydration_dev(target, node) {\n    dispatch_dev('SvelteDOMInsert', { target, node });\n    append_hydration(target, node);\n}\nfunction insert_dev(target, node, anchor) {\n    dispatch_dev('SvelteDOMInsert', { target, node, anchor });\n    insert(target, node, anchor);\n}\nfunction insert_hydration_dev(target, node, anchor) {\n    dispatch_dev('SvelteDOMInsert', { target, node, anchor });\n    insert_hydration(target, node, anchor);\n}\nfunction detach_dev(node) {\n    dispatch_dev('SvelteDOMRemove', { node });\n    detach(node);\n}\nfunction detach_between_dev(before, after) {\n    while (before.nextSibling && before.nextSibling !== after) {\n        detach_dev(before.nextSibling);\n    }\n}\nfunction detach_before_dev(after) {\n    while (after.previousSibling) {\n        detach_dev(after.previousSibling);\n    }\n}\nfunction detach_after_dev(before) {\n    while (before.nextSibling) {\n        detach_dev(before.nextSibling);\n    }\n}\nfunction listen_dev(node, event, handler, options, has_prevent_default, has_stop_propagation) {\n    const modifiers = options === true ? ['capture'] : options ? Array.from(Object.keys(options)) : [];\n    if (has_prevent_default)\n        modifiers.push('preventDefault');\n    if (has_stop_propagation)\n        modifiers.push('stopPropagation');\n    dispatch_dev('SvelteDOMAddEventListener', { node, event, handler, modifiers });\n    const dispose = listen(node, event, handler, options);\n    return () => {\n        dispatch_dev('SvelteDOMRemoveEventListener', { node, event, handler, modifiers });\n        dispose();\n    };\n}\nfunction attr_dev(node, attribute, value) {\n    attr(node, attribute, value);\n    if (value == null)\n        dispatch_dev('SvelteDOMRemoveAttribute', { node, attribute });\n    else\n        dispatch_dev('SvelteDOMSetAttribute', { node, attribute, value });\n}\nfunction prop_dev(node, property, value) {\n    node[property] = value;\n    dispatch_dev('SvelteDOMSetProperty', { node, property, value });\n}\nfunction dataset_dev(node, property, value) {\n    node.dataset[property] = value;\n    dispatch_dev('SvelteDOMSetDataset', { node, property, value });\n}\nfunction set_data_dev(text, data) {\n    data = '' + data;\n    if (text.wholeText === data)\n        return;\n    dispatch_dev('SvelteDOMSetData', { node: text, data });\n    text.data = data;\n}\nfunction validate_each_argument(arg) {\n    if (typeof arg !== 'string' && !(arg && typeof arg === 'object' && 'length' in arg)) {\n        let msg = '{#each} only iterates over array-like objects.';\n        if (typeof Symbol === 'function' && arg && Symbol.iterator in arg) {\n            msg += ' You can use a spread to convert this iterable into an array.';\n        }\n        throw new Error(msg);\n    }\n}\nfunction validate_slots(name, slot, keys) {\n    for (const slot_key of Object.keys(slot)) {\n        if (!~keys.indexOf(slot_key)) {\n            console.warn(`<${name}> received an unexpected slot \"${slot_key}\".`);\n        }\n    }\n}\n/**\n * Base class for Svelte components with some minor dev-enhancements. Used when dev=true.\n */\nclass SvelteComponentDev extends SvelteComponent {\n    constructor(options) {\n        if (!options || (!options.target && !options.$$inline)) {\n            throw new Error(\"'target' is a required option\");\n        }\n        super();\n    }\n    $destroy() {\n        super.$destroy();\n        this.$destroy = () => {\n            console.warn('Component was already destroyed'); // eslint-disable-line no-console\n        };\n    }\n    $capture_state() { }\n    $inject_state() { }\n}\n/**\n * Base class to create strongly typed Svelte components.\n * This only exists for typing purposes and should be used in `.d.ts` files.\n *\n * ### Example:\n *\n * You have component library on npm called `component-library`, from which\n * you export a component called `MyComponent`. For Svelte+TypeScript users,\n * you want to provide typings. Therefore you create a `index.d.ts`:\n * ```ts\n * import { SvelteComponentTyped } from \"svelte\";\n * export class MyComponent extends SvelteComponentTyped<{foo: string}> {}\n * ```\n * Typing this makes it possible for IDEs like VS Code with the Svelte extension\n * to provide intellisense and to use the component like this in a Svelte file\n * with TypeScript:\n * ```svelte\n * <script lang=\"ts\">\n * \timport { MyComponent } from \"component-library\";\n * </script>\n * <MyComponent foo={'bar'} />\n * ```\n *\n * #### Why not make this part of `SvelteComponent(Dev)`?\n * Because\n * ```ts\n * class ASubclassOfSvelteComponent extends SvelteComponent<{foo: string}> {}\n * const component: typeof SvelteComponent = ASubclassOfSvelteComponent;\n * ```\n * will throw a type error, so we need to separate the more strictly typed class.\n */\nclass SvelteComponentTyped extends SvelteComponentDev {\n    constructor(options) {\n        super(options);\n    }\n}\nfunction loop_guard(timeout) {\n    const start = Date.now();\n    return () => {\n        if (Date.now() - start > timeout) {\n            throw new Error('Infinite loop detected');\n        }\n    };\n}\n\nexport { HtmlTag, HtmlTagHydration, SvelteComponent, SvelteComponentDev, SvelteComponentTyped, SvelteElement, action_destroyer, add_attribute, add_classes, add_flush_callback, add_location, add_render_callback, add_resize_listener, add_transform, afterUpdate, append, append_dev, append_empty_stylesheet, append_hydration, append_hydration_dev, append_styles, assign, attr, attr_dev, attribute_to_object, beforeUpdate, bind, binding_callbacks, blank_object, bubble, check_outros, children, claim_component, claim_element, claim_html_tag, claim_space, claim_svg_element, claim_text, clear_loops, component_subscribe, compute_rest_props, compute_slots, createEventDispatcher, create_animation, create_bidirectional_transition, create_component, create_in_transition, create_out_transition, create_slot, create_ssr_component, current_component, custom_event, dataset_dev, debug, destroy_block, destroy_component, destroy_each, detach, detach_after_dev, detach_before_dev, detach_between_dev, detach_dev, dirty_components, dispatch_dev, each, element, element_is, empty, end_hydrating, escape, escape_attribute_value, escape_object, escaped, exclude_internal_props, fix_and_destroy_block, fix_and_outro_and_destroy_block, fix_position, flush, getAllContexts, getContext, get_all_dirty_from_scope, get_binding_group_value, get_current_component, get_custom_elements_slots, get_root_for_style, get_slot_changes, get_spread_object, get_spread_update, get_store_value, globals, group_outros, handle_promise, hasContext, has_prop, identity, init, insert, insert_dev, insert_hydration, insert_hydration_dev, intros, invalid_attribute_name_character, is_client, is_crossorigin, is_empty, is_function, is_promise, listen, listen_dev, loop, loop_guard, missing_component, mount_component, noop, not_equal, now, null_to_empty, object_without_properties, onDestroy, onMount, once, outro_and_destroy_block, prevent_default, prop_dev, query_selector_all, raf, run, run_all, safe_not_equal, schedule_update, select_multiple_value, select_option, select_options, select_value, self, setContext, set_attributes, set_current_component, set_custom_element_data, set_data, set_data_dev, set_input_type, set_input_value, set_now, set_raf, set_store_value, set_style, set_svg_attributes, space, spread, src_url_equal, start_hydrating, stop_propagation, subscribe, svg_element, text, tick, time_ranges_to_array, to_number, toggle_class, transition_in, transition_out, trusted, update_await_block_branch, update_keyed_each, update_slot, update_slot_base, validate_component, validate_each_argument, validate_each_keys, validate_slots, validate_store, xlink_attr };\n","export default function dropZone(node, options) {\n    node.ondragover = () => { return false; };\n    node.addEventListener('drop', (e) => {\n        e.preventDefault();\n        e.stopPropagation();\n        const data = e.dataTransfer.getData(options.key);\n        if (data == \"\") {\n            return;\n        }\n        const object = JSON.parse(data);\n        const clientX = e.clientX;\n        const clientY = e.clientY;\n        options.callback(object, clientX, clientY);\n    });\n}\n","export default function dragSource(node, options) {\n    node.draggable = true;\n    node.addEventListener('dragstart', (e) => {\n        e.dataTransfer.setData(options.key, JSON.stringify(options.object));\n    });\n}\n","<script lang=\"ts\">\n    import { dragSource } from '../../../../actions';\n    import type {DragSourceOptions} from '../../../../actions';\n\n    export let clipname = 'ClipName';\n\n    let dragSourceOptions: DragSourceOptions<string> = {\n        key: 'clipObject',\n        object: clipname\n    };\n</script>\n\n<div use:dragSource={dragSourceOptions}  class=\"container\">\n    <div class=\"clipname\">{clipname}</div>\n</div>\n\n<style lang=\"scss\">\n    .container {\n        background: var(--theme-colors-background-primary);\n        border: 2px solid var(--theme-colors-border);\n        border-radius: 10px;\n        width: 100%;\n        height: 30px;\n        display: flex;\n        overflow: hidden;\n        white-space: nowrap;\n\n        .clipname {\n            text-overflow: ellipsis;\n            user-select: none;\n            font-size: 14px;\n            font-family: var(--theme-fonts-title), sans-serif;\n            margin: auto 0px auto 10px;\n            color: var(--theme-fonts-color);\n        }\n    }\n</style>\n","<script lang=\"ts\">\n    export let height: number = 50;\n    export let width: number = 50;\n    export let files: FileList;\n\n    const sprite = 'assets/Add.svg';\n</script>\n\n<label on:click style={`--width:${width}px; --height:${height}px;`}>\n    <img alt=\"AddTrackButton\" src={sprite} />\n    <input bind:files type=\"file\" accept=\"audio/*\" multiple required={false} />\n</label>\n\n<style lang=\"scss\">\n    input[type='file'] {\n        display: none;\n    }\n\n    label {\n        border: none;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        height: var(--height);\n        width: var(--width);\n        border-radius: 10px;\n        position: absolute;\n        left: 0;\n        background-color: var(--theme-colors-backgournd-primary);\n\n        &:hover {\n            background-color: var(--theme-colors-button-hover);\n        }\n\n        &:active {\n            background-color: var(--theme-colors-button-active);\n        }\n\n        img {\n            width: 40%;\n            height: 40%;\n        }\n    }\n</style>\n","import { noop, safe_not_equal, subscribe, run_all, is_function } from '../internal/index.mjs';\nexport { get_store_value as get } from '../internal/index.mjs';\n\nconst subscriber_queue = [];\n/**\n * Creates a `Readable` store that allows reading by subscription.\n * @param value initial value\n * @param {StartStopNotifier}start start and stop notifications for subscriptions\n */\nfunction readable(value, start) {\n    return {\n        subscribe: writable(value, start).subscribe\n    };\n}\n/**\n * Create a `Writable` store that allows both updating and reading by subscription.\n * @param {*=}value initial value\n * @param {StartStopNotifier=}start start and stop notifications for subscriptions\n */\nfunction writable(value, start = noop) {\n    let stop;\n    const subscribers = new Set();\n    function set(new_value) {\n        if (safe_not_equal(value, new_value)) {\n            value = new_value;\n            if (stop) { // store is ready\n                const run_queue = !subscriber_queue.length;\n                for (const subscriber of subscribers) {\n                    subscriber[1]();\n                    subscriber_queue.push(subscriber, value);\n                }\n                if (run_queue) {\n                    for (let i = 0; i < subscriber_queue.length; i += 2) {\n                        subscriber_queue[i][0](subscriber_queue[i + 1]);\n                    }\n                    subscriber_queue.length = 0;\n                }\n            }\n        }\n    }\n    function update(fn) {\n        set(fn(value));\n    }\n    function subscribe(run, invalidate = noop) {\n        const subscriber = [run, invalidate];\n        subscribers.add(subscriber);\n        if (subscribers.size === 1) {\n            stop = start(set) || noop;\n        }\n        run(value);\n        return () => {\n            subscribers.delete(subscriber);\n            if (subscribers.size === 0) {\n                stop();\n                stop = null;\n            }\n        };\n    }\n    return { set, update, subscribe };\n}\nfunction derived(stores, fn, initial_value) {\n    const single = !Array.isArray(stores);\n    const stores_array = single\n        ? [stores]\n        : stores;\n    const auto = fn.length < 2;\n    return readable(initial_value, (set) => {\n        let inited = false;\n        const values = [];\n        let pending = 0;\n        let cleanup = noop;\n        const sync = () => {\n            if (pending) {\n                return;\n            }\n            cleanup();\n            const result = fn(single ? values[0] : values, set);\n            if (auto) {\n                set(result);\n            }\n            else {\n                cleanup = is_function(result) ? result : noop;\n            }\n        };\n        const unsubscribers = stores_array.map((store, i) => subscribe(store, (value) => {\n            values[i] = value;\n            pending &= ~(1 << i);\n            if (inited) {\n                sync();\n            }\n        }, () => {\n            pending |= (1 << i);\n        }));\n        inited = true;\n        sync();\n        return function stop() {\n            run_all(unsubscribers);\n            cleanup();\n        };\n    });\n}\n\nexport { derived, readable, writable };\n","\nconst lAudioContext = (typeof AudioContext !== 'undefined' ? AudioContext : (typeof webkitAudioContext !== 'undefined' ? webkitAudioContext : undefined));\nlet wasm;\n\nconst heap = new Array(32).fill(undefined);\n\nheap.push(undefined, null, true, false);\n\nfunction getObject(idx) { return heap[idx]; }\n\nlet heap_next = heap.length;\n\nfunction dropObject(idx) {\n    if (idx < 36) return;\n    heap[idx] = heap_next;\n    heap_next = idx;\n}\n\nfunction takeObject(idx) {\n    const ret = getObject(idx);\n    dropObject(idx);\n    return ret;\n}\n\nlet cachedTextDecoder = new TextDecoder('utf-8', { ignoreBOM: true, fatal: true });\n\ncachedTextDecoder.decode();\n\nlet cachegetUint8Memory0 = null;\nfunction getUint8Memory0() {\n    if (cachegetUint8Memory0 === null || cachegetUint8Memory0.buffer !== wasm.memory.buffer) {\n        cachegetUint8Memory0 = new Uint8Array(wasm.memory.buffer);\n    }\n    return cachegetUint8Memory0;\n}\n\nfunction getStringFromWasm0(ptr, len) {\n    return cachedTextDecoder.decode(getUint8Memory0().subarray(ptr, ptr + len));\n}\n\nfunction addHeapObject(obj) {\n    if (heap_next === heap.length) heap.push(heap.length + 1);\n    const idx = heap_next;\n    heap_next = heap[idx];\n\n    heap[idx] = obj;\n    return idx;\n}\n\nlet WASM_VECTOR_LEN = 0;\n\nlet cachedTextEncoder = new TextEncoder('utf-8');\n\nconst encodeString = (typeof cachedTextEncoder.encodeInto === 'function'\n    ? function (arg, view) {\n    return cachedTextEncoder.encodeInto(arg, view);\n}\n    : function (arg, view) {\n    const buf = cachedTextEncoder.encode(arg);\n    view.set(buf);\n    return {\n        read: arg.length,\n        written: buf.length\n    };\n});\n\nfunction passStringToWasm0(arg, malloc, realloc) {\n\n    if (realloc === undefined) {\n        const buf = cachedTextEncoder.encode(arg);\n        const ptr = malloc(buf.length);\n        getUint8Memory0().subarray(ptr, ptr + buf.length).set(buf);\n        WASM_VECTOR_LEN = buf.length;\n        return ptr;\n    }\n\n    let len = arg.length;\n    let ptr = malloc(len);\n\n    const mem = getUint8Memory0();\n\n    let offset = 0;\n\n    for (; offset < len; offset++) {\n        const code = arg.charCodeAt(offset);\n        if (code > 0x7F) break;\n        mem[ptr + offset] = code;\n    }\n\n    if (offset !== len) {\n        if (offset !== 0) {\n            arg = arg.slice(offset);\n        }\n        ptr = realloc(ptr, len, len = offset + arg.length * 3);\n        const view = getUint8Memory0().subarray(ptr + offset, ptr + len);\n        const ret = encodeString(arg, view);\n\n        offset += ret.written;\n    }\n\n    WASM_VECTOR_LEN = offset;\n    return ptr;\n}\n\nfunction isLikeNone(x) {\n    return x === undefined || x === null;\n}\n\nlet cachegetInt32Memory0 = null;\nfunction getInt32Memory0() {\n    if (cachegetInt32Memory0 === null || cachegetInt32Memory0.buffer !== wasm.memory.buffer) {\n        cachegetInt32Memory0 = new Int32Array(wasm.memory.buffer);\n    }\n    return cachegetInt32Memory0;\n}\n\nfunction debugString(val) {\n    // primitive types\n    const type = typeof val;\n    if (type == 'number' || type == 'boolean' || val == null) {\n        return  `${val}`;\n    }\n    if (type == 'string') {\n        return `\"${val}\"`;\n    }\n    if (type == 'symbol') {\n        const description = val.description;\n        if (description == null) {\n            return 'Symbol';\n        } else {\n            return `Symbol(${description})`;\n        }\n    }\n    if (type == 'function') {\n        const name = val.name;\n        if (typeof name == 'string' && name.length > 0) {\n            return `Function(${name})`;\n        } else {\n            return 'Function';\n        }\n    }\n    // objects\n    if (Array.isArray(val)) {\n        const length = val.length;\n        let debug = '[';\n        if (length > 0) {\n            debug += debugString(val[0]);\n        }\n        for(let i = 1; i < length; i++) {\n            debug += ', ' + debugString(val[i]);\n        }\n        debug += ']';\n        return debug;\n    }\n    // Test for built-in\n    const builtInMatches = /\\[object ([^\\]]+)\\]/.exec(toString.call(val));\n    let className;\n    if (builtInMatches.length > 1) {\n        className = builtInMatches[1];\n    } else {\n        // Failed to match the standard '[object ClassName]'\n        return toString.call(val);\n    }\n    if (className == 'Object') {\n        // we're a user defined class or Object\n        // JSON.stringify avoids problems with cycles, and is generally much\n        // easier than looping through ownProperties of `val`.\n        try {\n            return 'Object(' + JSON.stringify(val) + ')';\n        } catch (_) {\n            return 'Object';\n        }\n    }\n    // errors\n    if (val instanceof Error) {\n        return `${val.name}: ${val.message}\\n${val.stack}`;\n    }\n    // TODO we could test for more things here, like `Set`s and `Map`s.\n    return className;\n}\n\nfunction makeMutClosure(arg0, arg1, dtor, f) {\n    const state = { a: arg0, b: arg1, cnt: 1, dtor };\n    const real = (...args) => {\n        // First up with a closure we increment the internal reference\n        // count. This ensures that the Rust closure environment won't\n        // be deallocated while we're invoking it.\n        state.cnt++;\n        const a = state.a;\n        state.a = 0;\n        try {\n            return f(a, state.b, ...args);\n        } finally {\n            if (--state.cnt === 0) {\n                wasm.__wbindgen_export_2.get(state.dtor)(a, state.b);\n\n            } else {\n                state.a = a;\n            }\n        }\n    };\n    real.original = state;\n\n    return real;\n}\nfunction __wbg_adapter_20(arg0, arg1, arg2) {\n    wasm._dyn_core__ops__function__FnMut__A____Output___R_as_wasm_bindgen__closure__WasmClosure___describe__invoke__h2105f326b72972f7(arg0, arg1, addHeapObject(arg2));\n}\n\nconst u32CvtShim = new Uint32Array(2);\n\nconst int64CvtShim = new BigInt64Array(u32CvtShim.buffer);\n\nconst uint64CvtShim = new BigUint64Array(u32CvtShim.buffer);\n\nfunction _assertClass(instance, klass) {\n    if (!(instance instanceof klass)) {\n        throw new Error(`expected instance of ${klass.name}`);\n    }\n    return instance.ptr;\n}\n\nfunction passArray8ToWasm0(arg, malloc) {\n    const ptr = malloc(arg.length * 1);\n    getUint8Memory0().set(arg, ptr / 1);\n    WASM_VECTOR_LEN = arg.length;\n    return ptr;\n}\n\nlet cachegetFloat64Memory0 = null;\nfunction getFloat64Memory0() {\n    if (cachegetFloat64Memory0 === null || cachegetFloat64Memory0.buffer !== wasm.memory.buffer) {\n        cachegetFloat64Memory0 = new Float64Array(wasm.memory.buffer);\n    }\n    return cachegetFloat64Memory0;\n}\n\nfunction handleError(f, args) {\n    try {\n        return f.apply(this, args);\n    } catch (e) {\n        wasm.__wbindgen_exn_store(addHeapObject(e));\n    }\n}\n\nlet cachegetFloat32Memory0 = null;\nfunction getFloat32Memory0() {\n    if (cachegetFloat32Memory0 === null || cachegetFloat32Memory0.buffer !== wasm.memory.buffer) {\n        cachegetFloat32Memory0 = new Float32Array(wasm.memory.buffer);\n    }\n    return cachegetFloat32Memory0;\n}\n\nfunction getArrayF32FromWasm0(ptr, len) {\n    return getFloat32Memory0().subarray(ptr / 4, ptr / 4 + len);\n}\nfunction __wbg_adapter_259(arg0, arg1, arg2, arg3) {\n    wasm.wasm_bindgen__convert__closures__invoke2_mut__h0567eb209159ce2b(arg0, arg1, addHeapObject(arg2), addHeapObject(arg3));\n}\n\n/**\n*/\nexport const KnobKind = Object.freeze({ Absolute:0,\"0\":\"Absolute\",Relative:1,\"1\":\"Relative\", });\n/**\n*/\nexport const KnobMode = Object.freeze({\n/**\n* The value of the knob is a linear ramp from the current value to the target value.\n*/\nLinear:0,\"0\":\"Linear\",\n/**\n* The value of the knob is a exponential ramp from the current value to the target value.\n*/\nExponential:1,\"1\":\"Exponential\",\n/**\n* The value of the knob is a logarithmic ramp from the current value to the target value.\n*/\nLogarithmic:2,\"2\":\"Logarithmic\", });\n/**\n*/\nexport class AudioBufferSourceFactory {\n\n    __destroy_into_raw() {\n        const ptr = this.ptr;\n        this.ptr = 0;\n\n        return ptr;\n    }\n\n    free() {\n        const ptr = this.__destroy_into_raw();\n        wasm.__wbg_audiobuffersourcefactory_free(ptr);\n    }\n}\n/**\n*/\nexport class AudioBufferWrapper {\n\n    __destroy_into_raw() {\n        const ptr = this.ptr;\n        this.ptr = 0;\n\n        return ptr;\n    }\n\n    free() {\n        const ptr = this.__destroy_into_raw();\n        wasm.__wbg_audiobufferwrapper_free(ptr);\n    }\n}\n/**\n*/\nexport class AudioModule {\n\n    __destroy_into_raw() {\n        const ptr = this.ptr;\n        this.ptr = 0;\n\n        return ptr;\n    }\n\n    free() {\n        const ptr = this.__destroy_into_raw();\n        wasm.__wbg_audiomodule_free(ptr);\n    }\n    /**\n    */\n    get id() {\n        var ret = wasm.__wbg_get_audiomodule_id(this.ptr);\n        return ModuleId.__wrap(ret);\n    }\n    /**\n    * @param {ModuleId} arg0\n    */\n    set id(arg0) {\n        _assertClass(arg0, ModuleId);\n        var ptr0 = arg0.ptr;\n        arg0.ptr = 0;\n        wasm.__wbg_set_audiomodule_id(this.ptr, ptr0);\n    }\n    /**\n    */\n    get x() {\n        var ret = wasm.__wbg_get_audiomodule_x(this.ptr);\n        return ret >>> 0;\n    }\n    /**\n    * @param {number} arg0\n    */\n    set x(arg0) {\n        wasm.__wbg_set_audiomodule_x(this.ptr, arg0);\n    }\n    /**\n    */\n    get y() {\n        var ret = wasm.__wbg_get_audiomodule_y(this.ptr);\n        return ret >>> 0;\n    }\n    /**\n    * @param {number} arg0\n    */\n    set y(arg0) {\n        wasm.__wbg_set_audiomodule_y(this.ptr, arg0);\n    }\n}\n/**\n*/\nexport class BiquadFilterFactory {\n\n    __destroy_into_raw() {\n        const ptr = this.ptr;\n        this.ptr = 0;\n\n        return ptr;\n    }\n\n    free() {\n        const ptr = this.__destroy_into_raw();\n        wasm.__wbg_biquadfilterfactory_free(ptr);\n    }\n}\n/**\n* Represents the ID of a buffer inside the audio engine storage.\n*/\nexport class BufferId {\n\n    static __wrap(ptr) {\n        const obj = Object.create(BufferId.prototype);\n        obj.ptr = ptr;\n\n        return obj;\n    }\n\n    __destroy_into_raw() {\n        const ptr = this.ptr;\n        this.ptr = 0;\n\n        return ptr;\n    }\n\n    free() {\n        const ptr = this.__destroy_into_raw();\n        wasm.__wbg_bufferid_free(ptr);\n    }\n}\n/**\n*/\nexport class ChannelMergerFactory {\n\n    __destroy_into_raw() {\n        const ptr = this.ptr;\n        this.ptr = 0;\n\n        return ptr;\n    }\n\n    free() {\n        const ptr = this.__destroy_into_raw();\n        wasm.__wbg_channelmergerfactory_free(ptr);\n    }\n}\n/**\n*/\nexport class ChannelSplitterFactory {\n\n    __destroy_into_raw() {\n        const ptr = this.ptr;\n        this.ptr = 0;\n\n        return ptr;\n    }\n\n    free() {\n        const ptr = this.__destroy_into_raw();\n        wasm.__wbg_channelsplitterfactory_free(ptr);\n    }\n}\n/**\n* Represents the ID of a clip inside the audio engine storage.\n*/\nexport class ClipId {\n\n    static __wrap(ptr) {\n        const obj = Object.create(ClipId.prototype);\n        obj.ptr = ptr;\n\n        return obj;\n    }\n\n    __destroy_into_raw() {\n        const ptr = this.ptr;\n        this.ptr = 0;\n\n        return ptr;\n    }\n\n    free() {\n        const ptr = this.__destroy_into_raw();\n        wasm.__wbg_clipid_free(ptr);\n    }\n}\n/**\n*/\nexport class ConstantSourceFactory {\n\n    __destroy_into_raw() {\n        const ptr = this.ptr;\n        this.ptr = 0;\n\n        return ptr;\n    }\n\n    free() {\n        const ptr = this.__destroy_into_raw();\n        wasm.__wbg_constantsourcefactory_free(ptr);\n    }\n}\n/**\n*/\nexport class ConvolverFactory {\n\n    __destroy_into_raw() {\n        const ptr = this.ptr;\n        this.ptr = 0;\n\n        return ptr;\n    }\n\n    free() {\n        const ptr = this.__destroy_into_raw();\n        wasm.__wbg_convolverfactory_free(ptr);\n    }\n}\n/**\n*/\nexport class DelayFactory {\n\n    __destroy_into_raw() {\n        const ptr = this.ptr;\n        this.ptr = 0;\n\n        return ptr;\n    }\n\n    free() {\n        const ptr = this.__destroy_into_raw();\n        wasm.__wbg_delayfactory_free(ptr);\n    }\n}\n/**\n*/\nexport class DestinationFactory {\n\n    __destroy_into_raw() {\n        const ptr = this.ptr;\n        this.ptr = 0;\n\n        return ptr;\n    }\n\n    free() {\n        const ptr = this.__destroy_into_raw();\n        wasm.__wbg_destinationfactory_free(ptr);\n    }\n}\n/**\n*/\nexport class DynamicsCompressorFactory {\n\n    __destroy_into_raw() {\n        const ptr = this.ptr;\n        this.ptr = 0;\n\n        return ptr;\n    }\n\n    free() {\n        const ptr = this.__destroy_into_raw();\n        wasm.__wbg_dynamicscompressorfactory_free(ptr);\n    }\n}\n/**\n*/\nexport class GainFactory {\n\n    __destroy_into_raw() {\n        const ptr = this.ptr;\n        this.ptr = 0;\n\n        return ptr;\n    }\n\n    free() {\n        const ptr = this.__destroy_into_raw();\n        wasm.__wbg_gainfactory_free(ptr);\n    }\n}\n/**\n* Represents a link's data. It can be either plugged to Track or a Node and hold it's output index.\n*/\nexport class Link {\n\n    static __wrap(ptr) {\n        const obj = Object.create(Link.prototype);\n        obj.ptr = ptr;\n\n        return obj;\n    }\n\n    __destroy_into_raw() {\n        const ptr = this.ptr;\n        this.ptr = 0;\n\n        return ptr;\n    }\n\n    free() {\n        const ptr = this.__destroy_into_raw();\n        wasm.__wbg_link_free(ptr);\n    }\n    /**\n    */\n    get track() {\n        var ret = wasm.__wbg_get_link_track(this.ptr);\n        return ret === 0 ? undefined : TrackId.__wrap(ret);\n    }\n    /**\n    * @param {TrackId | undefined} arg0\n    */\n    set track(arg0) {\n        let ptr0 = 0;\n        if (!isLikeNone(arg0)) {\n            _assertClass(arg0, TrackId);\n            ptr0 = arg0.ptr;\n            arg0.ptr = 0;\n        }\n        wasm.__wbg_set_link_track(this.ptr, ptr0);\n    }\n    /**\n    */\n    get node() {\n        var ret = wasm.__wbg_get_link_node(this.ptr);\n        return ret === 0 ? undefined : NodeId.__wrap(ret);\n    }\n    /**\n    * @param {NodeId | undefined} arg0\n    */\n    set node(arg0) {\n        let ptr0 = 0;\n        if (!isLikeNone(arg0)) {\n            _assertClass(arg0, NodeId);\n            ptr0 = arg0.ptr;\n            arg0.ptr = 0;\n        }\n        wasm.__wbg_set_link_node(this.ptr, ptr0);\n    }\n    /**\n    */\n    get output_index() {\n        var ret = wasm.__wbg_get_link_output_index(this.ptr);\n        return ret >>> 0;\n    }\n    /**\n    * @param {number} arg0\n    */\n    set output_index(arg0) {\n        wasm.__wbg_set_link_output_index(this.ptr, arg0);\n    }\n    /**\n    * Returns `TrackId` associated to the `Link`.\n    * @returns {TrackId | undefined}\n    */\n    get_track() {\n        var ret = wasm.link_get_track(this.ptr);\n        return ret === 0 ? undefined : TrackId.__wrap(ret);\n    }\n    /**\n    * Returns `NodeId` associated to the `Link`.\n    * @returns {NodeId | undefined}\n    */\n    get_node() {\n        var ret = wasm.link_get_node(this.ptr);\n        return ret === 0 ? undefined : NodeId.__wrap(ret);\n    }\n    /**\n    * Returns index associated to the `Link`.\n    * @returns {number}\n    */\n    get_output_index() {\n        var ret = wasm.__wbg_get_link_output_index(this.ptr);\n        return ret >>> 0;\n    }\n}\n/**\n*/\nexport class MixerFactory {\n\n    __destroy_into_raw() {\n        const ptr = this.ptr;\n        this.ptr = 0;\n\n        return ptr;\n    }\n\n    free() {\n        const ptr = this.__destroy_into_raw();\n        wasm.__wbg_mixerfactory_free(ptr);\n    }\n}\n/**\n* Represents the module's type in the engine logic.\n*/\nexport class ModuleId {\n\n    static __wrap(ptr) {\n        const obj = Object.create(ModuleId.prototype);\n        obj.ptr = ptr;\n\n        return obj;\n    }\n\n    __destroy_into_raw() {\n        const ptr = this.ptr;\n        this.ptr = 0;\n\n        return ptr;\n    }\n\n    free() {\n        const ptr = this.__destroy_into_raw();\n        wasm.__wbg_moduleid_free(ptr);\n    }\n}\n/**\n* Represents the module's ID in the storage of the engine\n*/\nexport class ModuleInstanceId {\n\n    static __wrap(ptr) {\n        const obj = Object.create(ModuleInstanceId.prototype);\n        obj.ptr = ptr;\n\n        return obj;\n    }\n\n    __destroy_into_raw() {\n        const ptr = this.ptr;\n        this.ptr = 0;\n\n        return ptr;\n    }\n\n    free() {\n        const ptr = this.__destroy_into_raw();\n        wasm.__wbg_moduleinstanceid_free(ptr);\n    }\n}\n/**\n* Represents the ID of a node instance inside the engine's graph storage.\n*/\nexport class NodeId {\n\n    static __wrap(ptr) {\n        const obj = Object.create(NodeId.prototype);\n        obj.ptr = ptr;\n\n        return obj;\n    }\n\n    __destroy_into_raw() {\n        const ptr = this.ptr;\n        this.ptr = 0;\n\n        return ptr;\n    }\n\n    free() {\n        const ptr = this.__destroy_into_raw();\n        wasm.__wbg_nodeid_free(ptr);\n    }\n}\n/**\n*/\nexport class OscillatorFactory {\n\n    __destroy_into_raw() {\n        const ptr = this.ptr;\n        this.ptr = 0;\n\n        return ptr;\n    }\n\n    free() {\n        const ptr = this.__destroy_into_raw();\n        wasm.__wbg_oscillatorfactory_free(ptr);\n    }\n}\n/**\n*/\nexport class Project {\n\n    static __wrap(ptr) {\n        const obj = Object.create(Project.prototype);\n        obj.ptr = ptr;\n\n        return obj;\n    }\n\n    __destroy_into_raw() {\n        const ptr = this.ptr;\n        this.ptr = 0;\n\n        return ptr;\n    }\n\n    free() {\n        const ptr = this.__destroy_into_raw();\n        wasm.__wbg_project_free(ptr);\n    }\n    /**\n    * Instantiates a new project.\n    * @param {string} name\n    */\n    constructor(name) {\n        var ptr0 = passStringToWasm0(name, wasm.__wbindgen_malloc, wasm.__wbindgen_realloc);\n        var len0 = WASM_VECTOR_LEN;\n        var ret = wasm.project_new(ptr0, len0);\n        return Project.__wrap(ret);\n    }\n    /**\n    * Returns the project's name\n    * @returns {string}\n    */\n    name() {\n        try {\n            const retptr = wasm.__wbindgen_add_to_stack_pointer(-16);\n            wasm.project_name(retptr, this.ptr);\n            var r0 = getInt32Memory0()[retptr / 4 + 0];\n            var r1 = getInt32Memory0()[retptr / 4 + 1];\n            return getStringFromWasm0(r0, r1);\n        } finally {\n            wasm.__wbindgen_add_to_stack_pointer(16);\n            wasm.__wbindgen_free(r0, r1);\n        }\n    }\n    /**\n    * Returns the project's tempo\n    * @returns {number}\n    */\n    tempo() {\n        var ret = wasm.project_tempo(this.ptr);\n        return ret;\n    }\n    /**\n    * Returns the project's global volume\n    * @returns {number}\n    */\n    volume() {\n        var ret = wasm.project_volume(this.ptr);\n        return ret;\n    }\n    /**\n    * Sets the project's tempo\n    * @param {number} tempo\n    */\n    set_tempo(tempo) {\n        wasm.project_set_tempo(this.ptr, tempo);\n    }\n    /**\n    * Sets the project's global volume\n    * @param {number} volume\n    */\n    set_volume(volume) {\n        wasm.project_set_volume(this.ptr, volume);\n    }\n    /**\n    * Get the duration of a single quartz\n    * @returns {number}\n    */\n    quartz() {\n        var ret = wasm.project_quartz(this.ptr);\n        return ret;\n    }\n    /**\n    * Convert a quartz position to seconds.\n    * @param {BigInt} pos\n    * @returns {number}\n    */\n    quartz_to_secs(pos) {\n        int64CvtShim[0] = pos;\n        const low0 = u32CvtShim[0];\n        const high0 = u32CvtShim[1];\n        var ret = wasm.project_quartz_to_secs(this.ptr, low0, high0);\n        return ret;\n    }\n    /**\n    * Convert seconds to quartz.\n    * @param {number} secs\n    * @returns {BigInt}\n    */\n    secs_to_quartz(secs) {\n        try {\n            const retptr = wasm.__wbindgen_add_to_stack_pointer(-16);\n            wasm.project_secs_to_quartz(retptr, this.ptr, secs);\n            var r0 = getInt32Memory0()[retptr / 4 + 0];\n            var r1 = getInt32Memory0()[retptr / 4 + 1];\n            u32CvtShim[0] = r0;\n            u32CvtShim[1] = r1;\n            const n0 = int64CvtShim[0];\n            return n0;\n        } finally {\n            wasm.__wbindgen_add_to_stack_pointer(16);\n        }\n    }\n    /**\n    * Updates the name of the Project\n    * @param {string} name\n    */\n    set_name(name) {\n        var ptr0 = passStringToWasm0(name, wasm.__wbindgen_malloc, wasm.__wbindgen_realloc);\n        var len0 = WASM_VECTOR_LEN;\n        wasm.project_set_name(this.ptr, ptr0, len0);\n    }\n    /**\n    * Get current cursor position\n    * @returns {BigInt}\n    */\n    current_pos() {\n        try {\n            const retptr = wasm.__wbindgen_add_to_stack_pointer(-16);\n            wasm.project_current_pos(retptr, this.ptr);\n            var r0 = getInt32Memory0()[retptr / 4 + 0];\n            var r1 = getInt32Memory0()[retptr / 4 + 1];\n            u32CvtShim[0] = r0;\n            u32CvtShim[1] = r1;\n            const n0 = uint64CvtShim[0];\n            return n0;\n        } finally {\n            wasm.__wbindgen_add_to_stack_pointer(16);\n        }\n    }\n    /**\n    * Set current cursor position\n    * @param {BigInt} pos\n    */\n    set_cursor_pos(pos) {\n        uint64CvtShim[0] = pos;\n        const low0 = u32CvtShim[0];\n        const high0 = u32CvtShim[1];\n        wasm.project_set_cursor_pos(this.ptr, low0, high0);\n    }\n    /**\n    * Set current cursor position in seconds\n    * @param {number} pos\n    */\n    set_cursor_pos_secs(pos) {\n        wasm.project_set_cursor_pos_secs(this.ptr, pos);\n    }\n    /**\n    * Checks if the given index is a valid `Track` inside the Timeline.\n    * Returns `true` if the index is valid, `false` otherwise.\n    * @param {number} index\n    * @returns {boolean}\n    */\n    is_track_index_in_timeline(index) {\n        var ret = wasm.project_is_track_index_in_timeline(this.ptr, index);\n        return ret !== 0;\n    }\n    /**\n    * Get a `Track` by it's index inside the Timeline.\n    * @param {number} index\n    * @returns {TrackId}\n    */\n    get_track_by_index(index) {\n        var ret = wasm.project_get_track_by_index(this.ptr, index);\n        return TrackId.__wrap(ret);\n    }\n    /**\n    * Removes a `Track` from the Timeline by it's index inside the Timeline.\n    * @param {number} index\n    */\n    remove_track_by_index(index) {\n        wasm.project_remove_track_by_index(this.ptr, index);\n    }\n    /**\n    * Removes a `Track` from the Timeline by it's `TrackId` inside the Timemine.\n    * @param {TrackId} track_id\n    */\n    remove_track_by_id(track_id) {\n        _assertClass(track_id, TrackId);\n        wasm.project_remove_track_by_id(this.ptr, track_id.ptr);\n    }\n    /**\n    * Get the number of `Track` inside the Timeline.\n    * @returns {number}\n    */\n    get_track_count() {\n        var ret = wasm.project_get_track_count(this.ptr);\n        return ret >>> 0;\n    }\n    /**\n    * Creates a new buffer inside the engine storage.\n    * @param {Uint8Array} buffer\n    * @returns {Promise<any>}\n    */\n    create_buffer(buffer) {\n        var ptr0 = passArray8ToWasm0(buffer, wasm.__wbindgen_malloc);\n        var len0 = WASM_VECTOR_LEN;\n        var ret = wasm.project_create_buffer(this.ptr, ptr0, len0);\n        return takeObject(ret);\n    }\n    /**\n    * Deletes a buffer from the engine storage given it's `BufferId`.\n    * Returns `true` if the buffer was removed, `false` if the buffer does not exist.\n    * @param {BufferId} buffer_id\n    * @returns {boolean}\n    */\n    delete_buffer(buffer_id) {\n        _assertClass(buffer_id, BufferId);\n        var ret = wasm.project_delete_buffer(this.ptr, buffer_id.ptr);\n        return ret !== 0;\n    }\n    /**\n    * @param {BufferId} buffer_id\n    * @returns {BigInt}\n    */\n    get_buffer_duration(buffer_id) {\n        try {\n            const retptr = wasm.__wbindgen_add_to_stack_pointer(-16);\n            _assertClass(buffer_id, BufferId);\n            wasm.project_get_buffer_duration(retptr, this.ptr, buffer_id.ptr);\n            var r0 = getInt32Memory0()[retptr / 4 + 0];\n            var r1 = getInt32Memory0()[retptr / 4 + 1];\n            u32CvtShim[0] = r0;\n            u32CvtShim[1] = r1;\n            const n0 = uint64CvtShim[0];\n            return n0;\n        } finally {\n            wasm.__wbindgen_add_to_stack_pointer(16);\n        }\n    }\n    /**\n    * Returns true if the given `BufferId` valid, false otherwise.\n    * @param {BufferId} buffer_id\n    * @returns {boolean}\n    */\n    is_buffer_alive(buffer_id) {\n        _assertClass(buffer_id, BufferId);\n        var ret = wasm.project_is_buffer_alive(this.ptr, buffer_id.ptr);\n        return ret !== 0;\n    }\n    /**\n    * Copies a clip given it's `ClipId`. You have to speciy a new clip name and it's position.\n    * @param {string} name\n    * @param {BigInt} position\n    * @param {UniqueClipId} unique_clip_id\n    * @returns {ClipId | undefined}\n    */\n    copy_clip(name, position, unique_clip_id) {\n        var ptr0 = passStringToWasm0(name, wasm.__wbindgen_malloc, wasm.__wbindgen_realloc);\n        var len0 = WASM_VECTOR_LEN;\n        int64CvtShim[0] = position;\n        const low1 = u32CvtShim[0];\n        const high1 = u32CvtShim[1];\n        _assertClass(unique_clip_id, UniqueClipId);\n        var ptr2 = unique_clip_id.ptr;\n        unique_clip_id.ptr = 0;\n        var ret = wasm.project_copy_clip(this.ptr, ptr0, len0, low1, high1, ptr2);\n        return ret === 0 ? undefined : ClipId.__wrap(ret);\n    }\n    /**\n    * Returns `true` if the given `ClipId` is valid.\n    * @param {ClipId} clip_id\n    * @returns {boolean}\n    */\n    is_clip_alive(clip_id) {\n        _assertClass(clip_id, ClipId);\n        var ret = wasm.project_is_clip_alive(this.ptr, clip_id.ptr);\n        return ret !== 0;\n    }\n    /**\n    * Sets the clip's buffer given the AudioBufferWrapper and it's `ClipId`.\n    * @param {ClipId} clip_id\n    * @param {BufferId} buffer\n    */\n    set_clip_buffer(clip_id, buffer) {\n        _assertClass(clip_id, ClipId);\n        _assertClass(buffer, BufferId);\n        wasm.project_set_clip_buffer(this.ptr, clip_id.ptr, buffer.ptr);\n    }\n    /**\n    * Sets the clip's name given it's `ClipId`.\n    * @param {ClipId} clip_id\n    * @param {string} name\n    */\n    set_clip_name(clip_id, name) {\n        _assertClass(clip_id, ClipId);\n        var ptr0 = passStringToWasm0(name, wasm.__wbindgen_malloc, wasm.__wbindgen_realloc);\n        var len0 = WASM_VECTOR_LEN;\n        wasm.project_set_clip_name(this.ptr, clip_id.ptr, ptr0, len0);\n    }\n    /**\n    * Sets the clip's position given it's `ClipId` and a position as `Vec2(x, y)`\n    * @param {ClipId} clip_id\n    * @param {BigInt} position\n    */\n    set_clip_position(clip_id, position) {\n        _assertClass(clip_id, ClipId);\n        int64CvtShim[0] = position;\n        const low0 = u32CvtShim[0];\n        const high0 = u32CvtShim[1];\n        wasm.project_set_clip_position(this.ptr, clip_id.ptr, low0, high0);\n    }\n    /**\n    * Sets the clip's duration given it's `ClipId` and a duration.\n    * @param {ClipId} clip_id\n    * @param {BigInt} duration\n    */\n    set_clip_duration(clip_id, duration) {\n        _assertClass(clip_id, ClipId);\n        uint64CvtShim[0] = duration;\n        const low0 = u32CvtShim[0];\n        const high0 = u32CvtShim[1];\n        wasm.project_set_clip_duration(this.ptr, clip_id.ptr, low0, high0);\n    }\n    /**\n    * Get the position of the `Clip` identified by `clip_id`.\n    * Returns the position as optional `i64` if the clip exists, None if it does not.\n    * @param {ClipId} clip_id\n    * @returns {BigInt | undefined}\n    */\n    get_clip_position(clip_id) {\n        try {\n            const retptr = wasm.__wbindgen_add_to_stack_pointer(-16);\n            _assertClass(clip_id, ClipId);\n            wasm.project_get_clip_position(retptr, this.ptr, clip_id.ptr);\n            var r0 = getInt32Memory0()[retptr / 4 + 0];\n            var r1 = getInt32Memory0()[retptr / 4 + 1];\n            var r2 = getInt32Memory0()[retptr / 4 + 2];\n            u32CvtShim[0] = r1;\n            u32CvtShim[1] = r2;\n            const n0 = r0 === 0 ? undefined : int64CvtShim[0];\n            return n0;\n        } finally {\n            wasm.__wbindgen_add_to_stack_pointer(16);\n        }\n    }\n    /**\n    * Get the duration of the `Clip` identified by `clip_id`.\n    * Returns the duration as optional `f64` if the clip exists, None if it does not.\n    * @param {ClipId} clip_id\n    * @returns {BigInt | undefined}\n    */\n    get_clip_duration(clip_id) {\n        try {\n            const retptr = wasm.__wbindgen_add_to_stack_pointer(-16);\n            _assertClass(clip_id, ClipId);\n            wasm.project_get_clip_duration(retptr, this.ptr, clip_id.ptr);\n            var r0 = getInt32Memory0()[retptr / 4 + 0];\n            var r1 = getInt32Memory0()[retptr / 4 + 1];\n            var r2 = getInt32Memory0()[retptr / 4 + 2];\n            u32CvtShim[0] = r1;\n            u32CvtShim[1] = r2;\n            const n0 = r0 === 0 ? undefined : uint64CvtShim[0];\n            return n0;\n        } finally {\n            wasm.__wbindgen_add_to_stack_pointer(16);\n        }\n    }\n    /**\n    * Gets the buffer of the `Clip` identified by `clip_id`.\n    * Returns the buffer as optional `BufferId` if the clip exists, None if it does not.\n    * @param {ClipId} clip_id\n    * @returns {BufferId | undefined}\n    */\n    get_clip_buffer(clip_id) {\n        _assertClass(clip_id, ClipId);\n        var ret = wasm.project_get_clip_buffer(this.ptr, clip_id.ptr);\n        return ret === 0 ? undefined : BufferId.__wrap(ret);\n    }\n    /**\n    * Get the name of the `Clip` identified by `clip_id`.\n    * Returns the name as optional `String` if the clip exists, None if it does not.\n    * @param {ClipId} clip_id\n    * @returns {string | undefined}\n    */\n    get_clip_name(clip_id) {\n        try {\n            const retptr = wasm.__wbindgen_add_to_stack_pointer(-16);\n            _assertClass(clip_id, ClipId);\n            wasm.project_get_clip_name(retptr, this.ptr, clip_id.ptr);\n            var r0 = getInt32Memory0()[retptr / 4 + 0];\n            var r1 = getInt32Memory0()[retptr / 4 + 1];\n            let v0;\n            if (r0 !== 0) {\n                v0 = getStringFromWasm0(r0, r1).slice();\n                wasm.__wbindgen_free(r0, r1 * 1);\n            }\n            return v0;\n        } finally {\n            wasm.__wbindgen_add_to_stack_pointer(16);\n        }\n    }\n    /**\n    * Deletes a clip from the engine storage given it's `ClipId`.\n    * Returns `true` if the clip was removed, `false` if the clip does not exist.\n    * @param {ClipId} clip_id\n    * @returns {boolean}\n    */\n    delete_clip(clip_id) {\n        _assertClass(clip_id, ClipId);\n        var ret = wasm.project_delete_clip(this.ptr, clip_id.ptr);\n        return ret !== 0;\n    }\n    /**\n    * Get number of clips ids in the graph.\n    * @returns {number}\n    */\n    get_clip_ids_count() {\n        var ret = wasm.project_get_clip_ids_count(this.ptr);\n        return ret >>> 0;\n    }\n    /**\n    * Get the clip id at the given index.\n    * @param {number} index\n    * @returns {ClipId}\n    */\n    get_clip_id(index) {\n        var ret = wasm.project_get_clip_id(this.ptr, index);\n        return ClipId.__wrap(ret);\n    }\n    /**\n    * @param {ClipId} clip_id\n    * @returns {number}\n    */\n    get_clip_unique_clip_id_index(clip_id) {\n        _assertClass(clip_id, ClipId);\n        var ret = wasm.project_get_clip_unique_clip_id_index(this.ptr, clip_id.ptr);\n        return ret >>> 0;\n    }\n    /**\n    * Returns `true` if the given `ModuleId` is valid.\n    * @param {ModuleId} module_factory_id\n    * @returns {boolean}\n    */\n    is_module_factory_alive(module_factory_id) {\n        _assertClass(module_factory_id, ModuleId);\n        var ret = wasm.project_is_module_factory_alive(this.ptr, module_factory_id.ptr);\n        return ret !== 0;\n    }\n    /**\n    * Create module instance of module identified by `ModuleId`\n    * Return `ModuleInstanceId` if the module was created successfully, otherwise return a string as error\n    * @param {ModuleId} module_id\n    * @returns {ModuleInstanceId}\n    */\n    create_module_instance(module_id) {\n        _assertClass(module_id, ModuleId);\n        var ret = wasm.project_create_module_instance(this.ptr, module_id.ptr);\n        return ModuleInstanceId.__wrap(ret);\n    }\n    /**\n    * Get the module factory name of the `ModuleId` identified by `module_id`.\n    * Returns module name if the module exists, None if it does not.\n    * @param {ModuleId} module_id\n    * @returns {string | undefined}\n    */\n    get_module_factory_name(module_id) {\n        try {\n            const retptr = wasm.__wbindgen_add_to_stack_pointer(-16);\n            _assertClass(module_id, ModuleId);\n            wasm.project_get_module_factory_name(retptr, this.ptr, module_id.ptr);\n            var r0 = getInt32Memory0()[retptr / 4 + 0];\n            var r1 = getInt32Memory0()[retptr / 4 + 1];\n            let v0;\n            if (r0 !== 0) {\n                v0 = getStringFromWasm0(r0, r1).slice();\n                wasm.__wbindgen_free(r0, r1 * 1);\n            }\n            return v0;\n        } finally {\n            wasm.__wbindgen_add_to_stack_pointer(16);\n        }\n    }\n    /**\n    * Get number of module factory ids in the project.\n    * @returns {number}\n    */\n    get_module_factory_id_count() {\n        var ret = wasm.project_get_module_factory_id_count(this.ptr);\n        return ret >>> 0;\n    }\n    /**\n    * Get the module factory id at the given index.\n    * @param {number} index\n    * @returns {ModuleId}\n    */\n    get_module_factory_id(index) {\n        var ret = wasm.project_get_module_factory_id(this.ptr, index);\n        return ModuleId.__wrap(ret);\n    }\n    /**\n    */\n    play() {\n        wasm.project_play(this.ptr);\n    }\n    /**\n    */\n    stop() {\n        wasm.project_stop(this.ptr);\n    }\n    /**\n    * Creates a unique_clip and returns it's `UniqueClipId`.\n    * @param {string} name\n    * @param {BigInt} duration\n    * @param {BufferId} buffer\n    * @returns {UniqueClipId}\n    */\n    create_unique_clip(name, duration, buffer) {\n        var ptr0 = passStringToWasm0(name, wasm.__wbindgen_malloc, wasm.__wbindgen_realloc);\n        var len0 = WASM_VECTOR_LEN;\n        uint64CvtShim[0] = duration;\n        const low1 = u32CvtShim[0];\n        const high1 = u32CvtShim[1];\n        _assertClass(buffer, BufferId);\n        var ret = wasm.project_create_unique_clip(this.ptr, ptr0, len0, low1, high1, buffer.ptr);\n        return UniqueClipId.__wrap(ret);\n    }\n    /**\n    * Returns `true` if the given `UniqueClipId` is valid.\n    * @param {UniqueClipId} unique_clip_id\n    * @returns {boolean}\n    */\n    is_unique_clip_alive(unique_clip_id) {\n        _assertClass(unique_clip_id, UniqueClipId);\n        var ret = wasm.project_is_unique_clip_alive(this.ptr, unique_clip_id.ptr);\n        return ret !== 0;\n    }\n    /**\n    * Sets the unique_clip's buffer given the AudioBufferWrapper and it's `UniqueClipId`.\n    * @param {UniqueClipId} unique_clip_id\n    * @param {BufferId} buffer\n    */\n    set_unique_clip_buffer(unique_clip_id, buffer) {\n        _assertClass(unique_clip_id, UniqueClipId);\n        _assertClass(buffer, BufferId);\n        wasm.project_set_unique_clip_buffer(this.ptr, unique_clip_id.ptr, buffer.ptr);\n    }\n    /**\n    * Sets the unique_clip's name given it's `UniqueClipId`.\n    * @param {UniqueClipId} unique_clip_id\n    * @param {string} name\n    */\n    set_unique_clip_name(unique_clip_id, name) {\n        _assertClass(unique_clip_id, UniqueClipId);\n        var ptr0 = passStringToWasm0(name, wasm.__wbindgen_malloc, wasm.__wbindgen_realloc);\n        var len0 = WASM_VECTOR_LEN;\n        wasm.project_set_unique_clip_name(this.ptr, unique_clip_id.ptr, ptr0, len0);\n    }\n    /**\n    * Sets the unique_clip's duration given it's `UniqueClipId` and a duration.\n    * @param {UniqueClipId} unique_clip_id\n    * @param {BigInt} duration\n    */\n    set_unique_clip_duration(unique_clip_id, duration) {\n        _assertClass(unique_clip_id, UniqueClipId);\n        uint64CvtShim[0] = duration;\n        const low0 = u32CvtShim[0];\n        const high0 = u32CvtShim[1];\n        wasm.project_set_unique_clip_duration(this.ptr, unique_clip_id.ptr, low0, high0);\n    }\n    /**\n    * Get the duration of the `UniqueClip` identified by `unique_clip_id`.\n    * Returns the duration as optional `f64` if the unique_clip exists, None if it does not.\n    * @param {UniqueClipId} unique_clip_id\n    * @returns {BigInt | undefined}\n    */\n    get_unique_clip_duration(unique_clip_id) {\n        try {\n            const retptr = wasm.__wbindgen_add_to_stack_pointer(-16);\n            _assertClass(unique_clip_id, UniqueClipId);\n            wasm.project_get_unique_clip_duration(retptr, this.ptr, unique_clip_id.ptr);\n            var r0 = getInt32Memory0()[retptr / 4 + 0];\n            var r1 = getInt32Memory0()[retptr / 4 + 1];\n            var r2 = getInt32Memory0()[retptr / 4 + 2];\n            u32CvtShim[0] = r1;\n            u32CvtShim[1] = r2;\n            const n0 = r0 === 0 ? undefined : uint64CvtShim[0];\n            return n0;\n        } finally {\n            wasm.__wbindgen_add_to_stack_pointer(16);\n        }\n    }\n    /**\n    * Gets the buffer of the `UniqueClip` identified by `unique_clip_id`.\n    * Returns the buffer as optional `BufferId` if the unique_clip exists, None if it does not.\n    * @param {UniqueClipId} unique_clip_id\n    * @returns {BufferId | undefined}\n    */\n    get_unique_clip_buffer(unique_clip_id) {\n        _assertClass(unique_clip_id, UniqueClipId);\n        var ret = wasm.project_get_unique_clip_buffer(this.ptr, unique_clip_id.ptr);\n        return ret === 0 ? undefined : BufferId.__wrap(ret);\n    }\n    /**\n    * Get the name of the `UniqueClip` identified by `unique_clip_id`.\n    * Returns the name as optional `String` if the unique_clip exists, None if it does not.\n    * @param {UniqueClipId} unique_clip_id\n    * @returns {string | undefined}\n    */\n    get_unique_clip_name(unique_clip_id) {\n        try {\n            const retptr = wasm.__wbindgen_add_to_stack_pointer(-16);\n            _assertClass(unique_clip_id, UniqueClipId);\n            wasm.project_get_unique_clip_name(retptr, this.ptr, unique_clip_id.ptr);\n            var r0 = getInt32Memory0()[retptr / 4 + 0];\n            var r1 = getInt32Memory0()[retptr / 4 + 1];\n            let v0;\n            if (r0 !== 0) {\n                v0 = getStringFromWasm0(r0, r1).slice();\n                wasm.__wbindgen_free(r0, r1 * 1);\n            }\n            return v0;\n        } finally {\n            wasm.__wbindgen_add_to_stack_pointer(16);\n        }\n    }\n    /**\n    * Deletes a unique_clip from the engine storage given it's `UniqueClipId`.\n    * Returns `true` if the unique_clip was removed, `false` if the unique_clip does not exist.\n    * @param {UniqueClipId} unique_clip_id\n    * @returns {boolean}\n    */\n    delete_unique_clip(unique_clip_id) {\n        _assertClass(unique_clip_id, UniqueClipId);\n        var ret = wasm.project_delete_unique_clip(this.ptr, unique_clip_id.ptr);\n        return ret !== 0;\n    }\n    /**\n    * Get number of unique_clips ids in the graph.\n    * @returns {number}\n    */\n    get_unique_clip_ids_count() {\n        var ret = wasm.project_get_unique_clip_ids_count(this.ptr);\n        return ret >>> 0;\n    }\n    /**\n    * Get the unique_clip id at the given index.\n    * @param {number} index\n    * @returns {UniqueClipId}\n    */\n    get_unique_clip_id(index) {\n        var ret = wasm.project_get_unique_clip_id(this.ptr, index);\n        return UniqueClipId.__wrap(ret);\n    }\n    /**\n    * @param {NodeId} id\n    * @returns {number}\n    */\n    node_id_to_number(id) {\n        _assertClass(id, NodeId);\n        var ret = wasm.project_node_id_to_number(this.ptr, id.ptr);\n        return ret >>> 0;\n    }\n    /**\n    * @param {number} id\n    * @returns {NodeId}\n    */\n    number_to_node_id(id) {\n        var ret = wasm.project_number_to_node_id(this.ptr, id);\n        return NodeId.__wrap(ret);\n    }\n    /**\n    * @param {NodeId} id1\n    * @param {NodeId} id2\n    * @returns {boolean}\n    */\n    node_id_equals(id1, id2) {\n        _assertClass(id1, NodeId);\n        _assertClass(id2, NodeId);\n        var ret = wasm.project_node_id_equals(this.ptr, id1.ptr, id2.ptr);\n        return ret !== 0;\n    }\n    /**\n    * @param {TrackId} id\n    * @returns {number}\n    */\n    track_id_to_number(id) {\n        _assertClass(id, TrackId);\n        var ret = wasm.project_node_id_to_number(this.ptr, id.ptr);\n        return ret >>> 0;\n    }\n    /**\n    * @param {number} id\n    * @returns {TrackId}\n    */\n    number_to_track_id(id) {\n        var ret = wasm.project_number_to_node_id(this.ptr, id);\n        return TrackId.__wrap(ret);\n    }\n    /**\n    * @param {TrackId} id1\n    * @param {TrackId} id2\n    * @returns {boolean}\n    */\n    track_id_equals(id1, id2) {\n        _assertClass(id1, TrackId);\n        _assertClass(id2, TrackId);\n        var ret = wasm.project_node_id_equals(this.ptr, id1.ptr, id2.ptr);\n        return ret !== 0;\n    }\n    /**\n    * TODO : implement ModuleId with Module to get Module's data ( inputs_len, outputs_len, etc... ).\n    * Creates a new `Node` inside the graph with a given `ModuleId`.\n    *\n    * `ModuleId` is the ID type of the module, not the ID of the module instance itself.\n    * @param {ModuleId} module_id\n    * @param {ModuleInstanceId} module_instance_id\n    * @param {number} x\n    * @param {number} y\n    * @returns {NodeId}\n    */\n    create_node(module_id, module_instance_id, x, y) {\n        _assertClass(module_id, ModuleId);\n        _assertClass(module_instance_id, ModuleInstanceId);\n        var ret = wasm.project_create_node(this.ptr, module_id.ptr, module_instance_id.ptr, x, y);\n        return NodeId.__wrap(ret);\n    }\n    /**\n    * Deletes a `Node` and it's inputs and outputs from the engine storage.\n    * Returns `true` if the node was deleted, `false` it the node does not exist.\n    * @param {NodeId} node_id\n    * @returns {boolean}\n    */\n    delete_node(node_id) {\n        _assertClass(node_id, NodeId);\n        var ret = wasm.project_delete_node(this.ptr, node_id.ptr);\n        return ret !== 0;\n    }\n    /**\n    * Sets the position of a node inside the engine storage given it's `NodeId`and a position as `Vec2(x, y)`.\n    * Returns `true` if the node's position has been updated, `false` otherwise.\n    * @param {NodeId} node_id\n    * @param {number} x\n    * @param {number} y\n    * @returns {boolean}\n    */\n    set_node_position_by_id(node_id, x, y) {\n        _assertClass(node_id, NodeId);\n        var ret = wasm.project_set_node_position_by_id(this.ptr, node_id.ptr, x, y);\n        return ret !== 0;\n    }\n    /**\n    * Returns true if the given `NodeId` is a valid Node, false otherwise.\n    * @param {NodeId} node_id\n    * @returns {boolean}\n    */\n    is_node_valid(node_id) {\n        _assertClass(node_id, NodeId);\n        var ret = wasm.project_is_node_valid(this.ptr, node_id.ptr);\n        return ret !== 0;\n    }\n    /**\n    * Get number of node ids in the graph.\n    * @returns {number}\n    */\n    get_node_ids_count() {\n        var ret = wasm.project_get_node_ids_count(this.ptr);\n        return ret >>> 0;\n    }\n    /**\n    * Get the node id at the given index.\n    * @param {number} index\n    * @returns {NodeId}\n    */\n    get_node_id(index) {\n        var ret = wasm.project_get_node_id(this.ptr, index);\n        return NodeId.__wrap(ret);\n    }\n    /**\n    * Get the node name at the given index.\n    * @param {NodeId} node_id\n    * @returns {string | undefined}\n    */\n    get_node_name(node_id) {\n        try {\n            const retptr = wasm.__wbindgen_add_to_stack_pointer(-16);\n            _assertClass(node_id, NodeId);\n            wasm.project_get_node_name(retptr, this.ptr, node_id.ptr);\n            var r0 = getInt32Memory0()[retptr / 4 + 0];\n            var r1 = getInt32Memory0()[retptr / 4 + 1];\n            let v0;\n            if (r0 !== 0) {\n                v0 = getStringFromWasm0(r0, r1).slice();\n                wasm.__wbindgen_free(r0, r1 * 1);\n            }\n            return v0;\n        } finally {\n            wasm.__wbindgen_add_to_stack_pointer(16);\n        }\n    }\n    /**\n    * Get the module instance id of the node\n    * @param {NodeId} node_id\n    * @returns {ModuleInstanceId}\n    */\n    get_node_module_instance_id(node_id) {\n        _assertClass(node_id, NodeId);\n        var ret = wasm.project_get_node_module_instance_id(this.ptr, node_id.ptr);\n        return ModuleInstanceId.__wrap(ret);\n    }\n    /**\n    * Set position of a node\n    * @param {NodeId} node_id\n    * @param {number} x\n    * @param {number} y\n    */\n    set_node_position(node_id, x, y) {\n        _assertClass(node_id, NodeId);\n        wasm.project_set_node_position(this.ptr, node_id.ptr, x, y);\n    }\n    /**\n    * Get x position of a node\n    * @param {NodeId} node_id\n    * @returns {number}\n    */\n    get_node_x(node_id) {\n        _assertClass(node_id, NodeId);\n        var ret = wasm.project_get_node_x(this.ptr, node_id.ptr);\n        return ret;\n    }\n    /**\n    * Get y position of a node\n    * @param {NodeId} node_id\n    * @returns {number}\n    */\n    get_node_y(node_id) {\n        _assertClass(node_id, NodeId);\n        var ret = wasm.project_get_node_y(this.ptr, node_id.ptr);\n        return ret;\n    }\n    /**\n    * Links two nodes together given:\n    * - `first_node_id`: The `NodeId` of the first node you want to link.\n    * - `second_node_id`: The `NodeId` of the second node you want to link.\n    * - `first_node_index`: the `index` of the first node's input.\n    * - `second_node_index`: the `index` of the second node's output.\n    * @param {NodeId} first_node_id\n    * @param {NodeId} second_node_id\n    * @param {number} first_node_index\n    * @param {number} second_node_index\n    * @returns {boolean}\n    */\n    link_nodes(first_node_id, second_node_id, first_node_index, second_node_index) {\n        _assertClass(first_node_id, NodeId);\n        _assertClass(second_node_id, NodeId);\n        var ret = wasm.project_link_nodes(this.ptr, first_node_id.ptr, second_node_id.ptr, first_node_index, second_node_index);\n        return ret !== 0;\n    }\n    /**\n    * Links a node to a `Track` given the `TrackId`, the `NodeId` of the node and the index of the node's input.\n    * @param {NodeId} node_id\n    * @param {TrackId} track_id\n    * @param {number} index\n    */\n    link_node_to_track(node_id, track_id, index) {\n        _assertClass(node_id, NodeId);\n        _assertClass(track_id, TrackId);\n        wasm.project_link_node_to_track(this.ptr, node_id.ptr, track_id.ptr, index);\n    }\n    /**\n    * Destroy any link on the `index`'th input of the node identified by `node_id`.\n    * @param {NodeId} node_id\n    * @param {number} index\n    * @returns {boolean}\n    */\n    unlink_node(node_id, index) {\n        _assertClass(node_id, NodeId);\n        var ret = wasm.project_unlink_node(this.ptr, node_id.ptr, index);\n        return ret !== 0;\n    }\n    /**\n    * Returns the number of inputs inside a Node given it's `NodeId`.\n    * @param {NodeId} node_id\n    * @returns {number}\n    */\n    input_count(node_id) {\n        _assertClass(node_id, NodeId);\n        var ret = wasm.project_input_count(this.ptr, node_id.ptr);\n        return ret >>> 0;\n    }\n    /**\n    * Returns the number of outputs inside a Node given it's `NodeId`.\n    * @param {NodeId} node_id\n    * @returns {number}\n    */\n    output_count(node_id) {\n        _assertClass(node_id, NodeId);\n        var ret = wasm.project_output_count(this.ptr, node_id.ptr);\n        return ret >>> 0;\n    }\n    /**\n    * Returns the node's param id at the given `index`.\n    * @param {NodeId} node_id\n    * @param {number} index\n    * @returns {BigInt | undefined}\n    */\n    get_param_id(node_id, index) {\n        try {\n            const retptr = wasm.__wbindgen_add_to_stack_pointer(-16);\n            _assertClass(node_id, NodeId);\n            wasm.project_get_param_id(retptr, this.ptr, node_id.ptr, index);\n            var r0 = getInt32Memory0()[retptr / 4 + 0];\n            var r1 = getInt32Memory0()[retptr / 4 + 1];\n            var r2 = getInt32Memory0()[retptr / 4 + 2];\n            u32CvtShim[0] = r1;\n            u32CvtShim[1] = r2;\n            const n0 = r0 === 0 ? undefined : uint64CvtShim[0];\n            return n0;\n        } finally {\n            wasm.__wbindgen_add_to_stack_pointer(16);\n        }\n    }\n    /**\n    * Returns the link of a Node at a given `input_index`.\n    * @param {NodeId} node_id\n    * @param {number} input_index\n    * @returns {Link | undefined}\n    */\n    get_link(node_id, input_index) {\n        _assertClass(node_id, NodeId);\n        var ret = wasm.project_get_link(this.ptr, node_id.ptr, input_index);\n        return ret === 0 ? undefined : Link.__wrap(ret);\n    }\n    /**\n    * Returns an optional Node's param Link given it's `param_id`.\n    * @param {BigInt} param_id\n    * @returns {Link | undefined}\n    */\n    get_link_from_param_id(param_id) {\n        uint64CvtShim[0] = param_id;\n        const low0 = u32CvtShim[0];\n        const high0 = u32CvtShim[1];\n        var ret = wasm.project_get_link_from_param_id(this.ptr, low0, high0);\n        return ret === 0 ? undefined : Link.__wrap(ret);\n    }\n    /**\n    * Creates a new track in the timeline and in the engine storage and returns it's `TrackId`.\n    * @param {string} name\n    * @returns {TrackId}\n    */\n    create_track(name) {\n        var ptr0 = passStringToWasm0(name, wasm.__wbindgen_malloc, wasm.__wbindgen_realloc);\n        var len0 = WASM_VECTOR_LEN;\n        var ret = wasm.project_create_track(this.ptr, ptr0, len0);\n        return TrackId.__wrap(ret);\n    }\n    /**\n    * ? Delete every ClipIds inside this track ?\n    * Deletes a track from the timeline and from the engine storage given it's `TrackId`.\n    * @param {TrackId} track_id\n    */\n    delete_track(track_id) {\n        _assertClass(track_id, TrackId);\n        wasm.project_delete_track(this.ptr, track_id.ptr);\n    }\n    /**\n    * Returns the number of clips in a track given the `TrackId`.\n    * @param {TrackId} track_id\n    * @returns {number | undefined}\n    */\n    get_track_clip_count(track_id) {\n        try {\n            const retptr = wasm.__wbindgen_add_to_stack_pointer(-16);\n            _assertClass(track_id, TrackId);\n            wasm.project_get_track_clip_count(retptr, this.ptr, track_id.ptr);\n            var r0 = getInt32Memory0()[retptr / 4 + 0];\n            var r1 = getInt32Memory0()[retptr / 4 + 1];\n            return r0 === 0 ? undefined : r1 >>> 0;\n        } finally {\n            wasm.__wbindgen_add_to_stack_pointer(16);\n        }\n    }\n    /**\n    * Returns the name of a Track given it's `TrackId`.\n    * @param {TrackId} track_id\n    * @returns {string | undefined}\n    */\n    get_track_name(track_id) {\n        try {\n            const retptr = wasm.__wbindgen_add_to_stack_pointer(-16);\n            _assertClass(track_id, TrackId);\n            wasm.project_get_track_name(retptr, this.ptr, track_id.ptr);\n            var r0 = getInt32Memory0()[retptr / 4 + 0];\n            var r1 = getInt32Memory0()[retptr / 4 + 1];\n            let v0;\n            if (r0 !== 0) {\n                v0 = getStringFromWasm0(r0, r1).slice();\n                wasm.__wbindgen_free(r0, r1 * 1);\n            }\n            return v0;\n        } finally {\n            wasm.__wbindgen_add_to_stack_pointer(16);\n        }\n    }\n    /**\n    * Returns a track's ClipId given the `TrackId` and the clip's index in the track.\n    * @param {TrackId} track_id\n    * @param {number} index\n    * @returns {ClipId}\n    */\n    get_track_clip(track_id, index) {\n        _assertClass(track_id, TrackId);\n        var ret = wasm.project_get_track_clip(this.ptr, track_id.ptr, index);\n        return ClipId.__wrap(ret);\n    }\n    /**\n    * Returns `true` if the given `TrackId` is valid.\n    * @param {TrackId} track_id\n    * @returns {boolean}\n    */\n    is_track_alive(track_id) {\n        _assertClass(track_id, TrackId);\n        var ret = wasm.project_is_track_alive(this.ptr, track_id.ptr);\n        return ret !== 0;\n    }\n    /**\n    * Sets the name of a track given the `TrackId`.\n    * @param {TrackId} track_id\n    * @param {string} name\n    */\n    set_track_name(track_id, name) {\n        _assertClass(track_id, TrackId);\n        var ptr0 = passStringToWasm0(name, wasm.__wbindgen_malloc, wasm.__wbindgen_realloc);\n        var len0 = WASM_VECTOR_LEN;\n        wasm.project_set_track_name(this.ptr, track_id.ptr, ptr0, len0);\n    }\n    /**\n    * Deletes a clip from a track given it's `ClipId` and the `TrackId`.\n    * @param {TrackId} track_id\n    * @param {ClipId} clip_id\n    */\n    remove_clip(track_id, clip_id) {\n        _assertClass(track_id, TrackId);\n        _assertClass(clip_id, ClipId);\n        wasm.project_remove_clip(this.ptr, track_id.ptr, clip_id.ptr);\n    }\n    /**\n    * Deletes a clip from a track given it's `ClipId` and it's index in the track.\n    * @param {TrackId} track_id\n    * @param {number} index\n    */\n    remove_clip_by_index(track_id, index) {\n        _assertClass(track_id, TrackId);\n        wasm.project_remove_clip_by_index(this.ptr, track_id.ptr, index);\n    }\n    /**\n    * Adds a clips to a track from the `TrackId` and the `ClipId`.\n    * @param {TrackId} track_id\n    * @param {ClipId} clip_id\n    */\n    add_clip_to_track(track_id, clip_id) {\n        _assertClass(track_id, TrackId);\n        _assertClass(clip_id, ClipId);\n        wasm.project_add_clip_to_track(this.ptr, track_id.ptr, clip_id.ptr);\n    }\n    /**\n    * Returns an optional `TrackId` given an input key\n    * @param {BigInt} key\n    * @returns {TrackId | undefined}\n    */\n    track_id_from_input(key) {\n        uint64CvtShim[0] = key;\n        const low0 = u32CvtShim[0];\n        const high0 = u32CvtShim[1];\n        var ret = wasm.project_track_id_from_input(this.ptr, low0, high0);\n        return ret === 0 ? undefined : TrackId.__wrap(ret);\n    }\n    /**\n    * Returns the gain value of a Track given it's `TrackId`.\n    * @param {TrackId} track_id\n    * @returns {number | undefined}\n    */\n    get_track_gain(track_id) {\n        try {\n            const retptr = wasm.__wbindgen_add_to_stack_pointer(-16);\n            _assertClass(track_id, TrackId);\n            wasm.project_get_track_gain(retptr, this.ptr, track_id.ptr);\n            var r0 = getInt32Memory0()[retptr / 4 + 0];\n            var r1 = getFloat64Memory0()[retptr / 8 + 1];\n            return r0 === 0 ? undefined : r1;\n        } finally {\n            wasm.__wbindgen_add_to_stack_pointer(16);\n        }\n    }\n    /**\n    * Returns the pan value of a Track given it's `TrackId`.\n    * @param {TrackId} track_id\n    * @returns {number | undefined}\n    */\n    get_track_pan(track_id) {\n        try {\n            const retptr = wasm.__wbindgen_add_to_stack_pointer(-16);\n            _assertClass(track_id, TrackId);\n            wasm.project_get_track_pan(retptr, this.ptr, track_id.ptr);\n            var r0 = getInt32Memory0()[retptr / 4 + 0];\n            var r1 = getFloat64Memory0()[retptr / 8 + 1];\n            return r0 === 0 ? undefined : r1;\n        } finally {\n            wasm.__wbindgen_add_to_stack_pointer(16);\n        }\n    }\n    /**\n    * Set the gain of a track given the `TrackId` and the gain value.\n    * @param {TrackId} track_id\n    * @param {number} gain\n    */\n    set_track_gain(track_id, gain) {\n        _assertClass(track_id, TrackId);\n        wasm.project_set_track_gain(this.ptr, track_id.ptr, gain);\n    }\n    /**\n    * Sets the enabled state of a track given the `TrackId`.\n    * @param {TrackId} track_id\n    * @param {boolean} enabled\n    */\n    set_track_enabled(track_id, enabled) {\n        _assertClass(track_id, TrackId);\n        wasm.project_set_track_enabled(this.ptr, track_id.ptr, enabled);\n    }\n    /**\n    * Set the pan of a track given it's `TrackId` and the pan value.\n    * @param {TrackId} track_id\n    * @param {number} pan\n    */\n    set_track_pan(track_id, pan) {\n        _assertClass(track_id, TrackId);\n        wasm.project_set_track_pan(this.ptr, track_id.ptr, pan);\n    }\n    /**\n    * Returns the enabled state of a track given the `TrackId`.\n    * @param {TrackId} track_id\n    * @returns {boolean}\n    */\n    is_track_enabled(track_id) {\n        _assertClass(track_id, TrackId);\n        var ret = wasm.project_is_track_enabled(this.ptr, track_id.ptr);\n        return ret !== 0;\n    }\n    /**\n    * TODO!\n    * Returns the `ModuleId` from the `ModuleInstanceId` of a module.\n    * @param {ModuleInstanceId} module_instance_id\n    * @returns {ModuleId}\n    */\n    get_module_of(module_instance_id) {\n        _assertClass(module_instance_id, ModuleInstanceId);\n        var ret = wasm.project_get_module_of(this.ptr, module_instance_id.ptr);\n        return ModuleId.__wrap(ret);\n    }\n    /**\n    * Deletes a module from the engine storage given it's `ModuleId`.\n    * Returns `true` if the module was removed, `false` if the module does not exist.\n    * @param {ModuleInstanceId} module_id\n    * @returns {boolean}\n    */\n    delete_module(module_id) {\n        _assertClass(module_id, ModuleInstanceId);\n        var ret = wasm.project_delete_module(this.ptr, module_id.ptr);\n        return ret !== 0;\n    }\n    /**\n    * Get module instance control count of a given module instance.\n    * @param {ModuleInstanceId} module_instance_id\n    * @returns {number}\n    */\n    get_module_instance_control_count(module_instance_id) {\n        _assertClass(module_instance_id, ModuleInstanceId);\n        var ret = wasm.project_get_module_instance_control_count(this.ptr, module_instance_id.ptr);\n        return ret >>> 0;\n    }\n    /**\n    * Get module instance control type of a given module instance and control index.\n    * @param {ModuleInstanceId} module_instance_id\n    * @param {number} control_index\n    * @returns {string}\n    */\n    get_module_instance_control_type(module_instance_id, control_index) {\n        try {\n            const retptr = wasm.__wbindgen_add_to_stack_pointer(-16);\n            _assertClass(module_instance_id, ModuleInstanceId);\n            wasm.project_get_module_instance_control_type(retptr, this.ptr, module_instance_id.ptr, control_index);\n            var r0 = getInt32Memory0()[retptr / 4 + 0];\n            var r1 = getInt32Memory0()[retptr / 4 + 1];\n            return getStringFromWasm0(r0, r1);\n        } finally {\n            wasm.__wbindgen_add_to_stack_pointer(16);\n            wasm.__wbindgen_free(r0, r1);\n        }\n    }\n    /**\n    * Get module instance control input label of a given module instance and input index.\n    * @param {ModuleInstanceId} module_instance_id\n    * @param {number} input_index\n    * @returns {string}\n    */\n    get_module_instance_control_input_label(module_instance_id, input_index) {\n        try {\n            const retptr = wasm.__wbindgen_add_to_stack_pointer(-16);\n            _assertClass(module_instance_id, ModuleInstanceId);\n            wasm.project_get_module_instance_control_input_label(retptr, this.ptr, module_instance_id.ptr, input_index);\n            var r0 = getInt32Memory0()[retptr / 4 + 0];\n            var r1 = getInt32Memory0()[retptr / 4 + 1];\n            return getStringFromWasm0(r0, r1);\n        } finally {\n            wasm.__wbindgen_add_to_stack_pointer(16);\n            wasm.__wbindgen_free(r0, r1);\n        }\n    }\n    /**\n    * Get module instance control output label of a given module instance and output index.\n    * @param {ModuleInstanceId} module_instance_id\n    * @param {number} output_index\n    * @returns {string}\n    */\n    get_module_instance_control_output_label(module_instance_id, output_index) {\n        try {\n            const retptr = wasm.__wbindgen_add_to_stack_pointer(-16);\n            _assertClass(module_instance_id, ModuleInstanceId);\n            wasm.project_get_module_instance_control_output_label(retptr, this.ptr, module_instance_id.ptr, output_index);\n            var r0 = getInt32Memory0()[retptr / 4 + 0];\n            var r1 = getInt32Memory0()[retptr / 4 + 1];\n            return getStringFromWasm0(r0, r1);\n        } finally {\n            wasm.__wbindgen_add_to_stack_pointer(16);\n            wasm.__wbindgen_free(r0, r1);\n        }\n    }\n    /**\n    * Get module instance control param label of a given module instance and param index.\n    * @param {ModuleInstanceId} module_instance_id\n    * @param {number} param_index\n    * @returns {string}\n    */\n    get_module_instance_control_param_label(module_instance_id, param_index) {\n        try {\n            const retptr = wasm.__wbindgen_add_to_stack_pointer(-16);\n            _assertClass(module_instance_id, ModuleInstanceId);\n            wasm.project_get_module_instance_control_param_label(retptr, this.ptr, module_instance_id.ptr, param_index);\n            var r0 = getInt32Memory0()[retptr / 4 + 0];\n            var r1 = getInt32Memory0()[retptr / 4 + 1];\n            return getStringFromWasm0(r0, r1);\n        } finally {\n            wasm.__wbindgen_add_to_stack_pointer(16);\n            wasm.__wbindgen_free(r0, r1);\n        }\n    }\n    /**\n    * Get module instance control param default value of a given module instance and param index.\n    * @param {ModuleInstanceId} module_instance_id\n    * @param {number} param_index\n    * @returns {number}\n    */\n    get_module_instance_control_param_default_value(module_instance_id, param_index) {\n        _assertClass(module_instance_id, ModuleInstanceId);\n        var ret = wasm.project_get_module_instance_control_param_default_value(this.ptr, module_instance_id.ptr, param_index);\n        return ret;\n    }\n    /**\n    * Get module instance control param min value of a given module instance and param index.\n    * @param {ModuleInstanceId} module_instance_id\n    * @param {number} param_index\n    * @returns {number}\n    */\n    get_module_instance_control_param_min_value(module_instance_id, param_index) {\n        _assertClass(module_instance_id, ModuleInstanceId);\n        var ret = wasm.project_get_module_instance_control_param_min_value(this.ptr, module_instance_id.ptr, param_index);\n        return ret;\n    }\n    /**\n    * Get module instance control param max value of a given module instance and param index.\n    * @param {ModuleInstanceId} module_instance_id\n    * @param {number} param_index\n    * @returns {number}\n    */\n    get_module_instance_control_param_max_value(module_instance_id, param_index) {\n        _assertClass(module_instance_id, ModuleInstanceId);\n        var ret = wasm.project_get_module_instance_control_param_max_value(this.ptr, module_instance_id.ptr, param_index);\n        return ret;\n    }\n    /**\n    * Get module instance control param value of a given module instance and param index.\n    * @param {ModuleInstanceId} module_instance_id\n    * @param {number} param_index\n    * @returns {number}\n    */\n    get_module_instance_control_param_value(module_instance_id, param_index) {\n        _assertClass(module_instance_id, ModuleInstanceId);\n        var ret = wasm.project_get_module_instance_control_param_value(this.ptr, module_instance_id.ptr, param_index);\n        return ret;\n    }\n    /**\n    * Set module instance control param value of a given module instance and param index.\n    * @param {ModuleInstanceId} module_instance_id\n    * @param {number} param_index\n    * @param {number} value\n    */\n    set_module_instance_control_param_value(module_instance_id, param_index, value) {\n        _assertClass(module_instance_id, ModuleInstanceId);\n        wasm.project_set_module_instance_control_param_value(this.ptr, module_instance_id.ptr, param_index, value);\n    }\n}\n/**\n*/\nexport class ReverbFactory {\n\n    __destroy_into_raw() {\n        const ptr = this.ptr;\n        this.ptr = 0;\n\n        return ptr;\n    }\n\n    free() {\n        const ptr = this.__destroy_into_raw();\n        wasm.__wbg_reverbfactory_free(ptr);\n    }\n}\n/**\n*/\nexport class StereoPannerFactory {\n\n    __destroy_into_raw() {\n        const ptr = this.ptr;\n        this.ptr = 0;\n\n        return ptr;\n    }\n\n    free() {\n        const ptr = this.__destroy_into_raw();\n        wasm.__wbg_stereopannerfactory_free(ptr);\n    }\n}\n/**\n* Represents the ID of a track inside the audio engine storage.\n*/\nexport class TrackId {\n\n    static __wrap(ptr) {\n        const obj = Object.create(TrackId.prototype);\n        obj.ptr = ptr;\n\n        return obj;\n    }\n\n    __destroy_into_raw() {\n        const ptr = this.ptr;\n        this.ptr = 0;\n\n        return ptr;\n    }\n\n    free() {\n        const ptr = this.__destroy_into_raw();\n        wasm.__wbg_trackid_free(ptr);\n    }\n}\n/**\n* Represents the ID of a clip inside the audio engine storage.\n*/\nexport class UniqueClipId {\n\n    static __wrap(ptr) {\n        const obj = Object.create(UniqueClipId.prototype);\n        obj.ptr = ptr;\n\n        return obj;\n    }\n\n    __destroy_into_raw() {\n        const ptr = this.ptr;\n        this.ptr = 0;\n\n        return ptr;\n    }\n\n    free() {\n        const ptr = this.__destroy_into_raw();\n        wasm.__wbg_uniqueclipid_free(ptr);\n    }\n}\n/**\n*/\nexport class Vec2 {\n\n    static __wrap(ptr) {\n        const obj = Object.create(Vec2.prototype);\n        obj.ptr = ptr;\n\n        return obj;\n    }\n\n    __destroy_into_raw() {\n        const ptr = this.ptr;\n        this.ptr = 0;\n\n        return ptr;\n    }\n\n    free() {\n        const ptr = this.__destroy_into_raw();\n        wasm.__wbg_vec2_free(ptr);\n    }\n    /**\n    */\n    get x() {\n        var ret = wasm.__wbg_get_vec2_x(this.ptr);\n        return ret;\n    }\n    /**\n    * @param {number} arg0\n    */\n    set x(arg0) {\n        wasm.__wbg_set_vec2_x(this.ptr, arg0);\n    }\n    /**\n    */\n    get y() {\n        var ret = wasm.__wbg_get_vec2_y(this.ptr);\n        return ret;\n    }\n    /**\n    * @param {number} arg0\n    */\n    set y(arg0) {\n        wasm.__wbg_set_vec2_y(this.ptr, arg0);\n    }\n    /**\n    * @param {number} x\n    * @param {number} y\n    * @returns {Vec2}\n    */\n    static new(x, y) {\n        var ret = wasm.vec2_new(x, y);\n        return Vec2.__wrap(ret);\n    }\n}\n\nasync function load(module, imports) {\n    if (typeof Response === 'function' && module instanceof Response) {\n        if (typeof WebAssembly.instantiateStreaming === 'function') {\n            try {\n                return await WebAssembly.instantiateStreaming(module, imports);\n\n            } catch (e) {\n                if (module.headers.get('Content-Type') != 'application/wasm') {\n                    console.warn(\"`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\\n\", e);\n\n                } else {\n                    throw e;\n                }\n            }\n        }\n\n        const bytes = await module.arrayBuffer();\n        return await WebAssembly.instantiate(bytes, imports);\n\n    } else {\n        const instance = await WebAssembly.instantiate(module, imports);\n\n        if (instance instanceof WebAssembly.Instance) {\n            return { instance, module };\n\n        } else {\n            return instance;\n        }\n    }\n}\n\nasync function init(input) {\n    if (typeof input === 'undefined') {\n        input = new URL('index_bg.wasm', import.meta.url);\n    }\n    const imports = {};\n    imports.wbg = {};\n    imports.wbg.__wbindgen_object_drop_ref = function(arg0) {\n        takeObject(arg0);\n    };\n    imports.wbg.__wbindgen_string_new = function(arg0, arg1) {\n        var ret = getStringFromWasm0(arg0, arg1);\n        return addHeapObject(ret);\n    };\n    imports.wbg.__wbindgen_object_clone_ref = function(arg0) {\n        var ret = getObject(arg0);\n        return addHeapObject(ret);\n    };\n    imports.wbg.__wbg_bufferid_new = function(arg0) {\n        var ret = BufferId.__wrap(arg0);\n        return addHeapObject(ret);\n    };\n    imports.wbg.__wbindgen_cb_drop = function(arg0) {\n        const obj = takeObject(arg0).original;\n        if (obj.cnt-- == 1) {\n            obj.a = 0;\n            return true;\n        }\n        var ret = false;\n        return ret;\n    };\n    imports.wbg.__wbindgen_number_new = function(arg0) {\n        var ret = arg0;\n        return addHeapObject(ret);\n    };\n    imports.wbg.__wbindgen_string_get = function(arg0, arg1) {\n        const obj = getObject(arg1);\n        var ret = typeof(obj) === 'string' ? obj : undefined;\n        var ptr0 = isLikeNone(ret) ? 0 : passStringToWasm0(ret, wasm.__wbindgen_malloc, wasm.__wbindgen_realloc);\n        var len0 = WASM_VECTOR_LEN;\n        getInt32Memory0()[arg0 / 4 + 1] = len0;\n        getInt32Memory0()[arg0 / 4 + 0] = ptr0;\n    };\n    imports.wbg.__wbg_frequency_c790829b1330266e = function(arg0) {\n        var ret = getObject(arg0).frequency;\n        return addHeapObject(ret);\n    };\n    imports.wbg.__wbg_detune_0c98198e067c9898 = function(arg0) {\n        var ret = getObject(arg0).detune;\n        return addHeapObject(ret);\n    };\n    imports.wbg.__wbg_Q_241cc46dcc77b167 = function(arg0) {\n        var ret = getObject(arg0).Q;\n        return addHeapObject(ret);\n    };\n    imports.wbg.__wbg_gain_74d947d9f01c5ccb = function(arg0) {\n        var ret = getObject(arg0).gain;\n        return addHeapObject(ret);\n    };\n    imports.wbg.__wbg_value_51f8c3c3dc0f903a = function(arg0) {\n        var ret = getObject(arg0).value;\n        return ret;\n    };\n    imports.wbg.__wbg_setvalue_df8236adf40ea2d3 = function(arg0, arg1) {\n        getObject(arg0).value = arg1;\n    };\n    imports.wbg.__wbg_defaultValue_489944cf72078ada = function(arg0) {\n        var ret = getObject(arg0).defaultValue;\n        return ret;\n    };\n    imports.wbg.__wbg_threshold_773394fed450776b = function(arg0) {\n        var ret = getObject(arg0).threshold;\n        return addHeapObject(ret);\n    };\n    imports.wbg.__wbg_knee_62b5c28da556ba51 = function(arg0) {\n        var ret = getObject(arg0).knee;\n        return addHeapObject(ret);\n    };\n    imports.wbg.__wbg_ratio_a643cb0eb7ff69f4 = function(arg0) {\n        var ret = getObject(arg0).ratio;\n        return addHeapObject(ret);\n    };\n    imports.wbg.__wbg_attack_f1c47c074c6479ad = function(arg0) {\n        var ret = getObject(arg0).attack;\n        return addHeapObject(ret);\n    };\n    imports.wbg.__wbg_release_66aaf443d2ecd4fe = function(arg0) {\n        var ret = getObject(arg0).release;\n        return addHeapObject(ret);\n    };\n    imports.wbg.__wbg_pan_060c77bc11ed83a4 = function(arg0) {\n        var ret = getObject(arg0).pan;\n        return addHeapObject(ret);\n    };\n    imports.wbg.__wbg_delayTime_9ac5b7dc014ec35d = function(arg0) {\n        var ret = getObject(arg0).delayTime;\n        return addHeapObject(ret);\n    };\n    imports.wbg.__wbg_gain_d4eaca6128dcfd90 = function(arg0) {\n        var ret = getObject(arg0).gain;\n        return addHeapObject(ret);\n    };\n    imports.wbg.__wbg_instanceof_AudioBuffer_75ae7a42c391f759 = function(arg0) {\n        var ret = getObject(arg0) instanceof AudioBuffer;\n        return ret;\n    };\n    imports.wbg.__wbg_duration_b1826cd5d3410ee3 = function(arg0) {\n        var ret = getObject(arg0).duration;\n        return ret;\n    };\n    imports.wbg.__wbg_new_3d276f1b0c6c5e21 = function() { return handleError(function (arg0) {\n        var ret = new AudioBuffer(getObject(arg0));\n        return addHeapObject(ret);\n    }, arguments) };\n    imports.wbg.__wbg_copyToChannel_b4918009bf25ac35 = function() { return handleError(function (arg0, arg1, arg2, arg3) {\n        getObject(arg0).copyToChannel(getArrayF32FromWasm0(arg1, arg2), arg3);\n    }, arguments) };\n    imports.wbg.__wbg_setbuffer_fd285c7b7a06678a = function(arg0, arg1) {\n        getObject(arg0).buffer = getObject(arg1);\n    };\n    imports.wbg.__wbg_frequency_8c3d017b1ec56a31 = function(arg0) {\n        var ret = getObject(arg0).frequency;\n        return addHeapObject(ret);\n    };\n    imports.wbg.__wbg_detune_d8da7bdbf3f81230 = function(arg0) {\n        var ret = getObject(arg0).detune;\n        return addHeapObject(ret);\n    };\n    imports.wbg.__wbg_log_3445347661d4505e = function(arg0) {\n        console.log(getObject(arg0));\n    };\n    imports.wbg.__wbg_destination_6c3ac66ee8b2fe85 = function(arg0) {\n        var ret = getObject(arg0).destination;\n        return addHeapObject(ret);\n    };\n    imports.wbg.__wbg_sampleRate_ffa6f08191b00934 = function(arg0) {\n        var ret = getObject(arg0).sampleRate;\n        return ret;\n    };\n    imports.wbg.__wbg_currentTime_e231c76a3c011126 = function(arg0) {\n        var ret = getObject(arg0).currentTime;\n        return ret;\n    };\n    imports.wbg.__wbg_new_52bbbd81ffc19dff = function() { return handleError(function () {\n        var ret = new lAudioContext();\n        return addHeapObject(ret);\n    }, arguments) };\n    imports.wbg.__wbg_createBiquadFilter_c3c52028a2109b9d = function() { return handleError(function (arg0) {\n        var ret = getObject(arg0).createBiquadFilter();\n        return addHeapObject(ret);\n    }, arguments) };\n    imports.wbg.__wbg_createBufferSource_7244d810d62a0bed = function() { return handleError(function (arg0) {\n        var ret = getObject(arg0).createBufferSource();\n        return addHeapObject(ret);\n    }, arguments) };\n    imports.wbg.__wbg_createChannelMerger_542d0885aa4bdc09 = function() { return handleError(function (arg0, arg1) {\n        var ret = getObject(arg0).createChannelMerger(arg1 >>> 0);\n        return addHeapObject(ret);\n    }, arguments) };\n    imports.wbg.__wbg_createChannelSplitter_95302cbc3f9b9f85 = function() { return handleError(function (arg0, arg1) {\n        var ret = getObject(arg0).createChannelSplitter(arg1 >>> 0);\n        return addHeapObject(ret);\n    }, arguments) };\n    imports.wbg.__wbg_createConstantSource_b41469da72be11da = function() { return handleError(function (arg0) {\n        var ret = getObject(arg0).createConstantSource();\n        return addHeapObject(ret);\n    }, arguments) };\n    imports.wbg.__wbg_createConvolver_c452427019e40ddc = function() { return handleError(function (arg0) {\n        var ret = getObject(arg0).createConvolver();\n        return addHeapObject(ret);\n    }, arguments) };\n    imports.wbg.__wbg_createDelay_d178a6d343f579c3 = function() { return handleError(function (arg0) {\n        var ret = getObject(arg0).createDelay();\n        return addHeapObject(ret);\n    }, arguments) };\n    imports.wbg.__wbg_createDynamicsCompressor_ac679007d232220a = function() { return handleError(function (arg0) {\n        var ret = getObject(arg0).createDynamicsCompressor();\n        return addHeapObject(ret);\n    }, arguments) };\n    imports.wbg.__wbg_createGain_c5f114390c363029 = function() { return handleError(function (arg0) {\n        var ret = getObject(arg0).createGain();\n        return addHeapObject(ret);\n    }, arguments) };\n    imports.wbg.__wbg_createOscillator_976d3c8e16e078b0 = function() { return handleError(function (arg0) {\n        var ret = getObject(arg0).createOscillator();\n        return addHeapObject(ret);\n    }, arguments) };\n    imports.wbg.__wbg_createStereoPanner_6b0ead6c67bbd51c = function() { return handleError(function (arg0) {\n        var ret = getObject(arg0).createStereoPanner();\n        return addHeapObject(ret);\n    }, arguments) };\n    imports.wbg.__wbg_decodeAudioData_e04afd162e340c7d = function() { return handleError(function (arg0, arg1) {\n        var ret = getObject(arg0).decodeAudioData(getObject(arg1));\n        return addHeapObject(ret);\n    }, arguments) };\n    imports.wbg.__wbg_instanceof_AudioNode_ed5150583da4af19 = function(arg0) {\n        var ret = getObject(arg0) instanceof AudioNode;\n        return ret;\n    };\n    imports.wbg.__wbg_numberOfInputs_1f4e15cb1c81e60f = function(arg0) {\n        var ret = getObject(arg0).numberOfInputs;\n        return ret;\n    };\n    imports.wbg.__wbg_numberOfOutputs_93000d7c5d3817c8 = function(arg0) {\n        var ret = getObject(arg0).numberOfOutputs;\n        return ret;\n    };\n    imports.wbg.__wbg_connect_eb8fcb61cab88f0b = function() { return handleError(function (arg0, arg1, arg2, arg3) {\n        var ret = getObject(arg0).connect(getObject(arg1), arg2 >>> 0, arg3 >>> 0);\n        return addHeapObject(ret);\n    }, arguments) };\n    imports.wbg.__wbg_connect_ba14c50174f91c1f = function() { return handleError(function (arg0, arg1, arg2) {\n        getObject(arg0).connect(getObject(arg1), arg2 >>> 0);\n    }, arguments) };\n    imports.wbg.__wbg_disconnect_a7d53f0c0236762f = function() { return handleError(function (arg0, arg1, arg2, arg3) {\n        getObject(arg0).disconnect(getObject(arg1), arg2 >>> 0, arg3 >>> 0);\n    }, arguments) };\n    imports.wbg.__wbg_disconnect_4ebe1430792b62cd = function() { return handleError(function (arg0, arg1, arg2) {\n        getObject(arg0).disconnect(getObject(arg1), arg2 >>> 0);\n    }, arguments) };\n    imports.wbg.__wbg_setbuffer_c643a88bac27b2bd = function(arg0, arg1) {\n        getObject(arg0).buffer = getObject(arg1);\n    };\n    imports.wbg.__wbg_start_2fc7c700ae119a8f = function() { return handleError(function (arg0, arg1, arg2, arg3) {\n        getObject(arg0).start(arg1, arg2, arg3);\n    }, arguments) };\n    imports.wbg.__wbg_stop_ceac30cd41a20744 = function() { return handleError(function (arg0) {\n        getObject(arg0).stop();\n    }, arguments) };\n    imports.wbg.__wbg_offset_d3bf86d8c20965b0 = function(arg0) {\n        var ret = getObject(arg0).offset;\n        return addHeapObject(ret);\n    };\n    imports.wbg.__wbg_new_0b83d3df67ecb33e = function() {\n        var ret = new Object();\n        return addHeapObject(ret);\n    };\n    imports.wbg.__wbg_instanceof_Error_561efcb1265706d8 = function(arg0) {\n        var ret = getObject(arg0) instanceof Error;\n        return ret;\n    };\n    imports.wbg.__wbg_message_9f7d15ff97fc4102 = function(arg0) {\n        var ret = getObject(arg0).message;\n        return addHeapObject(ret);\n    };\n    imports.wbg.__wbg_call_346669c262382ad7 = function() { return handleError(function (arg0, arg1, arg2) {\n        var ret = getObject(arg0).call(getObject(arg1), getObject(arg2));\n        return addHeapObject(ret);\n    }, arguments) };\n    imports.wbg.__wbg_new_b1d61b5687f5e73a = function(arg0, arg1) {\n        try {\n            var state0 = {a: arg0, b: arg1};\n            var cb0 = (arg0, arg1) => {\n                const a = state0.a;\n                state0.a = 0;\n                try {\n                    return __wbg_adapter_259(a, state0.b, arg0, arg1);\n                } finally {\n                    state0.a = a;\n                }\n            };\n            var ret = new Promise(cb0);\n            return addHeapObject(ret);\n        } finally {\n            state0.a = state0.b = 0;\n        }\n    };\n    imports.wbg.__wbg_resolve_d23068002f584f22 = function(arg0) {\n        var ret = Promise.resolve(getObject(arg0));\n        return addHeapObject(ret);\n    };\n    imports.wbg.__wbg_then_2fcac196782070cc = function(arg0, arg1) {\n        var ret = getObject(arg0).then(getObject(arg1));\n        return addHeapObject(ret);\n    };\n    imports.wbg.__wbg_then_8c2d62e8ae5978f7 = function(arg0, arg1, arg2) {\n        var ret = getObject(arg0).then(getObject(arg1), getObject(arg2));\n        return addHeapObject(ret);\n    };\n    imports.wbg.__wbg_buffer_397eaa4d72ee94dd = function(arg0) {\n        var ret = getObject(arg0).buffer;\n        return addHeapObject(ret);\n    };\n    imports.wbg.__wbg_newwithbyteoffsetandlength_4b9b8c4e3f5adbff = function(arg0, arg1, arg2) {\n        var ret = new Uint8Array(getObject(arg0), arg1 >>> 0, arg2 >>> 0);\n        return addHeapObject(ret);\n    };\n    imports.wbg.__wbg_new_a7ce447f15ff496f = function(arg0) {\n        var ret = new Uint8Array(getObject(arg0));\n        return addHeapObject(ret);\n    };\n    imports.wbg.__wbg_buffer_facf0398a281c85b = function(arg0) {\n        var ret = getObject(arg0).buffer;\n        return addHeapObject(ret);\n    };\n    imports.wbg.__wbg_set_82a4e8a85e31ac42 = function() { return handleError(function (arg0, arg1, arg2) {\n        var ret = Reflect.set(getObject(arg0), getObject(arg1), getObject(arg2));\n        return ret;\n    }, arguments) };\n    imports.wbg.__wbindgen_debug_string = function(arg0, arg1) {\n        var ret = debugString(getObject(arg1));\n        var ptr0 = passStringToWasm0(ret, wasm.__wbindgen_malloc, wasm.__wbindgen_realloc);\n        var len0 = WASM_VECTOR_LEN;\n        getInt32Memory0()[arg0 / 4 + 1] = len0;\n        getInt32Memory0()[arg0 / 4 + 0] = ptr0;\n    };\n    imports.wbg.__wbindgen_throw = function(arg0, arg1) {\n        throw new Error(getStringFromWasm0(arg0, arg1));\n    };\n    imports.wbg.__wbindgen_memory = function() {\n        var ret = wasm.memory;\n        return addHeapObject(ret);\n    };\n    imports.wbg.__wbindgen_closure_wrapper1181 = function(arg0, arg1, arg2) {\n        var ret = makeMutClosure(arg0, arg1, 333, __wbg_adapter_20);\n        return addHeapObject(ret);\n    };\n\n    if (typeof input === 'string' || (typeof Request === 'function' && input instanceof Request) || (typeof URL === 'function' && input instanceof URL)) {\n        input = fetch(input);\n    }\n\n\n\n    const { instance, module } = await load(await input, imports);\n\n    wasm = instance.exports;\n    init.__wbindgen_wasm_module = module;\n\n    return wasm;\n}\n\nexport default init;\n\n","import { derived, writable } from 'svelte/store';\nimport init_wasm from '@engine';\nconst project = writable();\nfunction add_buffer(buffer) {\n    return new Promise((resolve, reject) => {\n        project.update(($project) => {\n            $project?.create_buffer(buffer).then(resolve).catch(reject);\n            return $project;\n        });\n    });\n}\nfunction add_track(name) {\n    let track_id;\n    project.update(($project) => {\n        track_id = $project.create_track(name);\n        return $project;\n    });\n    return track_id;\n}\nasync function add_unique_clips(clip_names, buffers) {\n    project.update(($project) => {\n        (async () => {\n            for (let i = 0; i < clip_names.length; i++) {\n                const buffer = buffers[i];\n                const clip_name = clip_names[i];\n                try {\n                    const buffer_id = await $project.create_buffer(buffer);\n                    const buffer_duration = $project.get_buffer_duration(buffer_id);\n                    const clip_id = $project.create_unique_clip(clip_name, buffer_duration, buffer_id);\n                }\n                catch (e) {\n                    console.log(\"Couldn't add clip:\", clip_name);\n                }\n            }\n            project.set($project);\n        })();\n        return $project;\n    });\n}\nfunction set_clip_buffer(clip_id, buffer_id) {\n    project.update(($project) => {\n        $project.set_clip_buffer(clip_id, buffer_id);\n        return $project;\n    });\n}\nfunction delete_track(track_id) {\n    project.update(($project) => {\n        $project?.delete_track(track_id);\n        return $project;\n    });\n}\nfunction set_track_gain(track_id, gain) {\n    project.update(($project) => {\n        $project.set_track_gain(track_id, gain);\n        return $project;\n    });\n}\nfunction set_track_pan(track_id, pan) {\n    project.update(($project) => {\n        $project.set_track_pan(track_id, pan);\n        return $project;\n    });\n}\nfunction set_track_enabled(track_id, enabled) {\n    project.update(($project) => {\n        $project.set_track_enabled(track_id, enabled);\n        return $project;\n    });\n}\nfunction set_clip_position(track_id, clip_index, position) {\n    position = Math.round(position);\n    project.update(($project) => {\n        const clip_id = $project.get_track_clip(track_id, clip_index);\n        $project.set_clip_position(clip_id, BigInt(position));\n        return $project;\n    });\n}\nfunction set_clip_duration(track_id, clip_index, duration) {\n    duration = Math.round(duration);\n    project.update(($project) => {\n        const clip_id = $project.get_track_clip(track_id, clip_index);\n        $project.set_clip_duration(clip_id, BigInt(duration));\n        return $project;\n    });\n}\nfunction add_clip_to_track(track_id, unique_clip_index, pos, dur) {\n    let copy_clip_id;\n    project.update(($project) => {\n        const unique_clip_id = $project.get_unique_clip_id(unique_clip_index);\n        const clip_name = $project.get_unique_clip_name(unique_clip_id);\n        copy_clip_id = $project.copy_clip(clip_name, BigInt(pos), unique_clip_id);\n        if (dur) {\n            $project.set_clip_duration(copy_clip_id, BigInt(dur));\n        }\n        $project.add_clip_to_track(track_id, copy_clip_id);\n        return $project;\n    });\n    return copy_clip_id;\n}\nfunction duplicate_clip(track_id, unique_clip_index, pos) {\n    project.update(($project) => {\n        const unique_clip_id = $project.get_unique_clip_id(unique_clip_index);\n        const name = $project.get_unique_clip_name(unique_clip_id);\n        let copy_clip_id = $project.copy_clip(name, BigInt(pos), unique_clip_id);\n        $project.add_clip_to_track(track_id, copy_clip_id);\n        return $project;\n    });\n}\nfunction delete_clip_from_track(track_id, clip_index) {\n    project.update(($project) => {\n        const clip_id = $project.get_track_clip(track_id, clip_index);\n        $project.remove_clip(track_id, clip_id);\n        $project.delete_clip(clip_id);\n        return $project;\n    });\n}\nfunction set_volume(volume) {\n    project.update(($project) => {\n        $project?.set_volume(volume);\n        return $project;\n    });\n}\nfunction set_tempo(tempo) {\n    project.update(($project) => {\n        $project?.set_tempo(tempo);\n        return $project;\n    });\n}\nfunction set_node_position(node_id, x, y) {\n    project.update(($project) => {\n        $project?.set_node_position_by_id(node_id, x, y);\n        return $project;\n    });\n}\nfunction set_node_param_value(node_id, param_id, value) {\n    project.update(($project) => {\n        const module_instance_id = $project.get_node_module_instance_id(node_id);\n        $project?.set_module_instance_control_param_value(module_instance_id, param_id, value);\n        return $project;\n    });\n}\nfunction set_track_name(track_id, name) {\n    project.update(($project) => {\n        $project?.set_track_name(track_id, name);\n        return $project;\n    });\n}\nconst project_data = derived(project, ($project, set) => {\n    if (!$project) {\n        return set({\n            tracks: [],\n            module_names: [],\n            clips: [],\n            unique_clips: [],\n            nodes: [],\n            volume: 0.0,\n            tempo: 0.0,\n            quartz_to_secs: (_) => 0,\n            secs_to_quartz: (_) => 0n,\n        });\n    }\n    function get_track_clip(track_id, clip_index) {\n        const clip_id = $project.get_track_clip(track_id, clip_index);\n        if (clip_id && $project.is_clip_alive(clip_id)) {\n            return {\n                id: clip_id,\n                from_unique_clip_index: $project.get_clip_unique_clip_id_index(clip_id),\n                index: clip_index,\n                name: $project.get_clip_name(clip_id),\n                position: Number($project.get_clip_position(clip_id)),\n                duration: Number($project.get_clip_duration(clip_id)),\n                buffer: [], // no getter for buffer\n            };\n            // C'est bon j'ai finis cf project/clip.rs\n        }\n    }\n    function nodeid_to_number(node_id) {\n        return $project.node_id_to_number(node_id);\n    }\n    function trackid_to_number(track_id) {\n        return $project.track_id_to_number(track_id);\n    }\n    function number_to_nodeid(id) {\n        return $project.number_to_node_id(id);\n    }\n    function nodeid_equals(id1, id2) {\n        return $project.node_id_equals(id1, id2);\n    }\n    function get_track_clips(track_id) {\n        const clips_count = $project.get_track_clip_count(track_id);\n        const clips = [...Array(clips_count).keys()].map((i) => {\n            const clip = get_track_clip(track_id, i);\n            return clip;\n        });\n        return clips;\n    }\n    function get_track(track_id) {\n        const name = $project.get_track_name(track_id);\n        const clips = get_track_clips(track_id);\n        const gain = $project.get_track_gain(track_id);\n        const pan = $project.get_track_pan(track_id);\n        const is_enabled = $project.is_track_enabled(track_id);\n        return {\n            id: track_id,\n            numeral_track_id: trackid_to_number(track_id),\n            name,\n            clips,\n            gain,\n            pan,\n            is_enabled,\n        };\n    }\n    function get_clip(clip_id, index) {\n        const name = $project.get_clip_name(clip_id);\n        const position = $project.get_clip_position(clip_id);\n        const duration = $project.get_clip_duration(clip_id);\n        const from_unique_clip_index = $project.get_clip_unique_clip_id_index(clip_id);\n        return {\n            from_unique_clip_index,\n            id: clip_id,\n            index,\n            name,\n            position: Number(position),\n            duration: Number(duration),\n        };\n    }\n    function get_unique_clip(clip_id, index) {\n        const name = $project.get_unique_clip_name(clip_id);\n        const duration = $project.get_unique_clip_duration(clip_id);\n        return {\n            id: clip_id,\n            index,\n            name,\n            duration: Number(duration),\n        };\n    }\n    function get_module_factory_names($project) {\n        const modules_count = $project.get_module_factory_id_count();\n        const modules = [];\n        for (let i = 0; i < modules_count; i++) {\n            const module_id = $project.get_module_factory_id(i);\n            modules.push({\n                id: i,\n                name: $project.get_module_factory_name(module_id),\n            });\n        }\n        return modules;\n    }\n    function get_nodes($project) {\n        const nodes_count = $project.get_node_ids_count();\n        const nodes = [];\n        for (let i = 0; i < nodes_count; i++) {\n            const node_id = $project.get_node_id(i);\n            const node_name = $project.get_node_name(node_id);\n            const node_position_x = $project.get_node_x(node_id);\n            const node_position_y = $project.get_node_y(node_id);\n            const module_instance_id = $project.get_node_module_instance_id(node_id);\n            let inputs = [];\n            let outputs = [];\n            let params = [];\n            let links = [];\n            const control_count = $project.get_module_instance_control_count(module_instance_id);\n            for (let j = 0; j < control_count; j++) {\n                const control_type = $project.get_module_instance_control_type(module_instance_id, j);\n                if (control_type == 'input') {\n                    const input_id = inputs.length;\n                    const input_label = $project.get_module_instance_control_input_label(module_instance_id, input_id);\n                    inputs.push({\n                        id: input_id,\n                        label: input_label,\n                    });\n                }\n                else if (control_type == 'output') {\n                    const output_id = outputs.length;\n                    const output_label = $project.get_module_instance_control_output_label(module_instance_id, output_id);\n                    outputs.push({\n                        id: output_id,\n                        label: output_label,\n                    });\n                }\n                else if (control_type == 'param') {\n                    const param_id = params.length;\n                    const param_label = $project.get_module_instance_control_param_label(module_instance_id, param_id);\n                    const param_default_value = $project.get_module_instance_control_param_default_value(module_instance_id, param_id);\n                    const param_min_value = $project.get_module_instance_control_param_min_value(module_instance_id, param_id);\n                    const param_max_value = $project.get_module_instance_control_param_max_value(module_instance_id, param_id);\n                    const param_value = $project.get_module_instance_control_param_value(module_instance_id, param_id);\n                    params.push({\n                        type: 0,\n                        id: param_id,\n                        object: {\n                            label: param_label,\n                            max: param_max_value,\n                            min: param_min_value,\n                            default: param_default_value,\n                            value: param_value,\n                        },\n                    });\n                }\n            }\n            inputs.forEach((input, i) => {\n                let result = $project.get_link(node_id, i);\n                if (result) {\n                    console.log(result);\n                    if (result.node) {\n                        links.push({\n                            outputNodeId: result.node,\n                            outputNumeralNodeId: nodeid_to_number(result.node),\n                            inputPortIndex: i,\n                            outputPortIndex: result.output_index,\n                        });\n                    }\n                    else if (result.track) {\n                        console.log('LINK TO TRCAKCJ:', result.track);\n                        links.push({\n                            outputTrackId: result.track,\n                            outputNumeralTrackId: trackid_to_number(result.track),\n                            inputPortIndex: i,\n                            outputPortIndex: result.output_index,\n                        });\n                    }\n                }\n            });\n            const node = {\n                node_id: node_id,\n                numeral_node_id: nodeid_to_number(node_id),\n                x: node_position_x,\n                y: node_position_y,\n                name: node_name,\n                parameters: params,\n                inputs: inputs,\n                outputs: outputs,\n                links: links,\n            };\n            nodes.push(node);\n        }\n        return nodes;\n    }\n    function get_tracks($project) {\n        let tracks = [];\n        const tracks_count = $project.get_track_count();\n        for (let i = 0; i < tracks_count; i++) {\n            let track_id = $project.get_track_by_index(i);\n            tracks.push(get_track(track_id));\n        }\n        return tracks;\n    }\n    function get_clips($project) {\n        let clips = [];\n        const clips_count = $project.get_clip_ids_count();\n        for (let i = 0; i < clips_count; i++) {\n            const clip_id = $project.get_clip_id(i);\n            clips.push(get_clip(clip_id, i));\n        }\n        return clips;\n    }\n    function get_unique_clips($project) {\n        let unique_clips = [];\n        const unique_clips_count = $project.get_unique_clip_ids_count();\n        for (let i = 0; i < unique_clips_count; i++) {\n            const clip_id = $project.get_unique_clip_id(i);\n            unique_clips.push(get_unique_clip(clip_id, i));\n        }\n        return unique_clips;\n    }\n    function get_volume($project) {\n        return $project.volume();\n    }\n    function get_tempo($project) {\n        return $project.tempo();\n    }\n    set({\n        tracks: get_tracks($project),\n        clips: get_clips($project),\n        unique_clips: get_unique_clips($project),\n        module_names: get_module_factory_names($project),\n        nodes: get_nodes($project),\n        volume: get_volume($project),\n        tempo: get_tempo($project),\n        quartz_to_secs: (q) => $project.quartz_to_secs(q),\n        secs_to_quartz: (s) => $project.secs_to_quartz(s),\n    });\n});\nfunction play() {\n    project.update(($project) => {\n        $project.play();\n        return $project;\n    });\n}\nfunction stop() {\n    project.update(($project) => {\n        $project.stop();\n        return $project;\n    });\n}\n// nodes\nfunction delete_node(node_id) {\n    project.update(($project) => {\n        $project?.delete_node(node_id);\n        return $project;\n    });\n}\nfunction delete_clip(clip_id) {\n    project.update(($project) => {\n        $project?.delete_clip(clip_id);\n        return $project;\n    });\n}\nfunction delete_buffer(buffer_id) {\n    project.update(($project) => {\n        $project?.delete_buffer(buffer_id);\n        return $project;\n    });\n}\nfunction create_node(module_factory_index, x, y) {\n    let module_id;\n    let module_instance_id;\n    let node_id;\n    project.update(($project) => {\n        module_id = $project?.get_module_factory_id(module_factory_index);\n        module_instance_id = $project?.create_module_instance(module_id);\n        node_id = $project?.create_node(module_id, module_instance_id, x, y);\n        return $project;\n    });\n    return node_id;\n}\n/*\n    AudioGraph\n*/\nfunction link_nodes(first_node_id, second_node_id, first_node_index, second_node_index) {\n    let result = false;\n    project.update(($project) => {\n        result = $project.link_nodes(first_node_id, second_node_id, first_node_index, second_node_index);\n        return $project;\n    });\n    return result;\n}\nfunction link_node_track(node_id, track_id, index) {\n    project.update(($project) => {\n        $project.link_node_to_track(node_id, track_id, index);\n        return $project;\n    });\n}\n// get_link_from_param_id\n// get_source_from_node_input\n// link_node_to_track\n// get_node\n// Node\n//\nasync function init() {\n    const { Project } = await init_wasm();\n    project.set(new Project('untitled'));\n    project.update(($project) => {\n        $project.create_track('Track Name');\n        $project.create_track('Track Name');\n        return $project;\n    });\n}\ninit();\nexport default {\n    subscribe: project_data.subscribe,\n    add_buffer,\n    add_track,\n    add_clip_to_track,\n    add_unique_clips,\n    set_clip_position,\n    set_clip_duration,\n    create_node,\n    set_node_position,\n    delete_node,\n    delete_buffer,\n    delete_clip,\n    delete_track,\n    delete_clip_from_track,\n    set_track_gain,\n    set_track_pan,\n    set_volume,\n    set_tempo,\n    set_node_param_value,\n    set_track_name,\n    set_track_enabled,\n    play,\n    stop,\n    duplicate_clip,\n    link_nodes,\n    link_node_track,\n};\n","<script lang=\"ts\">\n    import { Clip } from './components';\n    import AddFile from '../../AddFile.svelte';\n    import project from '../../../stores/project';\n    import { dragSource, DragSourceOptions } from '../../../actions';\n\n    let files;\n\n    $: if (files != undefined) {\n        (async () => {\n            let file_names = [];\n            let file_buffers = [];\n            for (let file of files) {\n                let buff = await file.arrayBuffer();\n                let u8_vec = new Uint8Array(buff);\n                file_names.push(file.name);\n                file_buffers.push(u8_vec);\n            }\n            project.add_unique_clips(file_names, file_buffers);\n        })();\n    }\n\n    let unique_clips = [];\n\n    project.subscribe(($project: any) => {\n        unique_clips = $project?.unique_clips ?? [];\n    });\n\n    function getClipDragSourceOptions(clip) {\n        return {\n            key: 'clipObject',\n            object: clip,\n        };\n    }\n</script>\n\n<aside class=\"clip-container\">\n    <div class=\"clip-title\">\n        <AddFile bind:files />\n        <p>Clips</p>\n    </div>\n    <div class=\"clip-stack\">\n        {#each unique_clips as clip}\n            <div\n                style=\"width:100%\"\n                use:dragSource={getClipDragSourceOptions(clip)}\n            >\n                <Clip clipname={clip.name} />\n            </div>\n        {/each}\n    </div>\n</aside>\n\n<style lang=\"scss\">\n    .clip-title {\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        text-align: center;\n        height: 30px;\n        margin-top: 24px;\n        p {\n        user-select: none;\n            color: var(--theme-fonts-color);\n            font-family: var(--theme-fonts-title), sans-serif;\n            font-style: normal;\n            font-weight: bold;\n            font-size: 18px;\n            line-height: 22px;\n        }\n    }\n\n    ::-webkit-scrollbar {\n        width: 6px;\n        border-radius: 16px;\n        background: var(--theme-colors-background-contrast);\n    }\n\n    .clip-container {\n        user-select: none;\n        width: 300px;\n        overflow: auto;\n        background-color: var(--theme-colors-background-primary);\n        .clip-stack {\n            padding-top: 10px;\n            display: flex;\n            flex-direction: column;\n            gap: 12px;\n            align-items: center;\n            justify-content: stretch;\n            padding: 10px 14px;\n            overflow-y: scroll;\n            height: calc(100vh - 244px);\n        }\n    }\n</style>\n","<script lang=\"ts\">\n    import { createEventDispatcher } from 'svelte';\n\n    export let size: number = 30;\n    export let progress_type: 'absolute' | 'relative' = 'absolute';\n    export let min: number = { absolute: 0, relative: -1 }[progress_type];\n    export let max: number = 1;\n    export let value: number = 0;\n    export let enabled: boolean = true;\n    export let progress_color: string = '#FF0149';\n    export let track_width = 3;\n\n    const dispatch = createEventDispatcher();\n\n    $: normalized = (value - min) / (max - min);\n    $: valueArcStart =\n        (progress_type === 'absolute' ? 90 : 225) * (Math.PI / 180);\n    $: valueArcEnd = (90 + normalized * 270) * (Math.PI / 180);\n    $: valueArcLarge = valueArcEnd - valueArcStart > Math.PI;\n    $: valueArcSide = valueArcEnd > valueArcStart;\n    $: neutral = value === 0;\n    $: value = Math.min(max, Math.max(min, value));\n\n    function handlePointerDown(e: PointerEvent) {\n        e.preventDefault();\n        e.stopPropagation();\n        if (e.button !== 0 || !enabled) {\n            return;\n        }\n        this.requestPointerLock =\n            this.requestPointerLock ||\n            this.mozRequestPointerLock ||\n            this.webkitPointerLockElement;\n\n        this.requestPointerLock();\n        this.onpointermove = (e: PointerEvent) => {\n            e.preventDefault();\n            e.stopPropagation();\n            if (Math.abs(e.movementX) > Math.abs(e.movementY)) {\n                value += (e.movementX / 100) * (max - min) * 0.5;\n            } else {\n                value -= (e.movementY / 100) * (max - min) * 0.5;\n            }\n            if (value < min) value = min;\n            if (value > max) value = max;\n        };\n        this.onpointerup = (e: PointerEvent) => {\n            e.preventDefault();\n            e.stopPropagation();\n            this.onpointermove = null;\n            this.onpointerup = null;\n            document.exitPointerLock =\n                document.exitPointerLock ||\n                document.mozExitPointerLock ||\n                document.webkitExitPointerLock;\n            document.exitPointerLock();\n            dispatch('change', { value });\n        };\n    }\n\n    function handleScroll(e: WheelEvent) {\n        e.preventDefault();\n        e.stopPropagation();\n        if (!enabled) return;\n        value -=\n            ((Math.abs(e.deltaX) > Math.abs(e.deltaY) ? e.deltaX : e.deltaY) /\n                400) *\n            (max - min) *\n            0.5;\n        if (value < min) value = min;\n        if (value > max) value = max;\n        dispatch('change', { value });\n    }\n</script>\n\n<input type=\"number\" hidden bind:value {enabled} {min} {max} />\n\n<svg\n    width={size}\n    height={size}\n    on:pointerdown|stopPropagation|preventDefault={handlePointerDown}\n    on:wheel|stopPropagation|preventDefault={handleScroll}\n>\n    <circle\n        opacity=\"1\"\n        cx=\"50%\"\n        cy=\"50%\"\n        r={size / 2}\n        fill=\"url(#{enabled ? 'gradient_enabled' : 'gradient_disabled'})\"\n    />\n    <defs>\n        <linearGradient\n            id=\"gradient_enabled\"\n            x1=\"50%\"\n            y1=\"0\"\n            x2=\"50%\"\n            y2=\"100%\"\n            gradientUnits=\"userSpaceOnUse\"\n        >\n            <stop stop-color=\"currentColor\" class=\"knob-gradient-enabled-start\"/>\n            <stop offset=\"1\" stop-color=\"currentColor\" class=\"knob-gradient-enabled-end\" />\n        </linearGradient>\n        <linearGradient\n            id=\"gradient_disabled\"\n            x1=\"50%\"\n            y1=\"0\"\n            x2=\"50%\"\n            y2=\"100%\"\n            gradientUnits=\"userSpaceOnUse\"\n        >\n            <stop stop-color=\"currentColor\" class=\"knob-gradient-disabled-start\"/>\n            <stop offset=\"1\" stop-color=\"currentColor\" class=\"knob-gradient-disabled-end\"/>\n        </linearGradient>\n    </defs>\n\n    <g\n        stroke=\"currentColor\"\n        class=\"knob-line\"\n        stroke-width={track_width}\n        stroke-linecap=\"round\"\n        fill=\"none\"\n    >\n        <g\n            transform={`translate(${size / 2} ${size / 2}) rotate(${\n                normalized * 270 - 135\n            })`}\n        >\n            <line\n                stroke-width={track_width / 2}\n                stroke-linecap=\"square\"\n                stroke=\"#555555\"\n                opacity={neutral ? 0.5 : 1}\n                x1=\"0\"\n                y1={track_width * 2 - size / 2}\n                x2=\"0\"\n                y2={track_width * 3 - size / 2}\n            />\n        </g>\n\n        <!-- Track -->\n        <path\n            opacity=\"0.25\"\n            transform={`translate(${size / 2} ${size / 2}) rotate(-135)`}\n            d={`\n                M 0,${track_width / 2 - size / 2}\n                A ${size / 2 - track_width / 2} ${\n                size / 2 - track_width / 2\n            } 0 1 1 ${track_width / 2 - size / 2},0\n            `}\n        />\n\n        <!-- Value track -->\n        <path\n            stroke={enabled ? progress_color : '#C4C4C4'}\n            stroke-width={track_width}\n            transform={`translate(${size / 2} ${size / 2}) rotate(-135)`}\n            opacity={Math.abs(valueArcStart - valueArcEnd) < 0.001 ? 0.0 : 1.0}\n            d={`\n                M ${Math.cos(valueArcStart) * (track_width / 2 - size / 2)}\n                ${Math.sin(valueArcStart) * (track_width / 2 - size / 2)}\n                A ${size / 2 - track_width / 2} ${size / 2 - track_width / 2} 0\n                ${valueArcLarge ? 1 : 0} ${valueArcSide ? 1 : 0}\n                ${Math.cos(valueArcEnd) * (track_width / 2 - size / 2)}\n                ${Math.sin(valueArcEnd) * (track_width / 2 - size / 2)}\n            `}\n        />\n    </g>\n</svg>\n\n<style lang=\"scss\">\n    .knob-gradient-enabled-start {\n        color: var(--theme-colors-knob-gradient_enabled_start);\n    }\n    .knob-gradient-enabled-end {\n        color: var(--theme-colors-knob-gradient_enabled_end);\n    }\n    .knob-gradient-disabled-start {\n        color: var(--theme-colors-knob-gradient_disabled_start);\n    }\n    .knob-gradient-disabled-end {\n        color: var(--theme-colors-knob-gradient_disabled_end);\n    }\n\n    .knob-line {\n        color: var(--theme-colors-knob-line);\n    }\n</style>\n","import { writable } from '../store/index.mjs';\nimport { now, loop, assign } from '../internal/index.mjs';\nimport { linear } from '../easing/index.mjs';\n\nfunction is_date(obj) {\n    return Object.prototype.toString.call(obj) === '[object Date]';\n}\n\nfunction tick_spring(ctx, last_value, current_value, target_value) {\n    if (typeof current_value === 'number' || is_date(current_value)) {\n        // @ts-ignore\n        const delta = target_value - current_value;\n        // @ts-ignore\n        const velocity = (current_value - last_value) / (ctx.dt || 1 / 60); // guard div by 0\n        const spring = ctx.opts.stiffness * delta;\n        const damper = ctx.opts.damping * velocity;\n        const acceleration = (spring - damper) * ctx.inv_mass;\n        const d = (velocity + acceleration) * ctx.dt;\n        if (Math.abs(d) < ctx.opts.precision && Math.abs(delta) < ctx.opts.precision) {\n            return target_value; // settled\n        }\n        else {\n            ctx.settled = false; // signal loop to keep ticking\n            // @ts-ignore\n            return is_date(current_value) ?\n                new Date(current_value.getTime() + d) : current_value + d;\n        }\n    }\n    else if (Array.isArray(current_value)) {\n        // @ts-ignore\n        return current_value.map((_, i) => tick_spring(ctx, last_value[i], current_value[i], target_value[i]));\n    }\n    else if (typeof current_value === 'object') {\n        const next_value = {};\n        for (const k in current_value) {\n            // @ts-ignore\n            next_value[k] = tick_spring(ctx, last_value[k], current_value[k], target_value[k]);\n        }\n        // @ts-ignore\n        return next_value;\n    }\n    else {\n        throw new Error(`Cannot spring ${typeof current_value} values`);\n    }\n}\nfunction spring(value, opts = {}) {\n    const store = writable(value);\n    const { stiffness = 0.15, damping = 0.8, precision = 0.01 } = opts;\n    let last_time;\n    let task;\n    let current_token;\n    let last_value = value;\n    let target_value = value;\n    let inv_mass = 1;\n    let inv_mass_recovery_rate = 0;\n    let cancel_task = false;\n    function set(new_value, opts = {}) {\n        target_value = new_value;\n        const token = current_token = {};\n        if (value == null || opts.hard || (spring.stiffness >= 1 && spring.damping >= 1)) {\n            cancel_task = true; // cancel any running animation\n            last_time = now();\n            last_value = new_value;\n            store.set(value = target_value);\n            return Promise.resolve();\n        }\n        else if (opts.soft) {\n            const rate = opts.soft === true ? .5 : +opts.soft;\n            inv_mass_recovery_rate = 1 / (rate * 60);\n            inv_mass = 0; // infinite mass, unaffected by spring forces\n        }\n        if (!task) {\n            last_time = now();\n            cancel_task = false;\n            task = loop(now => {\n                if (cancel_task) {\n                    cancel_task = false;\n                    task = null;\n                    return false;\n                }\n                inv_mass = Math.min(inv_mass + inv_mass_recovery_rate, 1);\n                const ctx = {\n                    inv_mass,\n                    opts: spring,\n                    settled: true,\n                    dt: (now - last_time) * 60 / 1000\n                };\n                const next_value = tick_spring(ctx, last_value, value, target_value);\n                last_time = now;\n                last_value = value;\n                store.set(value = next_value);\n                if (ctx.settled) {\n                    task = null;\n                }\n                return !ctx.settled;\n            });\n        }\n        return new Promise(fulfil => {\n            task.promise.then(() => {\n                if (token === current_token)\n                    fulfil();\n            });\n        });\n    }\n    const spring = {\n        set,\n        update: (fn, opts) => set(fn(target_value, value), opts),\n        subscribe: store.subscribe,\n        stiffness,\n        damping,\n        precision\n    };\n    return spring;\n}\n\nfunction get_interpolator(a, b) {\n    if (a === b || a !== a)\n        return () => a;\n    const type = typeof a;\n    if (type !== typeof b || Array.isArray(a) !== Array.isArray(b)) {\n        throw new Error('Cannot interpolate values of different type');\n    }\n    if (Array.isArray(a)) {\n        const arr = b.map((bi, i) => {\n            return get_interpolator(a[i], bi);\n        });\n        return t => arr.map(fn => fn(t));\n    }\n    if (type === 'object') {\n        if (!a || !b)\n            throw new Error('Object cannot be null');\n        if (is_date(a) && is_date(b)) {\n            a = a.getTime();\n            b = b.getTime();\n            const delta = b - a;\n            return t => new Date(a + t * delta);\n        }\n        const keys = Object.keys(b);\n        const interpolators = {};\n        keys.forEach(key => {\n            interpolators[key] = get_interpolator(a[key], b[key]);\n        });\n        return t => {\n            const result = {};\n            keys.forEach(key => {\n                result[key] = interpolators[key](t);\n            });\n            return result;\n        };\n    }\n    if (type === 'number') {\n        const delta = b - a;\n        return t => a + t * delta;\n    }\n    throw new Error(`Cannot interpolate ${type} values`);\n}\nfunction tweened(value, defaults = {}) {\n    const store = writable(value);\n    let task;\n    let target_value = value;\n    function set(new_value, opts) {\n        if (value == null) {\n            store.set(value = new_value);\n            return Promise.resolve();\n        }\n        target_value = new_value;\n        let previous_task = task;\n        let started = false;\n        let { delay = 0, duration = 400, easing = linear, interpolate = get_interpolator } = assign(assign({}, defaults), opts);\n        if (duration === 0) {\n            if (previous_task) {\n                previous_task.abort();\n                previous_task = null;\n            }\n            store.set(value = target_value);\n            return Promise.resolve();\n        }\n        const start = now() + delay;\n        let fn;\n        task = loop(now => {\n            if (now < start)\n                return true;\n            if (!started) {\n                fn = interpolate(value, new_value);\n                if (typeof duration === 'function')\n                    duration = duration(value, new_value);\n                started = true;\n            }\n            if (previous_task) {\n                previous_task.abort();\n                previous_task = null;\n            }\n            const elapsed = now - start;\n            if (elapsed > duration) {\n                store.set(value = new_value);\n                return false;\n            }\n            // @ts-ignore\n            store.set(value = fn(easing(elapsed / duration)));\n            return true;\n        });\n        return task.promise;\n    }\n    return {\n        set,\n        update: (fn, opts) => set(fn(target_value, value), opts),\n        subscribe: store.subscribe\n    };\n}\n\nexport { spring, tweened };\n","import { spring } from 'svelte/motion';\nexport default function drag(node, p) {\n    const params = p.params;\n    let elem;\n    p.elem_store.subscribe((e) => (elem = e));\n    const coordinates = spring({ x: params.posX, y: params.posY }, {\n        stiffness: 1,\n        damping: 1,\n    });\n    coordinates.subscribe(($coords) => {\n        if (elem != undefined) {\n            elem.style.transform = `translate3d(${$coords.x}px, ${$coords.y}px, 0)`;\n        }\n    });\n    node.addEventListener('mousedown', handleMouseDown);\n    function handleMouseDown(event) {\n        params.mousePosX = event.clientX;\n        params.mousePosY = event.clientY;\n        window.addEventListener('mousemove', handleMouseMove);\n        window.addEventListener('mouseup', handleMouseUp);\n    }\n    function handleMouseMove(event) {\n        const dx = event.clientX - params.mousePosX;\n        const dy = event.clientY - params.mousePosY;\n        params.mousePosX = event.clientX;\n        params.mousePosY = event.clientY;\n        coordinates.update(($coords) => {\n            let x = $coords.x + dx;\n            let y = $coords.y + dy;\n            if (x < 0) {\n                params.mousePosX -= x;\n                x = 0;\n            }\n            // if (x > params.parentWidth - params.parentLeft)\n            //     x = params.parentWidth - params.parentLeft;\n            if (y < 0) {\n                params.mousePosY -= y;\n                y = 0;\n            }\n            // if (y > params.parentHeight - params.parentTop)\n            //     y = params.parentHeight - params.parentTop;\n            return {\n                x,\n                y,\n            };\n        });\n    }\n    function handleMouseUp() {\n        window.removeEventListener('mousemove', handleMouseMove);\n        window.removeEventListener('mouseup', handleMouseUp);\n        coordinates.update(($coords) => {\n            params.updatePos($coords.x, $coords.y, params.mousePosX, params.mousePosY);\n            return $coords;\n        });\n    }\n    return {\n        destroy() {\n            node.removeEventListener('mousedown', () => console.log('clicks'));\n        },\n    };\n}\n","<script lang=\"ts\">\n    export let source: { x: number; y: number };\n    export let target: { x: number; y: number };\n    export let linkWidth: string = '2';\n    export let stiffness:\n        | number\n        | ((offset: { x: number; y: number }) => number) = ({ x }) =>\n        1 + 1 / (-1 - Math.abs(x) / 300);\n    $: delta = {\n        x: target.x - source.x,\n        y: target.y - source.y,\n    };\n    $: stiffnessValue = Math.max(\n        0,\n        Math.min(\n            1,\n            typeof stiffness === 'number' ? stiffness : stiffness({ ...delta })\n        )\n    );\n    $: invStiffness = 1.0 - stiffnessValue;\n</script>\n\n<path\n    class=\"link\"\n    fill=\"none\"\n    stroke=\"currentColor\"\n    stroke-width={linkWidth}\n    d={`\n    M ${source.x},${source.y}\n    c ${delta.x * invStiffness},${0}\n      ${delta.x * stiffnessValue},${delta.y}\n      ${delta.x},${delta.y}\n  `}\n/>\n<circle cx={source.x} cy={source.y} r=\"4\" fill=\"currentColor\" />\n<circle\n    cx={source.x + delta.x}\n    cy={source.y + delta.y}\n    r=\"4\"\n    fill=\"currentColor\"\n/>\n\n<style lang=\"scss\">\n    .link {\n        transition: opacity var(--anim-short);\n        transition: stroke-width var(--anim-short);\n    }\n</style>\n","import { writable } from 'svelte/store';\n//  Map<NumeralNodeId, Map<OutputPortIndex, OutputPortDomRect>>>\nexport default writable();\n","<script lang=\"ts\">\n    import Link from '../Link.svelte';\n    import type { Point } from '@app/utils/geom';\n    import { createEventDispatcher, onDestroy } from 'svelte';\n    import output_ports from '@app/stores/output_ports';\n    export let link_data = null;\n    export let size: number = 8;\n    export let color: string = 'var(--color-foreground-2)';\n    const dispatch = createEventDispatcher();\n    let elem: HTMLElement = null;\n    let linkTarget: Point = null;\n\n    let linkTargetUnsub: () => void = null;\n\n    $: if (!link_data) {\n        linkTarget = null;\n        if (linkTargetUnsub) {\n            linkTargetUnsub();\n            linkTargetUnsub = null;\n        }\n    }\n\n    $: if (link_data && elem) {\n        if (linkTargetUnsub) {\n            linkTargetUnsub();\n            linkTargetUnsub = null;\n        }\n\n        output_ports.subscribe((ports) => {\n            if (link_data && elem) {\n                try {\n                    let bounds: DOMRect = ports\n                        .get(\n                            link_data.outputNumeralNodeId\n                                ? link_data.outputNumeralNodeId\n                                : 'Track' + link_data.outputNumeralTrackId\n                        )\n                        .get(link_data.outputPortIndex);\n                    let local_bounds = elem.getBoundingClientRect();\n\n                    linkTarget = {\n                        x: bounds.x - local_bounds.x - 6,\n                        y: bounds.y - local_bounds.y - 6,\n                    };\n                } catch (error) {}\n            }\n        });\n    }\n\n    onDestroy(() => {\n        if (linkTargetUnsub) {\n            linkTargetUnsub();\n        }\n    });\n</script>\n\n<div\n    on:pointerup={(e) => e.button === 0 && dispatch('connect', elem)}\n    on:pointerdown={(e) => e.button === 0 && link_data && dispatch('wiretake')}\n    on:click|stopPropagation\n    bind:this={elem}\n>\n    <button />\n\n    {#if linkTarget}\n        <svg class=\"link\">\n            <Link source={{ x: 0, y: 0 }} target={linkTarget} />\n        </svg>\n    {/if}\n</div>\n\n<style lang=\"scss\">\n    div {\n        width: 12px;\n        height: 12px;\n        display: inherit;\n        position: relative;\n    }\n\n    button {\n        width: 100%;\n        height: 100%;\n        border: 2px solid var(--theme-colors-border);\n        border-radius: 50%;\n        padding: 2px 4px;\n        background-color: var(--theme-colors-background-primary);\n        &:hover {\n            cursor: pointer;\n        }\n        &:active {\n            background-color: var(--theme-colors-border);\n        }\n    }\n\n    .link {\n        color: var(--theme-colors-primary);\n        overflow: visible;\n        position: absolute;\n        top: 6px;\n        left: 6px;\n        pointer-events: none;\n    }\n</style>\n","<script lang=\"ts\">\n    import output_ports from '@app/stores/output_ports';\n\n    import { createEventDispatcher } from 'svelte';\n\n    export let is_link = false;\n\n    export let track = undefined;\n    const dispatch = createEventDispatcher();\n    let elem = undefined;\n    let elem_center: DOMRect;\n\n    export let owner_node: any;\n    export let output_index: number;\n\n    function on_pointer_down(e: PointerEvent) {\n        if (e.button !== 0) return;\n        dispatch(\n            'wireout',\n            track ? { track: track, target: e.currentTarget } : e.currentTarget\n        );\n    }\n\n    $: if (elem) {\n        is_link;\n\n        elem_center = elem.getBoundingClientRect();\n        elem_center.x += elem_center.width / 2;\n        elem_center.y += elem_center.height / 2;\n    }\n\n    $: if (is_link) {\n        output_ports.update((output_ports_map) => {\n            if (!output_ports_map) {\n                output_ports_map = new Map<number, Map<number, DOMRect>>();\n            }\n            if (\n                !output_ports_map.get(\n                    !track\n                        ? owner_node.numeral_node_id\n                        : 'Track' + track.numeral_track_id\n                )\n            ) {\n                output_ports_map.set(\n                    !track\n                        ? owner_node.numeral_node_id\n                        : 'Track' + track.numeral_track_id,\n                    new Map<number, DOMRect>()\n                );\n            }\n\n            let d = output_ports_map.get(\n                !track\n                    ? owner_node.numeral_node_id\n                    : 'Track' + track.numeral_track_id\n            );\n\n            d.set(output_index, elem_center);\n            output_ports_map.set(\n                !track\n                    ? owner_node.numeral_node_id\n                    : 'Track' + track.numeral_track_id,\n                d\n            );\n            return output_ports_map;\n        });\n    }\n</script>\n\n<button\n    on:pointerdown={on_pointer_down}\n    on:click|stopPropagation\n    bind:this={elem}\n    class:is_link\n/>\n\n<style lang=\"scss\">\n    button {\n        width: 12px;\n        height: 12px;\n        border: 2px solid var(--theme-colors-border);\n        border-radius: 50%;\n        padding: 2px 4px;\n        background-color: var(--theme-colors-background-primary);\n        &.is_link {\n            background-color: var(--theme-colors-background-primary);\n        }\n        &:hover {\n            cursor: pointer;\n        }\n        &:active {\n            background-color: var(--theme-colors-background-primary);\n        }\n    }\n</style>\n","<script lang=\"ts\">\n    import Knob from '../../../shared-components/Knob.svelte';\n    import drag from '../../../../actions/DraggableNode';\n    import type { Position } from '../../../../actions/DraggableNode';\n    import project from '../../../../stores/project';\n    import { onMount } from 'svelte';\n    import { InputPort, OutputPort } from '.';\n    import { createEventDispatcher } from 'svelte';\n    import { get, writable } from 'svelte/store';\n    import type { MockConnectionData } from '../';\n    import type { NodeId } from '@engine';\n\n    enum NodeControlType {\n        Knob = 0,\n        Breaker = 1,\n    }\n\n    class NodeControl {\n        type: NodeControlType;\n        id: number;\n        object;\n    }\n\n    class NodeIO {\n        id: number;\n        label: string;\n    }\n\n    class GridNode {\n        node: NodeControl;\n        index: number;\n        row: number;\n        col: number;\n\n        constructor(\n            node: NodeControl,\n            index: number,\n            row: number,\n            col: number\n        ) {\n            this.node = node;\n            this.index = index;\n            this.row = row;\n            this.col = col;\n        }\n    }\n\n    let node;\n\n    export let node_id: NodeId;\n    export let node_id_index = -1;\n    export let node_data = null;\n\n    export let parameters: NodeControl[] = [];\n    export let inputs: NodeIO[] = [];\n    export let outputs: NodeIO[] = [];\n    export let name = 'Undefined';\n    export let parentid = 'graph-container';\n    export let posX = 0;\n    export let posY = 0;\n    export let graph_nodes = [];\n\n    let clicked = false;\n    export let selected = false;\n\n    const dispatch = createEventDispatcher();\n\n    let parent: HTMLElement | null = null;\n    let positions: Position = {\n        posX,\n        posY,\n        mousePosX: 0,\n        mousePosY: 0,\n        parentTop: 0,\n        parentLeft: 0,\n        parentWidth: 0,\n        parentHeight: 0,\n        updatePos,\n    };\n    let elem: HTMLElement = undefined;\n\n    let elem_store = writable(elem);\n\n    $: elem_store.set(elem);\n\n    onMount(() => {\n        parent = document.getElementById(parentid);\n        positions.parentTop = parent.offsetTop;\n        positions.parentLeft = parent.offsetLeft;\n        positions.parentWidth = parent.offsetWidth;\n        positions.parentHeight = parent.offsetHeight;\n    });\n\n    function updatePos(posX_: number, posY_: number) {\n        if (posX != posX_ || posY != posY_) {\n            posX = posX_;\n            posY = posY_;\n            dispatch('move', {\n                node_id: node_data.node_id,\n                posX,\n                posY,\n            });\n        }\n    }\n\n    let grid_width: number = 0;\n    $: {\n        let max_width: number = 0;\n        let holder: number = 0;\n\n        parameters.forEach((v, i, a) => {\n            console.log({ v, i, a });\n            if (v.type == NodeControlType.Breaker) {\n                holder = 0;\n            } else {\n                holder += 1;\n            }\n            if (holder > max_width) max_width = holder;\n        });\n        grid_width = max_width;\n    }\n\n    let grid_height: number = 0;\n    $: {\n        let height: number = 1;\n\n        parameters.forEach((v, i, a) => {\n            if (v.type == NodeControlType.Breaker) {\n                height += 1;\n            }\n        });\n        grid_height = height;\n    }\n\n    let parameters_grid_nodes = [];\n    $: {\n        let current_width = 0;\n        let current_height = 0;\n\n        function process_grid(param: NodeControl, index: number) {\n            // let index = parameters.indexOf(param);\n            let row: number = current_height;\n            let col: number = current_width;\n\n            console.log(row, col);\n\n            if (param.type == NodeControlType.Breaker) {\n                current_height += 1;\n                current_width = 1;\n                return null;\n            }\n            current_width += 1;\n            return new GridNode(param, index, row, col);\n        }\n\n        parameters_grid_nodes = parameters.map(process_grid);\n    }\n\n    function knob_change_value(knod_id, value) {\n        project.set_node_param_value(node_id, knod_id, value);\n    }\n\n    function mouseMoveHandler(e) {\n        clicked = false;\n    }\n\n    function mouseDownHandler(e) {\n        clicked = true;\n    }\n\n    function mouseUpHandler(e) {\n        if (clicked == true) {\n            selected = !selected;\n            dispatch('select');\n        }\n        clicked = false;\n    }\n\n    function get_input_link(input, i, graph_nodes_arr) {\n        let link_ret = null;\n\n        graph_nodes_arr.forEach((node) => {\n            node.links.forEach((link) => {\n                if (\n                    node.numeral_node_id == node_data.numeral_node_id &&\n                    link.inputPortIndex == i\n                ) {\n                    link_ret = link;\n                    console.log('Input link: ', link);\n                    return;\n                }\n            });\n            if (link_ret) return;\n        });\n        console.log('GetInputLink returns ', link_ret);\n        return link_ret;\n    }\n\n    function is_output_linked(output_index, graph_nodes): boolean {\n        let result = false;\n\n        graph_nodes.forEach((node) => {\n            node.links.forEach((link) => {\n                if (\n                    link.outputNumeralNodeId == node_data.numeral_node_id &&\n                    link.outputPortIndex == output_index\n                ) {\n                    result = true;\n                    return;\n                }\n            });\n        });\n        return result;\n    }\n</script>\n\n<div class=\"node\" bind:this={elem} style=\"--pos-x: {posX}px; --pos-y: {posY}px\">\n    <div class=\"input\">\n        {#each inputs as input, i}\n            <InputPort\n                link_data={get_input_link(input, i, graph_nodes)}\n                on:wiretake={() =>\n                    dispatch('wiretake', {\n                        input: input,\n                        node_id_index: node_id_index,\n                    })}\n                on:connect={(e) => {\n                    dispatch('connect', {\n                        inputPort: e.detail,\n                        inputNode: elem,\n                        inputData: input,\n                        inputNodeId: node_data.node_id,\n                    });\n                }}\n            />\n        {/each}\n    </div>\n    <div\n        on:mousedown={mouseDownHandler}\n        on:mousemove={mouseMoveHandler}\n        on:mouseup={mouseUpHandler}\n        use:drag={{ params: positions, elem_store }}\n        class=\"container\"\n        style={`--grid-width: ${grid_width}; --grid-height: ${grid_height}; --border-width: ${\n            selected ? '1px' : '0px'\n        };`}\n    >\n        <div class=\"content\">\n            <h2>\n                {name}\n            </h2>\n            <div class=\"grid\">\n                {#each parameters_grid_nodes as param}\n                    {#if param != undefined}\n                        <div\n                            style=\"grid-column: {param.col}; grid-row: {param.row};\"\n                            class=\"node-content\"\n                        >\n                            {#if param.node.type == NodeControlType.Knob}\n                                <div class=\"node-content-knob\">\n                                    <Knob\n                                        min={param.node.object.min}\n                                        max={param.node.object.max}\n                                        value={param.node.object.value}\n                                        progress_type={param.node.object.kind}\n                                        on:change={(e) =>\n                                            knob_change_value(\n                                                param.index,\n                                                e.detail.value\n                                            )}\n                                    />\n                                </div>\n                                <h4>{param.node.object.label}</h4>\n                            {/if}\n                        </div>\n                    {/if}\n                {/each}\n            </div>\n        </div>\n    </div>\n\n    <div class=\"output\">\n        {#each outputs as output, i}\n            <OutputPort\n                owner_node={node_data}\n                output_index={i}\n                is_link={is_output_linked(i, graph_nodes)}\n                on:wireout={(e) => {\n                    dispatch('wireout', {\n                        outputNode: elem,\n                        outputPort: e.detail,\n                        outputData: output,\n                        outputNodeId: node_data.node_id,\n                    });\n                }}\n            />\n        {/each}\n    </div>\n</div>\n\n<style lang=\"scss\">\n    .input,\n    .output {\n        display: flex;\n        align-items: center;\n        justify-content: space-evenly;\n        flex-direction: column;\n    }\n\n    .input {\n        position: relative;\n        margin-right: 10px;\n    }\n\n    .output {\n        margin-left: 10px;\n    }\n\n    .node {\n        position: absolute;\n        user-select: none;\n        display: flex;\n        height: fit-content;\n        width: fit-content;\n        transform: translate3d(var(--pos-x), var(--pos-y), 0px);\n    }\n\n    .content {\n        // If we're linked, then maintain our position in the store\n        margin: 10px;\n        flex-grow: 1;\n\n        // &::before {\n        //     content: '';\n\n        //     position: absolute;\n        //     top: 0;\n        //     bottom: 0;\n        //     left: 0;\n        //     right: 0;\n        //     background-image: url('/assets/node/noise.png');\n        //     background-repeat: repeat;\n        //     background-size: auto;\n        //     background-blend-mode: overlay;\n        //     opacity: 0.05;\n        // }\n    }\n\n    .grid {\n        position: relative;\n        display: grid;\n        grid-template-columns: repeat(var(--grid-width), auto-fit);\n        grid-template-rows: repeat(var(--grid-height), auto-fit);\n        column-gap: 40px;\n        row-gap: 15px;\n        justify-content: space-around;\n        padding-top: 10px;\n        margin-left: 10px;\n        margin-right: 10px;\n    }\n\n    .node-content {\n        z-index: 2;\n        pointer-events: all;\n    }\n\n    .node-content > h4 {\n        text-align: center;\n        margin: 0px;\n        font-family: var(--theme-fonts-title, 'Arial'), sans-serif;\n        font-style: normal;\n        font-weight: normal;\n        font-size: 14px;\n        line-height: 17px;\n        align-items: center;\n        color: var(--theme-fonts-color);\n    }\n\n    .node-content-knob {\n        width: fit-content;\n        margin: auto;\n        left: 0;\n        right: 0;\n    }\n\n    h2 {\n        margin: 0;\n        font-family: var(--theme-fonts-title, 'Arial'), sans-serif;\n        font-style: normal;\n        font-weight: 800;\n        /* TODO: Make this reactive */\n        font-size: 11.75px;\n        line-height: 14px;\n        display: flex;\n        align-items: center;\n        color: var(--theme-fonts-color);\n        mix-blend-mode: normal;\n        pointer-events: none;\n        user-select: none;\n    }\n\n    h4 {\n        user-select: none;\n    }\n\n    .container {\n        display: inline;\n        mix-blend-mode: overlay;\n        pointer-events: all;\n        min-height: 100px;\n        background: linear-gradient(\n            287.88deg,\n            rgba(163, 163, 163, 0.132) -3.37%,\n            rgba(134, 134, 134, 0.6) 131.67%\n        );\n        box-shadow: 0px 1px 24px -1px rgba(0, 0, 0, 0.05);\n        backdrop-filter: blur(20px);\n        border-radius: 11.75px;\n        width: fit-content;\n        height: fit-content;\n        border: var(--border-width) solid #00000065;\n    }\n</style>\n","// key listener\nexport let shift_key_pressed = false;\nexport let control_key_pressed = false;\nexport function onkeydown(e) {\n    if (e.key === 'Shift') {\n        shift_key_pressed = true;\n    }\n    if (e.key === 'Control') {\n        control_key_pressed = true;\n    }\n}\nexport function onkeyup(e) {\n    if (e.key === 'Shift') {\n        shift_key_pressed = false;\n    }\n    if (e.key === 'Control') {\n        control_key_pressed = false;\n    }\n}\nexport function onkeypress(e) { }\n","<script lang=\"ts\">\n    import type { DropzoneOptions } from '../../../actions';\n    import { dropZone } from '../../../actions';\n    import Node from './components/Node.svelte';\n    import project from '../../../stores/project';\n    import { shift_key_pressed } from '../../../actions/key-listener';\n    import { InputPort } from './components';\n    import Link from './components/links/Link.svelte';\n    import { spring } from 'svelte/motion';\n    import type { Point } from '@app/utils/geom';\n    import type { NodeId } from '@engine';\n    import OutputPort from './components/links/io/OutputPort.svelte';\n\n    let graphPanel;\n\n    // $: nodes = $project?.nodes;\n\n    function callback(id, x, y) {\n        x -= graphPanel.offsetLeft;\n        y -= graphPanel.offsetTop;\n        project.create_node(id, x, y);\n    }\n\n    let track_arr = [];\n\n    project.subscribe(($project: any) => {\n        track_arr = $project.tracks ?? [];\n        console.log($project);\n    });\n\n    let nodeArray: Array<any> = [];\n    let pointerPos: Point = { x: 0, y: 0 };\n    let wireVisible = false;\n    let wireSource: any;\n    let wireStartPos = { x: 0, y: 0 };\n    let viewportRect: DOMRect;\n    let graph_nodes = [];\n\n    project.subscribe((project_v: any) => {\n        graph_nodes = project_v.nodes;\n    });\n\n    function toViewportSpace(point): Point {\n        viewportRect = graphPanel.getBoundingClientRect();\n        return {\n            x: point.x - viewportRect.left,\n            y: point.y - viewportRect.top,\n        };\n    }\n\n    function handle_wireout(e) {\n        let bounds = e.detail.outputPort.getBoundingClientRect();\n        let p = toViewportSpace(bounds);\n\n        wireSource = e.detail;\n        wireStartPos = {\n            x: p.x + bounds.width / 2,\n            y: p.y + bounds.height / 2,\n        };\n        wireVisible = true;\n    }\n\n    function handle_wiretake(e) {\n        return;\n        let node_id = e.detail.node_id;\n        let output_arr = mock_graph_co.get(node_id);\n\n        if (!output_arr) return;\n        let output = get_connection_from_iid(output_arr, e.detail.input.id);\n        let bounds = output.outputPortDom.getBoundingClientRect();\n        let p = toViewportSpace(bounds);\n\n        wireSource = {\n            outputData: output.outputPortId,\n            outputNodeId: output.outputNodeId,\n            outputPort: output.outputPortDom,\n        };\n        wireStartPos = {\n            x: p.x + bounds.width / 2,\n            y: p.y + bounds.height / 2,\n        };\n        wireVisible = true;\n    }\n\n    function handle_connect(e) {\n        if (wireSource) {\n            if (wireSource.track) {\n                const input = e.detail;\n\n                project.link_node_track(\n                    input.inputNodeId,\n                    wireSource.track.id,\n                    input.inputData.id\n                );\n\n                graph_nodes = graph_nodes;\n                wireSource = null;\n                wireVisible = false;\n            } else {\n                const input = e.detail;\n                let result = project.link_nodes(\n                    input.inputNodeId,\n                    wireSource.outputNodeId,\n                    input.inputData.id,\n                    wireSource.outputData.id\n                );\n\n                console.log(\n                    result\n                        ? 'Successfully linked nodes.'\n                        : \"Couldn't link nodes.\"\n                );\n                graph_nodes = graph_nodes;\n                wireSource = null;\n                wireVisible = false;\n            }\n        }\n    }\n\n    $: wireEndPos = spring(\n        { x: pointerPos.x, y: pointerPos.y },\n        {\n            stiffness: 0.25,\n            damping: 1,\n        }\n    );\n    $: nodeArray;\n    $: wireVisible = wireSource != null;\n    $: wireSource;\n    $: graph_nodes;\n\n    let dropzoneOptions: DropzoneOptions = {\n        key: 'nodeObject',\n        callback,\n    };\n\n    let selected_node = [];\n    let selected_node_id = [];\n    function selected_node_callback(index, node_id) {\n        const is_selected = selected_node_id.includes(index);\n        if (shift_key_pressed) {\n            if (is_selected) {\n                selected_node = selected_node.filter((id) => id !== node_id);\n                selected_node_id = selected_node_id.filter(\n                    (id) => id !== index\n                );\n            } else {\n                selected_node = [...selected_node, node_id];\n                selected_node_id = [...selected_node_id, index];\n            }\n        } else {\n            if (is_selected) {\n                selected_node = [];\n                selected_node_id = [];\n            } else {\n                selected_node = [node_id];\n                selected_node_id = [index];\n            }\n        }\n    }\n\n    function move_node_callback(node_id: NodeId, x: number, y: number) {\n        project.set_node_position(node_id, x, y);\n    }\n\n    function handleKeydown(event) {\n        if (event.key === 'Delete') {\n            for (const node_id of selected_node) {\n                project.delete_node(node_id);\n            }\n            selected_node = [];\n            selected_node_id = [];\n        }\n    }\n\n    function handle_track_output_wireout(e) {\n        let bounds = e.detail.target.getBoundingClientRect();\n        let p = toViewportSpace(bounds);\n\n        wireSource = e.detail;\n        wireStartPos = {\n            x: p.x + bounds.width / 2,\n            y: p.y + bounds.height / 2,\n        };\n        wireVisible = true;\n    }\n\n    function is_track_output_linked(\n        i,\n        c_track,\n        track_arr,\n        graph_nodes_arr\n    ): boolean {\n        let result = false;\n\n        graph_nodes_arr.forEach((node) => {\n            node.links.forEach((link) => {\n                if (link.outputNumeralTrackId != undefined) {\n                    if (link.outputNumeralTrackId == c_track.numeral_track_id) {\n                        result = true;\n                        return;\n                    }\n                }\n            });\n        });\n        return result;\n    }\n</script>\n\n<svelte:window on:keydown={handleKeydown} />\n\n<div\n    on:pointermove={(e) => {\n        let vpp = toViewportSpace({ x: e.x, y: e.y });\n\n        pointerPos = { x: vpp.x, y: vpp.y };\n    }}\n    on:pointerup={() => (wireSource = null)}\n    use:dropZone={dropzoneOptions}\n    class=\"graph-container\"\n    id=\"graph-container\"\n    tabindex=\"0\"\n    bind:this={graphPanel}\n>\n    <div class=\"track-stack\">\n        {#each track_arr as track, i}\n            <OutputPort\n                {track}\n                owner_node={undefined}\n                is_link={is_track_output_linked(\n                    i,\n                    track,\n                    track_arr,\n                    graph_nodes\n                )}\n                output_index={0}\n                on:wireout={handle_track_output_wireout}\n            />\n        {/each}\n    </div>\n\n    {#each graph_nodes as node, i (node.node_id)}\n        <Node\n            on:connect={handle_connect}\n            on:wireout={handle_wireout}\n            on:wiretake={handle_wiretake}\n            node_id={node.node_id}\n            node_id_index={i}\n            node_data={node}\n            posX={node.x}\n            posY={node.y}\n            parameters={node.parameters}\n            name={node.name}\n            inputs={node.inputs}\n            outputs={node.outputs}\n            selected={selected_node.includes(node.node_id)}\n            {graph_nodes}\n            on:select={(e) => selected_node_callback(i, node.node_id)}\n            on:move={(e) =>\n                move_node_callback(node.node_id, e.detail.posX, e.detail.posY)}\n        />\n    {/each}\n\n    {#if wireVisible}\n        <svg class=\"dragged-wire\" class:visible={!!wireSource}>\n            <Link source={wireStartPos} target={$wireEndPos} />\n        </svg>\n    {/if}\n</div>\n\n<style lang=\"scss\">\n    .graph-container {\n        outline: none;\n        display: flex;\n        position: relative;\n        flex-grow: 1;\n        margin-top: 23px;\n        background-color: var(--theme-colors-background-primary);\n    }\n\n    .track-stack {\n        padding: 8px;\n        display: flex;\n        flex-direction: column;\n        gap: 98px;\n        align-items: flex-start;\n    }\n\n    .dragged-wire {\n        position: absolute;\n        color: red;\n        overflow: visible;\n        pointer-events: none;\n        opacity: 1;\n        transition: opacity var(--anim-short);\n        &.visible {\n            opacity: 1;\n        }\n    }\n</style>\n","<script lang=\"ts\">\n    import { dragSource } from '../../../../actions';\n    import type { DragSourceOptions } from '../../../../actions';\n\n    export let name = 'Undefined';\n    export let id = -1;\n\n    let dragSourceOptions: DragSourceOptions<number> = {\n        key: 'nodeObject',\n        object: id,\n    };\n</script>\n\n<div use:dragSource={dragSourceOptions} class=\"node\">\n    <span>\n        {name}\n    </span>\n</div>\n\n<style lang=\"scss\">\n    .node {\n        display: flex;\n        justify-content: flex-start;\n        align-items: center;\n        overflow: hidden;\n        width: 100%;\n        height: 40px;\n        box-sizing: border-box;\n        border: 2px solid var(--theme-colors-border);\n        border-radius: 18px;\n        background-color: var(--theme-colors-background-contrast);\n        cursor: move;\n\n        span {\n            color: var(--theme-fonts-color);\n            font-size: 18px;\n            font-family: 'Inter', sans-serif;\n            padding-left: 20px;\n        }\n    }\n</style>\n","<script lang=\"ts\">\n    import { NodeName } from './components';\n    import project from '../../../stores/project';\n\n    // $: modules = $project?.module_names;\n    let modules = [];\n    project.subscribe(({ module_names }) => {\n        modules = module_names;\n    });\n</script>\n\n<aside class=\"node-container\">\n    <div class=\"node-title\">\n        <p>Modules</p>\n    </div>\n    <div class=\"node-stack\">\n        {#each modules as module (module.id)}\n            <NodeName name={module.name} id={module.id} />\n        {/each}\n    </div>\n</aside>\n\n<style lang=\"scss\">\n    .node-title {\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        text-align: center;\n        height: 26px;\n        margin-top: 24px;\n        p {\n            font-family: var(--theme-fonts-title), sans-serif;\n            font-style: normal;\n            font-weight: bold;\n            font-size: 18px;\n            line-height: 22px;\n            color: var(--theme-fonts-color);\n        }\n    }\n    .node-container {\n        user-select: none;\n        width: 300px;\n        overflow: auto;\n        background-color: var(--theme-colors-background-primary);\n        height: calc(100vh - 130px);\n\n        .node-stack {\n            display: flex;\n            flex-direction: column;\n            gap: 10px;\n            align-items: center;\n            justify-content: stretch;\n        }\n    }\n</style>\n","\"use strict\";\n\nvar utils = module.exports = {};\n\n/**\n * Loops through the collection and calls the callback for each element. if the callback returns truthy, the loop is broken and returns the same value.\n * @public\n * @param {*} collection The collection to loop through. Needs to have a length property set and have indices set from 0 to length - 1.\n * @param {function} callback The callback to be called for each element. The element will be given as a parameter to the callback. If this callback returns truthy, the loop is broken and the same value is returned.\n * @returns {*} The value that a callback has returned (if truthy). Otherwise nothing.\n */\nutils.forEach = function(collection, callback) {\n    for(var i = 0; i < collection.length; i++) {\n        var result = callback(collection[i]);\n        if(result) {\n            return result;\n        }\n    }\n};\n","\"use strict\";\n\nvar detector = module.exports = {};\n\ndetector.isIE = function(version) {\n    function isAnyIeVersion() {\n        var agent = navigator.userAgent.toLowerCase();\n        return agent.indexOf(\"msie\") !== -1 || agent.indexOf(\"trident\") !== -1 || agent.indexOf(\" edge/\") !== -1;\n    }\n\n    if(!isAnyIeVersion()) {\n        return false;\n    }\n\n    if(!version) {\n        return true;\n    }\n\n    //Shamelessly stolen from https://gist.github.com/padolsey/527683\n    var ieVersion = (function(){\n        var undef,\n            v = 3,\n            div = document.createElement(\"div\"),\n            all = div.getElementsByTagName(\"i\");\n\n        do {\n            div.innerHTML = \"<!--[if gt IE \" + (++v) + \"]><i></i><![endif]-->\";\n        }\n        while (all[0]);\n\n        return v > 4 ? v : undef;\n    }());\n\n    return version === ieVersion;\n};\n\ndetector.isLegacyOpera = function() {\n    return !!window.opera;\n};\n","\"use strict\";\n\nvar utils = module.exports = {};\n\nutils.getOption = getOption;\n\nfunction getOption(options, name, defaultValue) {\n    var value = options[name];\n\n    if((value === undefined || value === null) && defaultValue !== undefined) {\n        return defaultValue;\n    }\n\n    return value;\n}\n","\"use strict\";\n\nvar utils = require(\"./utils\");\n\nmodule.exports = function batchProcessorMaker(options) {\n    options             = options || {};\n    var reporter        = options.reporter;\n    var asyncProcess    = utils.getOption(options, \"async\", true);\n    var autoProcess     = utils.getOption(options, \"auto\", true);\n\n    if(autoProcess && !asyncProcess) {\n        reporter && reporter.warn(\"Invalid options combination. auto=true and async=false is invalid. Setting async=true.\");\n        asyncProcess = true;\n    }\n\n    var batch = Batch();\n    var asyncFrameHandler;\n    var isProcessing = false;\n\n    function addFunction(level, fn) {\n        if(!isProcessing && autoProcess && asyncProcess && batch.size() === 0) {\n            // Since this is async, it is guaranteed to be executed after that the fn is added to the batch.\n            // This needs to be done before, since we're checking the size of the batch to be 0.\n            processBatchAsync();\n        }\n\n        batch.add(level, fn);\n    }\n\n    function processBatch() {\n        // Save the current batch, and create a new batch so that incoming functions are not added into the currently processing batch.\n        // Continue processing until the top-level batch is empty (functions may be added to the new batch while processing, and so on).\n        isProcessing = true;\n        while (batch.size()) {\n            var processingBatch = batch;\n            batch = Batch();\n            processingBatch.process();\n        }\n        isProcessing = false;\n    }\n\n    function forceProcessBatch(localAsyncProcess) {\n        if (isProcessing) {\n            return;\n        }\n\n        if(localAsyncProcess === undefined) {\n            localAsyncProcess = asyncProcess;\n        }\n\n        if(asyncFrameHandler) {\n            cancelFrame(asyncFrameHandler);\n            asyncFrameHandler = null;\n        }\n\n        if(localAsyncProcess) {\n            processBatchAsync();\n        } else {\n            processBatch();\n        }\n    }\n\n    function processBatchAsync() {\n        asyncFrameHandler = requestFrame(processBatch);\n    }\n\n    function clearBatch() {\n        batch           = {};\n        batchSize       = 0;\n        topLevel        = 0;\n        bottomLevel     = 0;\n    }\n\n    function cancelFrame(listener) {\n        // var cancel = window.cancelAnimationFrame || window.mozCancelAnimationFrame || window.webkitCancelAnimationFrame || window.clearTimeout;\n        var cancel = clearTimeout;\n        return cancel(listener);\n    }\n\n    function requestFrame(callback) {\n        // var raf = window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || function(fn) { return window.setTimeout(fn, 20); };\n        var raf = function(fn) { return setTimeout(fn, 0); };\n        return raf(callback);\n    }\n\n    return {\n        add: addFunction,\n        force: forceProcessBatch\n    };\n};\n\nfunction Batch() {\n    var batch       = {};\n    var size        = 0;\n    var topLevel    = 0;\n    var bottomLevel = 0;\n\n    function add(level, fn) {\n        if(!fn) {\n            fn = level;\n            level = 0;\n        }\n\n        if(level > topLevel) {\n            topLevel = level;\n        } else if(level < bottomLevel) {\n            bottomLevel = level;\n        }\n\n        if(!batch[level]) {\n            batch[level] = [];\n        }\n\n        batch[level].push(fn);\n        size++;\n    }\n\n    function process() {\n        for(var level = bottomLevel; level <= topLevel; level++) {\n            var fns = batch[level];\n\n            for(var i = 0; i < fns.length; i++) {\n                var fn = fns[i];\n                fn();\n            }\n        }\n    }\n\n    function getSize() {\n        return size;\n    }\n\n    return {\n        add: add,\n        process: process,\n        size: getSize\n    };\n}\n","\"use strict\";\n\nvar prop = \"_erd\";\n\nfunction initState(element) {\n    element[prop] = {};\n    return getState(element);\n}\n\nfunction getState(element) {\n    return element[prop];\n}\n\nfunction cleanState(element) {\n    delete element[prop];\n}\n\nmodule.exports = {\n    initState: initState,\n    getState: getState,\n    cleanState: cleanState\n};\n","/**\n * Resize detection strategy that injects divs to elements in order to detect resize events on scroll events.\n * Heavily inspired by: https://github.com/marcj/css-element-queries/blob/master/src/ResizeSensor.js\n */\n\n\"use strict\";\n\nvar forEach = require(\"../collection-utils\").forEach;\n\nmodule.exports = function(options) {\n    options             = options || {};\n    var reporter        = options.reporter;\n    var batchProcessor  = options.batchProcessor;\n    var getState        = options.stateHandler.getState;\n    var hasState        = options.stateHandler.hasState;\n    var idHandler       = options.idHandler;\n\n    if (!batchProcessor) {\n        throw new Error(\"Missing required dependency: batchProcessor\");\n    }\n\n    if (!reporter) {\n        throw new Error(\"Missing required dependency: reporter.\");\n    }\n\n    //TODO: Could this perhaps be done at installation time?\n    var scrollbarSizes = getScrollbarSizes();\n\n    var styleId = \"erd_scroll_detection_scrollbar_style\";\n    var detectionContainerClass = \"erd_scroll_detection_container\";\n\n    function initDocument(targetDocument) {\n        // Inject the scrollbar styling that prevents them from appearing sometimes in Chrome.\n        // The injected container needs to have a class, so that it may be styled with CSS (pseudo elements).\n        injectScrollStyle(targetDocument, styleId, detectionContainerClass);\n    }\n\n    initDocument(window.document);\n\n    function buildCssTextString(rules) {\n        var seperator = options.important ? \" !important; \" : \"; \";\n\n        return (rules.join(seperator) + seperator).trim();\n    }\n\n    function getScrollbarSizes() {\n        var width = 500;\n        var height = 500;\n\n        var child = document.createElement(\"div\");\n        child.style.cssText = buildCssTextString([\"position: absolute\", \"width: \" + width*2 + \"px\", \"height: \" + height*2 + \"px\", \"visibility: hidden\", \"margin: 0\", \"padding: 0\"]);\n\n        var container = document.createElement(\"div\");\n        container.style.cssText = buildCssTextString([\"position: absolute\", \"width: \" + width + \"px\", \"height: \" + height + \"px\", \"overflow: scroll\", \"visibility: none\", \"top: \" + -width*3 + \"px\", \"left: \" + -height*3 + \"px\", \"visibility: hidden\", \"margin: 0\", \"padding: 0\"]);\n\n        container.appendChild(child);\n\n        document.body.insertBefore(container, document.body.firstChild);\n\n        var widthSize = width - container.clientWidth;\n        var heightSize = height - container.clientHeight;\n\n        document.body.removeChild(container);\n\n        return {\n            width: widthSize,\n            height: heightSize\n        };\n    }\n\n    function injectScrollStyle(targetDocument, styleId, containerClass) {\n        function injectStyle(style, method) {\n            method = method || function (element) {\n                targetDocument.head.appendChild(element);\n            };\n\n            var styleElement = targetDocument.createElement(\"style\");\n            styleElement.innerHTML = style;\n            styleElement.id = styleId;\n            method(styleElement);\n            return styleElement;\n        }\n\n        if (!targetDocument.getElementById(styleId)) {\n            var containerAnimationClass = containerClass + \"_animation\";\n            var containerAnimationActiveClass = containerClass + \"_animation_active\";\n            var style = \"/* Created by the element-resize-detector library. */\\n\";\n            style += \".\" + containerClass + \" > div::-webkit-scrollbar { \" + buildCssTextString([\"display: none\"]) + \" }\\n\\n\";\n            style += \".\" + containerAnimationActiveClass + \" { \" + buildCssTextString([\"-webkit-animation-duration: 0.1s\", \"animation-duration: 0.1s\", \"-webkit-animation-name: \" + containerAnimationClass, \"animation-name: \" + containerAnimationClass]) + \" }\\n\";\n            style += \"@-webkit-keyframes \" + containerAnimationClass +  \" { 0% { opacity: 1; } 50% { opacity: 0; } 100% { opacity: 1; } }\\n\";\n            style += \"@keyframes \" + containerAnimationClass +          \" { 0% { opacity: 1; } 50% { opacity: 0; } 100% { opacity: 1; } }\";\n            injectStyle(style);\n        }\n    }\n\n    function addAnimationClass(element) {\n        element.className += \" \" + detectionContainerClass + \"_animation_active\";\n    }\n\n    function addEvent(el, name, cb) {\n        if (el.addEventListener) {\n            el.addEventListener(name, cb);\n        } else if(el.attachEvent) {\n            el.attachEvent(\"on\" + name, cb);\n        } else {\n            return reporter.error(\"[scroll] Don't know how to add event listeners.\");\n        }\n    }\n\n    function removeEvent(el, name, cb) {\n        if (el.removeEventListener) {\n            el.removeEventListener(name, cb);\n        } else if(el.detachEvent) {\n            el.detachEvent(\"on\" + name, cb);\n        } else {\n            return reporter.error(\"[scroll] Don't know how to remove event listeners.\");\n        }\n    }\n\n    function getExpandElement(element) {\n        return getState(element).container.childNodes[0].childNodes[0].childNodes[0];\n    }\n\n    function getShrinkElement(element) {\n        return getState(element).container.childNodes[0].childNodes[0].childNodes[1];\n    }\n\n    /**\n     * Adds a resize event listener to the element.\n     * @public\n     * @param {element} element The element that should have the listener added.\n     * @param {function} listener The listener callback to be called for each resize event of the element. The element will be given as a parameter to the listener callback.\n     */\n    function addListener(element, listener) {\n        var listeners = getState(element).listeners;\n\n        if (!listeners.push) {\n            throw new Error(\"Cannot add listener to an element that is not detectable.\");\n        }\n\n        getState(element).listeners.push(listener);\n    }\n\n    /**\n     * Makes an element detectable and ready to be listened for resize events. Will call the callback when the element is ready to be listened for resize changes.\n     * @private\n     * @param {object} options Optional options object.\n     * @param {element} element The element to make detectable\n     * @param {function} callback The callback to be called when the element is ready to be listened for resize changes. Will be called with the element as first parameter.\n     */\n    function makeDetectable(options, element, callback) {\n        if (!callback) {\n            callback = element;\n            element = options;\n            options = null;\n        }\n\n        options = options || {};\n\n        function debug() {\n            if (options.debug) {\n                var args = Array.prototype.slice.call(arguments);\n                args.unshift(idHandler.get(element), \"Scroll: \");\n                if (reporter.log.apply) {\n                    reporter.log.apply(null, args);\n                } else {\n                    for (var i = 0; i < args.length; i++) {\n                        reporter.log(args[i]);\n                    }\n                }\n            }\n        }\n\n        function isDetached(element) {\n            function isInDocument(element) {\n                var isInShadowRoot = element.getRootNode && element.getRootNode().contains(element);\n                return element === element.ownerDocument.body || element.ownerDocument.body.contains(element) || isInShadowRoot;\n            }\n\n            if (!isInDocument(element)) {\n                return true;\n            }\n\n            // FireFox returns null style in hidden iframes. See https://github.com/wnr/element-resize-detector/issues/68 and https://bugzilla.mozilla.org/show_bug.cgi?id=795520\n            if (window.getComputedStyle(element) === null) {\n                return true;\n            }\n\n            return false;\n        }\n\n        function isUnrendered(element) {\n            // Check the absolute positioned container since the top level container is display: inline.\n            var container = getState(element).container.childNodes[0];\n            var style = window.getComputedStyle(container);\n            return !style.width || style.width.indexOf(\"px\") === -1; //Can only compute pixel value when rendered.\n        }\n\n        function getStyle() {\n            // Some browsers only force layouts when actually reading the style properties of the style object, so make sure that they are all read here,\n            // so that the user of the function can be sure that it will perform the layout here, instead of later (important for batching).\n            var elementStyle            = window.getComputedStyle(element);\n            var style                   = {};\n            style.position              = elementStyle.position;\n            style.width                 = element.offsetWidth;\n            style.height                = element.offsetHeight;\n            style.top                   = elementStyle.top;\n            style.right                 = elementStyle.right;\n            style.bottom                = elementStyle.bottom;\n            style.left                  = elementStyle.left;\n            style.widthCSS              = elementStyle.width;\n            style.heightCSS             = elementStyle.height;\n            return style;\n        }\n\n        function storeStartSize() {\n            var style = getStyle();\n            getState(element).startSize = {\n                width: style.width,\n                height: style.height\n            };\n            debug(\"Element start size\", getState(element).startSize);\n        }\n\n        function initListeners() {\n            getState(element).listeners = [];\n        }\n\n        function storeStyle() {\n            debug(\"storeStyle invoked.\");\n            if (!getState(element)) {\n                debug(\"Aborting because element has been uninstalled\");\n                return;\n            }\n\n            var style = getStyle();\n            getState(element).style = style;\n        }\n\n        function storeCurrentSize(element, width, height) {\n            getState(element).lastWidth = width;\n            getState(element).lastHeight  = height;\n        }\n\n        function getExpandChildElement(element) {\n            return getExpandElement(element).childNodes[0];\n        }\n\n        function getWidthOffset() {\n            return 2 * scrollbarSizes.width + 1;\n        }\n\n        function getHeightOffset() {\n            return 2 * scrollbarSizes.height + 1;\n        }\n\n        function getExpandWidth(width) {\n            return width + 10 + getWidthOffset();\n        }\n\n        function getExpandHeight(height) {\n            return height + 10 + getHeightOffset();\n        }\n\n        function getShrinkWidth(width) {\n            return width * 2 + getWidthOffset();\n        }\n\n        function getShrinkHeight(height) {\n            return height * 2 + getHeightOffset();\n        }\n\n        function positionScrollbars(element, width, height) {\n            var expand          = getExpandElement(element);\n            var shrink          = getShrinkElement(element);\n            var expandWidth     = getExpandWidth(width);\n            var expandHeight    = getExpandHeight(height);\n            var shrinkWidth     = getShrinkWidth(width);\n            var shrinkHeight    = getShrinkHeight(height);\n            expand.scrollLeft   = expandWidth;\n            expand.scrollTop    = expandHeight;\n            shrink.scrollLeft   = shrinkWidth;\n            shrink.scrollTop    = shrinkHeight;\n        }\n\n        function injectContainerElement() {\n            var container = getState(element).container;\n\n            if (!container) {\n                container                   = document.createElement(\"div\");\n                container.className         = detectionContainerClass;\n                container.style.cssText     = buildCssTextString([\"visibility: hidden\", \"display: inline\", \"width: 0px\", \"height: 0px\", \"z-index: -1\", \"overflow: hidden\", \"margin: 0\", \"padding: 0\"]);\n                getState(element).container = container;\n                addAnimationClass(container);\n                element.appendChild(container);\n\n                var onAnimationStart = function () {\n                    getState(element).onRendered && getState(element).onRendered();\n                };\n\n                addEvent(container, \"animationstart\", onAnimationStart);\n\n                // Store the event handler here so that they may be removed when uninstall is called.\n                // See uninstall function for an explanation why it is needed.\n                getState(element).onAnimationStart = onAnimationStart;\n            }\n\n            return container;\n        }\n\n        function injectScrollElements() {\n            function alterPositionStyles() {\n                var style = getState(element).style;\n\n                if(style.position === \"static\") {\n                    element.style.setProperty(\"position\", \"relative\",options.important ? \"important\" : \"\");\n\n                    var removeRelativeStyles = function(reporter, element, style, property) {\n                        function getNumericalValue(value) {\n                            return value.replace(/[^-\\d\\.]/g, \"\");\n                        }\n\n                        var value = style[property];\n\n                        if(value !== \"auto\" && getNumericalValue(value) !== \"0\") {\n                            reporter.warn(\"An element that is positioned static has style.\" + property + \"=\" + value + \" which is ignored due to the static positioning. The element will need to be positioned relative, so the style.\" + property + \" will be set to 0. Element: \", element);\n                            element.style[property] = 0;\n                        }\n                    };\n\n                    //Check so that there are no accidental styles that will make the element styled differently now that is is relative.\n                    //If there are any, set them to 0 (this should be okay with the user since the style properties did nothing before [since the element was positioned static] anyway).\n                    removeRelativeStyles(reporter, element, style, \"top\");\n                    removeRelativeStyles(reporter, element, style, \"right\");\n                    removeRelativeStyles(reporter, element, style, \"bottom\");\n                    removeRelativeStyles(reporter, element, style, \"left\");\n                }\n            }\n\n            function getLeftTopBottomRightCssText(left, top, bottom, right) {\n                left = (!left ? \"0\" : (left + \"px\"));\n                top = (!top ? \"0\" : (top + \"px\"));\n                bottom = (!bottom ? \"0\" : (bottom + \"px\"));\n                right = (!right ? \"0\" : (right + \"px\"));\n\n                return [\"left: \" + left, \"top: \" + top, \"right: \" + right, \"bottom: \" + bottom];\n            }\n\n            debug(\"Injecting elements\");\n\n            if (!getState(element)) {\n                debug(\"Aborting because element has been uninstalled\");\n                return;\n            }\n\n            alterPositionStyles();\n\n            var rootContainer = getState(element).container;\n\n            if (!rootContainer) {\n                rootContainer = injectContainerElement();\n            }\n\n            // Due to this WebKit bug https://bugs.webkit.org/show_bug.cgi?id=80808 (currently fixed in Blink, but still present in WebKit browsers such as Safari),\n            // we need to inject two containers, one that is width/height 100% and another that is left/top -1px so that the final container always is 1x1 pixels bigger than\n            // the targeted element.\n            // When the bug is resolved, \"containerContainer\" may be removed.\n\n            // The outer container can occasionally be less wide than the targeted when inside inline elements element in WebKit (see https://bugs.webkit.org/show_bug.cgi?id=152980).\n            // This should be no problem since the inner container either way makes sure the injected scroll elements are at least 1x1 px.\n\n            var scrollbarWidth          = scrollbarSizes.width;\n            var scrollbarHeight         = scrollbarSizes.height;\n            var containerContainerStyle = buildCssTextString([\"position: absolute\", \"flex: none\", \"overflow: hidden\", \"z-index: -1\", \"visibility: hidden\", \"width: 100%\", \"height: 100%\", \"left: 0px\", \"top: 0px\"]);\n            var containerStyle          = buildCssTextString([\"position: absolute\", \"flex: none\", \"overflow: hidden\", \"z-index: -1\", \"visibility: hidden\"].concat(getLeftTopBottomRightCssText(-(1 + scrollbarWidth), -(1 + scrollbarHeight), -scrollbarHeight, -scrollbarWidth)));\n            var expandStyle             = buildCssTextString([\"position: absolute\", \"flex: none\", \"overflow: scroll\", \"z-index: -1\", \"visibility: hidden\", \"width: 100%\", \"height: 100%\"]);\n            var shrinkStyle             = buildCssTextString([\"position: absolute\", \"flex: none\", \"overflow: scroll\", \"z-index: -1\", \"visibility: hidden\", \"width: 100%\", \"height: 100%\"]);\n            var expandChildStyle        = buildCssTextString([\"position: absolute\", \"left: 0\", \"top: 0\"]);\n            var shrinkChildStyle        = buildCssTextString([\"position: absolute\", \"width: 200%\", \"height: 200%\"]);\n\n            var containerContainer      = document.createElement(\"div\");\n            var container               = document.createElement(\"div\");\n            var expand                  = document.createElement(\"div\");\n            var expandChild             = document.createElement(\"div\");\n            var shrink                  = document.createElement(\"div\");\n            var shrinkChild             = document.createElement(\"div\");\n\n            // Some browsers choke on the resize system being rtl, so force it to ltr. https://github.com/wnr/element-resize-detector/issues/56\n            // However, dir should not be set on the top level container as it alters the dimensions of the target element in some browsers.\n            containerContainer.dir              = \"ltr\";\n\n            containerContainer.style.cssText    = containerContainerStyle;\n            containerContainer.className        = detectionContainerClass;\n            container.className                 = detectionContainerClass;\n            container.style.cssText             = containerStyle;\n            expand.style.cssText                = expandStyle;\n            expandChild.style.cssText           = expandChildStyle;\n            shrink.style.cssText                = shrinkStyle;\n            shrinkChild.style.cssText           = shrinkChildStyle;\n\n            expand.appendChild(expandChild);\n            shrink.appendChild(shrinkChild);\n            container.appendChild(expand);\n            container.appendChild(shrink);\n            containerContainer.appendChild(container);\n            rootContainer.appendChild(containerContainer);\n\n            function onExpandScroll() {\n                getState(element).onExpand && getState(element).onExpand();\n            }\n\n            function onShrinkScroll() {\n                getState(element).onShrink && getState(element).onShrink();\n            }\n\n            addEvent(expand, \"scroll\", onExpandScroll);\n            addEvent(shrink, \"scroll\", onShrinkScroll);\n\n            // Store the event handlers here so that they may be removed when uninstall is called.\n            // See uninstall function for an explanation why it is needed.\n            getState(element).onExpandScroll = onExpandScroll;\n            getState(element).onShrinkScroll = onShrinkScroll;\n        }\n\n        function registerListenersAndPositionElements() {\n            function updateChildSizes(element, width, height) {\n                var expandChild             = getExpandChildElement(element);\n                var expandWidth             = getExpandWidth(width);\n                var expandHeight            = getExpandHeight(height);\n                expandChild.style.setProperty(\"width\", expandWidth + \"px\", options.important ? \"important\" : \"\");\n                expandChild.style.setProperty(\"height\", expandHeight + \"px\", options.important ? \"important\" : \"\");\n            }\n\n            function updateDetectorElements(done) {\n                var width           = element.offsetWidth;\n                var height          = element.offsetHeight;\n\n                // Check whether the size has actually changed since last time the algorithm ran. If not, some steps may be skipped.\n                var sizeChanged = width !== getState(element).lastWidth || height !== getState(element).lastHeight;\n\n                debug(\"Storing current size\", width, height);\n\n                // Store the size of the element sync here, so that multiple scroll events may be ignored in the event listeners.\n                // Otherwise the if-check in handleScroll is useless.\n                storeCurrentSize(element, width, height);\n\n                // Since we delay the processing of the batch, there is a risk that uninstall has been called before the batch gets to execute.\n                // Since there is no way to cancel the fn executions, we need to add an uninstall guard to all fns of the batch.\n\n                batchProcessor.add(0, function performUpdateChildSizes() {\n                    if (!sizeChanged) {\n                        return;\n                    }\n\n                    if (!getState(element)) {\n                        debug(\"Aborting because element has been uninstalled\");\n                        return;\n                    }\n\n                    if (!areElementsInjected()) {\n                        debug(\"Aborting because element container has not been initialized\");\n                        return;\n                    }\n\n                    if (options.debug) {\n                        var w = element.offsetWidth;\n                        var h = element.offsetHeight;\n\n                        if (w !== width || h !== height) {\n                            reporter.warn(idHandler.get(element), \"Scroll: Size changed before updating detector elements.\");\n                        }\n                    }\n\n                    updateChildSizes(element, width, height);\n                });\n\n                batchProcessor.add(1, function updateScrollbars() {\n                    // This function needs to be invoked event though the size is unchanged. The element could have been resized very quickly and then\n                    // been restored to the original size, which will have changed the scrollbar positions.\n\n                    if (!getState(element)) {\n                        debug(\"Aborting because element has been uninstalled\");\n                        return;\n                    }\n\n                    if (!areElementsInjected()) {\n                        debug(\"Aborting because element container has not been initialized\");\n                        return;\n                    }\n\n                    positionScrollbars(element, width, height);\n                });\n\n                if (sizeChanged && done) {\n                    batchProcessor.add(2, function () {\n                        if (!getState(element)) {\n                            debug(\"Aborting because element has been uninstalled\");\n                            return;\n                        }\n\n                        if (!areElementsInjected()) {\n                          debug(\"Aborting because element container has not been initialized\");\n                          return;\n                        }\n\n                        done();\n                    });\n                }\n            }\n\n            function areElementsInjected() {\n                return !!getState(element).container;\n            }\n\n            function notifyListenersIfNeeded() {\n                function isFirstNotify() {\n                    return getState(element).lastNotifiedWidth === undefined;\n                }\n\n                debug(\"notifyListenersIfNeeded invoked\");\n\n                var state = getState(element);\n\n                // Don't notify if the current size is the start size, and this is the first notification.\n                if (isFirstNotify() && state.lastWidth === state.startSize.width && state.lastHeight === state.startSize.height) {\n                    return debug(\"Not notifying: Size is the same as the start size, and there has been no notification yet.\");\n                }\n\n                // Don't notify if the size already has been notified.\n                if (state.lastWidth === state.lastNotifiedWidth && state.lastHeight === state.lastNotifiedHeight) {\n                    return debug(\"Not notifying: Size already notified\");\n                }\n\n\n                debug(\"Current size not notified, notifying...\");\n                state.lastNotifiedWidth = state.lastWidth;\n                state.lastNotifiedHeight = state.lastHeight;\n                forEach(getState(element).listeners, function (listener) {\n                    listener(element);\n                });\n            }\n\n            function handleRender() {\n                debug(\"startanimation triggered.\");\n\n                if (isUnrendered(element)) {\n                    debug(\"Ignoring since element is still unrendered...\");\n                    return;\n                }\n\n                debug(\"Element rendered.\");\n                var expand = getExpandElement(element);\n                var shrink = getShrinkElement(element);\n                if (expand.scrollLeft === 0 || expand.scrollTop === 0 || shrink.scrollLeft === 0 || shrink.scrollTop === 0) {\n                    debug(\"Scrollbars out of sync. Updating detector elements...\");\n                    updateDetectorElements(notifyListenersIfNeeded);\n                }\n            }\n\n            function handleScroll() {\n                debug(\"Scroll detected.\");\n\n                if (isUnrendered(element)) {\n                    // Element is still unrendered. Skip this scroll event.\n                    debug(\"Scroll event fired while unrendered. Ignoring...\");\n                    return;\n                }\n\n                updateDetectorElements(notifyListenersIfNeeded);\n            }\n\n            debug(\"registerListenersAndPositionElements invoked.\");\n\n            if (!getState(element)) {\n                debug(\"Aborting because element has been uninstalled\");\n                return;\n            }\n\n            getState(element).onRendered = handleRender;\n            getState(element).onExpand = handleScroll;\n            getState(element).onShrink = handleScroll;\n\n            var style = getState(element).style;\n            updateChildSizes(element, style.width, style.height);\n        }\n\n        function finalizeDomMutation() {\n            debug(\"finalizeDomMutation invoked.\");\n\n            if (!getState(element)) {\n                debug(\"Aborting because element has been uninstalled\");\n                return;\n            }\n\n            var style = getState(element).style;\n            storeCurrentSize(element, style.width, style.height);\n            positionScrollbars(element, style.width, style.height);\n        }\n\n        function ready() {\n            callback(element);\n        }\n\n        function install() {\n            debug(\"Installing...\");\n            initListeners();\n            storeStartSize();\n\n            batchProcessor.add(0, storeStyle);\n            batchProcessor.add(1, injectScrollElements);\n            batchProcessor.add(2, registerListenersAndPositionElements);\n            batchProcessor.add(3, finalizeDomMutation);\n            batchProcessor.add(4, ready);\n        }\n\n        debug(\"Making detectable...\");\n\n        if (isDetached(element)) {\n            debug(\"Element is detached\");\n\n            injectContainerElement();\n\n            debug(\"Waiting until element is attached...\");\n\n            getState(element).onRendered = function () {\n                debug(\"Element is now attached\");\n                install();\n            };\n        } else {\n            install();\n        }\n    }\n\n    function uninstall(element) {\n        var state = getState(element);\n\n        if (!state) {\n            // Uninstall has been called on a non-erd element.\n            return;\n        }\n\n        // Uninstall may have been called in the following scenarios:\n        // (1) Right between the sync code and async batch (here state.busy = true, but nothing have been registered or injected).\n        // (2) In the ready callback of the last level of the batch by another element (here, state.busy = true, but all the stuff has been injected).\n        // (3) After the installation process (here, state.busy = false and all the stuff has been injected).\n        // So to be on the safe side, let's check for each thing before removing.\n\n        // We need to remove the event listeners, because otherwise the event might fire on an uninstall element which results in an error when trying to get the state of the element.\n        state.onExpandScroll && removeEvent(getExpandElement(element), \"scroll\", state.onExpandScroll);\n        state.onShrinkScroll && removeEvent(getShrinkElement(element), \"scroll\", state.onShrinkScroll);\n        state.onAnimationStart && removeEvent(state.container, \"animationstart\", state.onAnimationStart);\n\n        state.container && element.removeChild(state.container);\n    }\n\n    return {\n        makeDetectable: makeDetectable,\n        addListener: addListener,\n        uninstall: uninstall,\n        initDocument: initDocument\n    };\n};\n","\"use strict\";\n\nvar forEach                 = require(\"./collection-utils\").forEach;\nvar elementUtilsMaker       = require(\"./element-utils\");\nvar listenerHandlerMaker    = require(\"./listener-handler\");\nvar idGeneratorMaker        = require(\"./id-generator\");\nvar idHandlerMaker          = require(\"./id-handler\");\nvar reporterMaker           = require(\"./reporter\");\nvar browserDetector         = require(\"./browser-detector\");\nvar batchProcessorMaker     = require(\"batch-processor\");\nvar stateHandler            = require(\"./state-handler\");\n\n//Detection strategies.\nvar objectStrategyMaker     = require(\"./detection-strategy/object.js\");\nvar scrollStrategyMaker     = require(\"./detection-strategy/scroll.js\");\n\nfunction isCollection(obj) {\n    return Array.isArray(obj) || obj.length !== undefined;\n}\n\nfunction toArray(collection) {\n    if (!Array.isArray(collection)) {\n        var array = [];\n        forEach(collection, function (obj) {\n            array.push(obj);\n        });\n        return array;\n    } else {\n        return collection;\n    }\n}\n\nfunction isElement(obj) {\n    return obj && obj.nodeType === 1;\n}\n\n/**\n * @typedef idHandler\n * @type {object}\n * @property {function} get Gets the resize detector id of the element.\n * @property {function} set Generate and sets the resize detector id of the element.\n */\n\n/**\n * @typedef Options\n * @type {object}\n * @property {boolean} callOnAdd    Determines if listeners should be called when they are getting added.\n                                    Default is true. If true, the listener is guaranteed to be called when it has been added.\n                                    If false, the listener will not be guarenteed to be called when it has been added (does not prevent it from being called).\n * @property {idHandler} idHandler  A custom id handler that is responsible for generating, setting and retrieving id's for elements.\n                                    If not provided, a default id handler will be used.\n * @property {reporter} reporter    A custom reporter that handles reporting logs, warnings and errors.\n                                    If not provided, a default id handler will be used.\n                                    If set to false, then nothing will be reported.\n * @property {boolean} debug        If set to true, the the system will report debug messages as default for the listenTo method.\n */\n\n/**\n * Creates an element resize detector instance.\n * @public\n * @param {Options?} options Optional global options object that will decide how this instance will work.\n */\nmodule.exports = function(options) {\n    options = options || {};\n\n    //idHandler is currently not an option to the listenTo function, so it should not be added to globalOptions.\n    var idHandler;\n\n    if (options.idHandler) {\n        // To maintain compatability with idHandler.get(element, readonly), make sure to wrap the given idHandler\n        // so that readonly flag always is true when it's used here. This may be removed next major version bump.\n        idHandler = {\n            get: function (element) { return options.idHandler.get(element, true); },\n            set: options.idHandler.set\n        };\n    } else {\n        var idGenerator = idGeneratorMaker();\n        var defaultIdHandler = idHandlerMaker({\n            idGenerator: idGenerator,\n            stateHandler: stateHandler\n        });\n        idHandler = defaultIdHandler;\n    }\n\n    //reporter is currently not an option to the listenTo function, so it should not be added to globalOptions.\n    var reporter = options.reporter;\n\n    if(!reporter) {\n        //If options.reporter is false, then the reporter should be quiet.\n        var quiet = reporter === false;\n        reporter = reporterMaker(quiet);\n    }\n\n    //batchProcessor is currently not an option to the listenTo function, so it should not be added to globalOptions.\n    var batchProcessor = getOption(options, \"batchProcessor\", batchProcessorMaker({ reporter: reporter }));\n\n    //Options to be used as default for the listenTo function.\n    var globalOptions = {};\n    globalOptions.callOnAdd     = !!getOption(options, \"callOnAdd\", true);\n    globalOptions.debug         = !!getOption(options, \"debug\", false);\n\n    var eventListenerHandler    = listenerHandlerMaker(idHandler);\n    var elementUtils            = elementUtilsMaker({\n        stateHandler: stateHandler\n    });\n\n    //The detection strategy to be used.\n    var detectionStrategy;\n    var desiredStrategy = getOption(options, \"strategy\", \"object\");\n    var importantCssRules = getOption(options, \"important\", false);\n    var strategyOptions = {\n        reporter: reporter,\n        batchProcessor: batchProcessor,\n        stateHandler: stateHandler,\n        idHandler: idHandler,\n        important: importantCssRules\n    };\n\n    if(desiredStrategy === \"scroll\") {\n        if (browserDetector.isLegacyOpera()) {\n            reporter.warn(\"Scroll strategy is not supported on legacy Opera. Changing to object strategy.\");\n            desiredStrategy = \"object\";\n        } else if (browserDetector.isIE(9)) {\n            reporter.warn(\"Scroll strategy is not supported on IE9. Changing to object strategy.\");\n            desiredStrategy = \"object\";\n        }\n    }\n\n    if(desiredStrategy === \"scroll\") {\n        detectionStrategy = scrollStrategyMaker(strategyOptions);\n    } else if(desiredStrategy === \"object\") {\n        detectionStrategy = objectStrategyMaker(strategyOptions);\n    } else {\n        throw new Error(\"Invalid strategy name: \" + desiredStrategy);\n    }\n\n    //Calls can be made to listenTo with elements that are still being installed.\n    //Also, same elements can occur in the elements list in the listenTo function.\n    //With this map, the ready callbacks can be synchronized between the calls\n    //so that the ready callback can always be called when an element is ready - even if\n    //it wasn't installed from the function itself.\n    var onReadyCallbacks = {};\n\n    /**\n     * Makes the given elements resize-detectable and starts listening to resize events on the elements. Calls the event callback for each event for each element.\n     * @public\n     * @param {Options?} options Optional options object. These options will override the global options. Some options may not be overriden, such as idHandler.\n     * @param {element[]|element} elements The given array of elements to detect resize events of. Single element is also valid.\n     * @param {function} listener The callback to be executed for each resize event for each element.\n     */\n    function listenTo(options, elements, listener) {\n        function onResizeCallback(element) {\n            var listeners = eventListenerHandler.get(element);\n            forEach(listeners, function callListenerProxy(listener) {\n                listener(element);\n            });\n        }\n\n        function addListener(callOnAdd, element, listener) {\n            eventListenerHandler.add(element, listener);\n\n            if(callOnAdd) {\n                listener(element);\n            }\n        }\n\n        //Options object may be omitted.\n        if(!listener) {\n            listener = elements;\n            elements = options;\n            options = {};\n        }\n\n        if(!elements) {\n            throw new Error(\"At least one element required.\");\n        }\n\n        if(!listener) {\n            throw new Error(\"Listener required.\");\n        }\n\n        if (isElement(elements)) {\n            // A single element has been passed in.\n            elements = [elements];\n        } else if (isCollection(elements)) {\n            // Convert collection to array for plugins.\n            // TODO: May want to check so that all the elements in the collection are valid elements.\n            elements = toArray(elements);\n        } else {\n            return reporter.error(\"Invalid arguments. Must be a DOM element or a collection of DOM elements.\");\n        }\n\n        var elementsReady = 0;\n\n        var callOnAdd = getOption(options, \"callOnAdd\", globalOptions.callOnAdd);\n        var onReadyCallback = getOption(options, \"onReady\", function noop() {});\n        var debug = getOption(options, \"debug\", globalOptions.debug);\n\n        forEach(elements, function attachListenerToElement(element) {\n            if (!stateHandler.getState(element)) {\n                stateHandler.initState(element);\n                idHandler.set(element);\n            }\n\n            var id = idHandler.get(element);\n\n            debug && reporter.log(\"Attaching listener to element\", id, element);\n\n            if(!elementUtils.isDetectable(element)) {\n                debug && reporter.log(id, \"Not detectable.\");\n                if(elementUtils.isBusy(element)) {\n                    debug && reporter.log(id, \"System busy making it detectable\");\n\n                    //The element is being prepared to be detectable. Do not make it detectable.\n                    //Just add the listener, because the element will soon be detectable.\n                    addListener(callOnAdd, element, listener);\n                    onReadyCallbacks[id] = onReadyCallbacks[id] || [];\n                    onReadyCallbacks[id].push(function onReady() {\n                        elementsReady++;\n\n                        if(elementsReady === elements.length) {\n                            onReadyCallback();\n                        }\n                    });\n                    return;\n                }\n\n                debug && reporter.log(id, \"Making detectable...\");\n                //The element is not prepared to be detectable, so do prepare it and add a listener to it.\n                elementUtils.markBusy(element, true);\n                return detectionStrategy.makeDetectable({ debug: debug, important: importantCssRules }, element, function onElementDetectable(element) {\n                    debug && reporter.log(id, \"onElementDetectable\");\n\n                    if (stateHandler.getState(element)) {\n                        elementUtils.markAsDetectable(element);\n                        elementUtils.markBusy(element, false);\n                        detectionStrategy.addListener(element, onResizeCallback);\n                        addListener(callOnAdd, element, listener);\n\n                        // Since the element size might have changed since the call to \"listenTo\", we need to check for this change,\n                        // so that a resize event may be emitted.\n                        // Having the startSize object is optional (since it does not make sense in some cases such as unrendered elements), so check for its existance before.\n                        // Also, check the state existance before since the element may have been uninstalled in the installation process.\n                        var state = stateHandler.getState(element);\n                        if (state && state.startSize) {\n                            var width = element.offsetWidth;\n                            var height = element.offsetHeight;\n                            if (state.startSize.width !== width || state.startSize.height !== height) {\n                                onResizeCallback(element);\n                            }\n                        }\n\n                        if(onReadyCallbacks[id]) {\n                            forEach(onReadyCallbacks[id], function(callback) {\n                                callback();\n                            });\n                        }\n                    } else {\n                        // The element has been unisntalled before being detectable.\n                        debug && reporter.log(id, \"Element uninstalled before being detectable.\");\n                    }\n\n                    delete onReadyCallbacks[id];\n\n                    elementsReady++;\n                    if(elementsReady === elements.length) {\n                        onReadyCallback();\n                    }\n                });\n            }\n\n            debug && reporter.log(id, \"Already detecable, adding listener.\");\n\n            //The element has been prepared to be detectable and is ready to be listened to.\n            addListener(callOnAdd, element, listener);\n            elementsReady++;\n        });\n\n        if(elementsReady === elements.length) {\n            onReadyCallback();\n        }\n    }\n\n    function uninstall(elements) {\n        if(!elements) {\n            return reporter.error(\"At least one element is required.\");\n        }\n\n        if (isElement(elements)) {\n            // A single element has been passed in.\n            elements = [elements];\n        } else if (isCollection(elements)) {\n            // Convert collection to array for plugins.\n            // TODO: May want to check so that all the elements in the collection are valid elements.\n            elements = toArray(elements);\n        } else {\n            return reporter.error(\"Invalid arguments. Must be a DOM element or a collection of DOM elements.\");\n        }\n\n        forEach(elements, function (element) {\n            eventListenerHandler.removeAllListeners(element);\n            detectionStrategy.uninstall(element);\n            stateHandler.cleanState(element);\n        });\n    }\n\n    function initDocument(targetDocument) {\n        detectionStrategy.initDocument && detectionStrategy.initDocument(targetDocument);\n    }\n\n    return {\n        listenTo: listenTo,\n        removeListener: eventListenerHandler.removeListener,\n        removeAllListeners: eventListenerHandler.removeAllListeners,\n        uninstall: uninstall,\n        initDocument: initDocument\n    };\n};\n\nfunction getOption(options, name, defaultValue) {\n    var value = options[name];\n\n    if((value === undefined || value === null) && defaultValue !== undefined) {\n        return defaultValue;\n    }\n\n    return value;\n}\n","import elementResizeDetectorMaker from 'element-resize-detector';\n\nvar erd = elementResizeDetectorMaker({ strategy: \"scroll\" });\r\nfunction watchResize(element, handler) {\r\n    erd.listenTo(element, handler);\r\n    var currentHandler = handler;\r\n    return {\r\n        update: function (newHandler) {\r\n            erd.removeListener(element, currentHandler);\r\n            erd.listenTo(element, newHandler);\r\n            currentHandler = newHandler;\r\n        },\r\n        destroy: function () {\r\n            erd.removeListener(element, currentHandler);\r\n        },\r\n    };\r\n}\n\nexport { watchResize };\n","\"use strict\";\n\nmodule.exports = function() {\n    var idCount = 1;\n\n    /**\n     * Generates a new unique id in the context.\n     * @public\n     * @returns {number} A unique id in the context.\n     */\n    function generate() {\n        return idCount++;\n    }\n\n    return {\n        generate: generate\n    };\n};\n","\"use strict\";\n\nmodule.exports = function(options) {\n    var idGenerator     = options.idGenerator;\n    var getState        = options.stateHandler.getState;\n\n    /**\n     * Gets the resize detector id of the element.\n     * @public\n     * @param {element} element The target element to get the id of.\n     * @returns {string|number|null} The id of the element. Null if it has no id.\n     */\n    function getId(element) {\n        var state = getState(element);\n\n        if (state && state.id !== undefined) {\n            return state.id;\n        }\n\n        return null;\n    }\n\n    /**\n     * Sets the resize detector id of the element. Requires the element to have a resize detector state initialized.\n     * @public\n     * @param {element} element The target element to set the id of.\n     * @returns {string|number|null} The id of the element.\n     */\n    function setId(element) {\n        var state = getState(element);\n\n        if (!state) {\n            throw new Error(\"setId required the element to have a resize detection state.\");\n        }\n\n        var id = idGenerator.generate();\n\n        state.id = id;\n\n        return id;\n    }\n\n    return {\n        get: getId,\n        set: setId\n    };\n};\n","\"use strict\";\n\n/* global console: false */\n\n/**\n * Reporter that handles the reporting of logs, warnings and errors.\n * @public\n * @param {boolean} quiet Tells if the reporter should be quiet or not.\n */\nmodule.exports = function(quiet) {\n    function noop() {\n        //Does nothing.\n    }\n\n    var reporter = {\n        log: noop,\n        warn: noop,\n        error: noop\n    };\n\n    if(!quiet && window.console) {\n        var attachFunction = function(reporter, name) {\n            //The proxy is needed to be able to call the method with the console context,\n            //since we cannot use bind.\n            reporter[name] = function reporterProxy() {\n                var f = console[name];\n                if (f.apply) { //IE9 does not support console.log.apply :)\n                    f.apply(console, arguments);\n                } else {\n                    for (var i = 0; i < arguments.length; i++) {\n                        f(arguments[i]);\n                    }\n                }\n            };\n        };\n\n        attachFunction(reporter, \"log\");\n        attachFunction(reporter, \"warn\");\n        attachFunction(reporter, \"error\");\n    }\n\n    return reporter;\n};","\"use strict\";\n\nmodule.exports = function(idHandler) {\n    var eventListeners = {};\n\n    /**\n     * Gets all listeners for the given element.\n     * @public\n     * @param {element} element The element to get all listeners for.\n     * @returns All listeners for the given element.\n     */\n    function getListeners(element) {\n        var id = idHandler.get(element);\n\n        if (id === undefined) {\n            return [];\n        }\n\n        return eventListeners[id] || [];\n    }\n\n    /**\n     * Stores the given listener for the given element. Will not actually add the listener to the element.\n     * @public\n     * @param {element} element The element that should have the listener added.\n     * @param {function} listener The callback that the element has added.\n     */\n    function addListener(element, listener) {\n        var id = idHandler.get(element);\n\n        if(!eventListeners[id]) {\n            eventListeners[id] = [];\n        }\n\n        eventListeners[id].push(listener);\n    }\n\n    function removeListener(element, listener) {\n        var listeners = getListeners(element);\n        for (var i = 0, len = listeners.length; i < len; ++i) {\n            if (listeners[i] === listener) {\n              listeners.splice(i, 1);\n              break;\n            }\n        }\n    }\n\n    function removeAllListeners(element) {\n      var listeners = getListeners(element);\n      if (!listeners) { return; }\n      listeners.length = 0;\n    }\n\n    return {\n        get: getListeners,\n        add: addListener,\n        removeListener: removeListener,\n        removeAllListeners: removeAllListeners\n    };\n};\n","\"use strict\";\n\nmodule.exports = function(options) {\n    var getState = options.stateHandler.getState;\n\n    /**\n     * Tells if the element has been made detectable and ready to be listened for resize events.\n     * @public\n     * @param {element} The element to check.\n     * @returns {boolean} True or false depending on if the element is detectable or not.\n     */\n    function isDetectable(element) {\n        var state = getState(element);\n        return state && !!state.isDetectable;\n    }\n\n    /**\n     * Marks the element that it has been made detectable and ready to be listened for resize events.\n     * @public\n     * @param {element} The element to mark.\n     */\n    function markAsDetectable(element) {\n        getState(element).isDetectable = true;\n    }\n\n    /**\n     * Tells if the element is busy or not.\n     * @public\n     * @param {element} The element to check.\n     * @returns {boolean} True or false depending on if the element is busy or not.\n     */\n    function isBusy(element) {\n        return !!getState(element).busy;\n    }\n\n    /**\n     * Marks the object is busy and should not be made detectable.\n     * @public\n     * @param {element} element The element to mark.\n     * @param {boolean} busy If the element is busy or not.\n     */\n    function markBusy(element, busy) {\n        getState(element).busy = !!busy;\n    }\n\n    return {\n        isDetectable: isDetectable,\n        markAsDetectable: markAsDetectable,\n        isBusy: isBusy,\n        markBusy: markBusy\n    };\n};\n","/**\n * Resize detection strategy that injects objects to elements in order to detect resize events.\n * Heavily inspired by: http://www.backalleycoder.com/2013/03/18/cross-browser-event-based-element-resize-detection/\n */\n\n\"use strict\";\n\nvar browserDetector = require(\"../browser-detector\");\n\nmodule.exports = function(options) {\n    options             = options || {};\n    var reporter        = options.reporter;\n    var batchProcessor  = options.batchProcessor;\n    var getState        = options.stateHandler.getState;\n\n    if(!reporter) {\n        throw new Error(\"Missing required dependency: reporter.\");\n    }\n\n    /**\n     * Adds a resize event listener to the element.\n     * @public\n     * @param {element} element The element that should have the listener added.\n     * @param {function} listener The listener callback to be called for each resize event of the element. The element will be given as a parameter to the listener callback.\n     */\n    function addListener(element, listener) {\n        function listenerProxy() {\n            listener(element);\n        }\n\n        if(browserDetector.isIE(8)) {\n            //IE 8 does not support object, but supports the resize event directly on elements.\n            getState(element).object = {\n                proxy: listenerProxy\n            };\n            element.attachEvent(\"onresize\", listenerProxy);\n        } else {\n            var object = getObject(element);\n\n            if(!object) {\n                throw new Error(\"Element is not detectable by this strategy.\");\n            }\n\n            object.contentDocument.defaultView.addEventListener(\"resize\", listenerProxy);\n        }\n    }\n\n    function buildCssTextString(rules) {\n        var seperator = options.important ? \" !important; \" : \"; \";\n\n        return (rules.join(seperator) + seperator).trim();\n    }\n\n    /**\n     * Makes an element detectable and ready to be listened for resize events. Will call the callback when the element is ready to be listened for resize changes.\n     * @private\n     * @param {object} options Optional options object.\n     * @param {element} element The element to make detectable\n     * @param {function} callback The callback to be called when the element is ready to be listened for resize changes. Will be called with the element as first parameter.\n     */\n    function makeDetectable(options, element, callback) {\n        if (!callback) {\n            callback = element;\n            element = options;\n            options = null;\n        }\n\n        options = options || {};\n        var debug = options.debug;\n\n        function injectObject(element, callback) {\n            var OBJECT_STYLE = buildCssTextString([\"display: block\", \"position: absolute\", \"top: 0\", \"left: 0\", \"width: 100%\", \"height: 100%\", \"border: none\", \"padding: 0\", \"margin: 0\", \"opacity: 0\", \"z-index: -1000\", \"pointer-events: none\"]);\n\n            //The target element needs to be positioned (everything except static) so the absolute positioned object will be positioned relative to the target element.\n\n            // Position altering may be performed directly or on object load, depending on if style resolution is possible directly or not.\n            var positionCheckPerformed = false;\n\n            // The element may not yet be attached to the DOM, and therefore the style object may be empty in some browsers.\n            // Since the style object is a reference, it will be updated as soon as the element is attached to the DOM.\n            var style = window.getComputedStyle(element);\n            var width = element.offsetWidth;\n            var height = element.offsetHeight;\n\n            getState(element).startSize = {\n                width: width,\n                height: height\n            };\n\n            function mutateDom() {\n                function alterPositionStyles() {\n                    if(style.position === \"static\") {\n                        element.style.setProperty(\"position\", \"relative\", options.important ? \"important\" : \"\");\n\n                        var removeRelativeStyles = function(reporter, element, style, property) {\n                            function getNumericalValue(value) {\n                                return value.replace(/[^-\\d\\.]/g, \"\");\n                            }\n\n                            var value = style[property];\n\n                            if(value !== \"auto\" && getNumericalValue(value) !== \"0\") {\n                                reporter.warn(\"An element that is positioned static has style.\" + property + \"=\" + value + \" which is ignored due to the static positioning. The element will need to be positioned relative, so the style.\" + property + \" will be set to 0. Element: \", element);\n                                element.style.setProperty(property, \"0\", options.important ? \"important\" : \"\");\n                            }\n                        };\n\n                        //Check so that there are no accidental styles that will make the element styled differently now that is is relative.\n                        //If there are any, set them to 0 (this should be okay with the user since the style properties did nothing before [since the element was positioned static] anyway).\n                        removeRelativeStyles(reporter, element, style, \"top\");\n                        removeRelativeStyles(reporter, element, style, \"right\");\n                        removeRelativeStyles(reporter, element, style, \"bottom\");\n                        removeRelativeStyles(reporter, element, style, \"left\");\n                    }\n                }\n\n                function onObjectLoad() {\n                    // The object has been loaded, which means that the element now is guaranteed to be attached to the DOM.\n                    if (!positionCheckPerformed) {\n                        alterPositionStyles();\n                    }\n\n                    /*jshint validthis: true */\n\n                    function getDocument(element, callback) {\n                        //Opera 12 seem to call the object.onload before the actual document has been created.\n                        //So if it is not present, poll it with an timeout until it is present.\n                        //TODO: Could maybe be handled better with object.onreadystatechange or similar.\n                        if(!element.contentDocument) {\n                            var state = getState(element);\n                            if (state.checkForObjectDocumentTimeoutId) {\n                                window.clearTimeout(state.checkForObjectDocumentTimeoutId);\n                            }\n                            state.checkForObjectDocumentTimeoutId = setTimeout(function checkForObjectDocument() {\n                                state.checkForObjectDocumentTimeoutId = 0;\n                                getDocument(element, callback);\n                            }, 100);\n\n                            return;\n                        }\n\n                        callback(element.contentDocument);\n                    }\n\n                    //Mutating the object element here seems to fire another load event.\n                    //Mutating the inner document of the object element is fine though.\n                    var objectElement = this;\n\n                    //Create the style element to be added to the object.\n                    getDocument(objectElement, function onObjectDocumentReady(objectDocument) {\n                        //Notify that the element is ready to be listened to.\n                        callback(element);\n                    });\n                }\n\n                // The element may be detached from the DOM, and some browsers does not support style resolving of detached elements.\n                // The alterPositionStyles needs to be delayed until we know the element has been attached to the DOM (which we are sure of when the onObjectLoad has been fired), if style resolution is not possible.\n                if (style.position !== \"\") {\n                    alterPositionStyles(style);\n                    positionCheckPerformed = true;\n                }\n\n                //Add an object element as a child to the target element that will be listened to for resize events.\n                var object = document.createElement(\"object\");\n                object.style.cssText = OBJECT_STYLE;\n                object.tabIndex = -1;\n                object.type = \"text/html\";\n                object.setAttribute(\"aria-hidden\", \"true\");\n                object.onload = onObjectLoad;\n\n                //Safari: This must occur before adding the object to the DOM.\n                //IE: Does not like that this happens before, even if it is also added after.\n                if(!browserDetector.isIE()) {\n                    object.data = \"about:blank\";\n                }\n\n                if (!getState(element)) {\n                    // The element has been uninstalled before the actual loading happened.\n                    return;\n                }\n\n                element.appendChild(object);\n                getState(element).object = object;\n\n                //IE: This must occur after adding the object to the DOM.\n                if(browserDetector.isIE()) {\n                    object.data = \"about:blank\";\n                }\n            }\n\n            if(batchProcessor) {\n                batchProcessor.add(mutateDom);\n            } else {\n                mutateDom();\n            }\n        }\n\n        if(browserDetector.isIE(8)) {\n            //IE 8 does not support objects properly. Luckily they do support the resize event.\n            //So do not inject the object and notify that the element is already ready to be listened to.\n            //The event handler for the resize event is attached in the utils.addListener instead.\n            callback(element);\n        } else {\n            injectObject(element, callback);\n        }\n    }\n\n    /**\n     * Returns the child object of the target element.\n     * @private\n     * @param {element} element The target element.\n     * @returns The object element of the target.\n     */\n    function getObject(element) {\n        return getState(element).object;\n    }\n\n    function uninstall(element) {\n        if (!getState(element)) {\n            return;\n        }\n\n        var object = getObject(element);\n\n        if (!object) {\n            return;\n        }\n\n        if (browserDetector.isIE(8)) {\n            element.detachEvent(\"onresize\", object.proxy);\n        } else {\n            element.removeChild(object);\n        }\n\n        if (getState(element).checkForObjectDocumentTimeoutId) {\n            window.clearTimeout(getState(element).checkForObjectDocumentTimeoutId);\n        }\n\n        delete getState(element).object;\n    }\n\n    return {\n        makeDetectable: makeDetectable,\n        addListener: addListener,\n        uninstall: uninstall\n    };\n};\n","export const themes = {\n    light: {\n        colors: {\n            text: '#575757',\n            background: {\n                primary: '#FFFFFF',\n                contrast: '#F3F3F3',\n            },\n            button: {\n                hover: '#f0f0f0',\n                active: '#c9c9c9'\n            },\n            knob: {\n                gradient_enabled_start: '#FFFFFF',\n                gradient_enabled_end: '#BFBFBF',\n                gradient_disabled_start: '#AFAFAF',\n                gradient_disabled_end: '#BFBFBF',\n                line: '#C4C4C4',\n            },\n            node: {\n                deg: '287.88deg',\n                gradient_start: 'rgba(163, 163, 163, 0.132) -3.37%',\n                gradient_end: 'rgba(134, 134, 134, 0.6) 131.67%',\n            },\n            border: '#ebebeb',\n            hover: '#f0f0f0',\n            primary50: '#FFE8EE',\n            primary100: '#FFC5D2',\n            primary200: '#F98A97',\n            primary300: '#F3576D',\n            primary: '#FF0149',\n            primary500: '#FF002B',\n            primary600: '#F7002C',\n            primary700: '#D8001E',\n            primary800: '#D8001E',\n            primary900: '#C80011',\n            primary_dark: '#D51A4C',\n            complementary50: '#D8FFEE',\n            complementary100: '#9BFFD4',\n            complementary200: '#01FFB7',\n            complementary300: '#00FB9B',\n            complementary: '#00F289',\n            complementary500: '#00EA75',\n            complementary600: '#00C45A',\n            complementary700: '#00D969',\n            complementary800: '#00B24D',\n            complementary900: '#008F36',\n        },\n        fonts: {\n            color: '#575757',\n            title: 'Inter',\n            paragraph: 'Merriweather',\n        }\n    },\n    dark: {\n        colors: {\n            text: '#575757',\n            background: {\n                primary: '#181A1B',\n                contrast: '#1F2123',\n            },\n            button: {\n                hover: '#202325',\n                active: '#363b3d'\n            },\n            knob: {\n                gradient_enabled_start: '#181a1b',\n                gradient_enabled_end: '#3c4144',\n                gradient_disabled_start: '#454b4e',\n                gradient_disabled_end: '#3c4144',\n                line: '#484848',\n            },\n            node: {\n                deg: '287.88deg',\n                gradient_start: 'rgba(76, 82, 85, 0.13) -3.37%',\n                gradient_end: 'rgba(92, 100, 104, 0.6) 131.67%',\n            },\n            border: '#363a3c',\n            primary50: '#FFE8EE',\n            primary100: '#FFC5D2',\n            primary200: '#F98A97',\n            primary300: '#F3576D',\n            primary: '#FF0149',\n            primary500: '#FF002B',\n            primary600: '#F7002C',\n            primary700: '#D8001E',\n            primary800: '#D8001E',\n            primary900: '#C80011',\n            primary_dark: '#D51A4C',\n            complementary50: '#D8FFEE',\n            complementary100: '#9BFFD4',\n            complementary200: '#01FFB7',\n            complementary300: '#00FB9B',\n            complementary: '#00F289',\n            complementary500: '#00EA75',\n            complementary600: '#00C45A',\n            complementary700: '#00D969',\n            complementary800: '#00B24D',\n            complementary900: '#008F36',\n        },\n        fonts: {\n            color: '#b1aaa0',\n            title: 'Inter',\n            paragraph: 'Merriweather',\n        }\n    }\n};\n","import { derived, writable } from \"svelte/store\";\nimport { themes } from '@app/themes';\nexport var ThemeMode;\n(function (ThemeMode) {\n    ThemeMode[\"Light\"] = \"Light\";\n    ThemeMode[\"Dark\"] = \"Dark\";\n})(ThemeMode || (ThemeMode = {}));\nconst theme = writable(localStorage.getItem('__svelte-themer__theme') === 'dark' ? ThemeMode.Dark : ThemeMode.Light);\nfunction toggleTheme() {\n    theme.update(($theme) => {\n        if ($theme == ThemeMode.Dark) {\n            return ThemeMode.Light;\n        }\n        else {\n            return ThemeMode.Dark;\n        }\n    });\n}\nconst theme_data = derived(theme, ($theme, set) => {\n    if ($theme == ThemeMode.Dark) {\n        return set(themes.dark);\n    }\n    else {\n        return set(themes.light);\n    }\n});\nexport default {\n    subscribe: theme_data.subscribe,\n    toggleTheme,\n};\n","<script context=\"module\" lang=\"ts\">\n    import { watchResize } from 'svelte-watch-resize';\n    import { control_key_pressed } from '../../../../actions/key-listener';\n\n    export interface Clip {\n        id: number;\n        position: number;\n        duration: number;\n        name: string;\n    }\n\n    function roundRect(\n        ctx: CanvasRenderingContext2D,\n        x: number,\n        y: number,\n        width: number,\n        height: number,\n        radius: number\n    ) {\n        ctx.moveTo(x + radius, y);\n        ctx.lineTo(x + width - radius, y);\n        ctx.quadraticCurveTo(x + width, y, x + width, y + radius);\n        ctx.lineTo(x + width, y + height - radius);\n        ctx.quadraticCurveTo(\n            x + width,\n            y + height,\n            x + width - radius,\n            y + height\n        );\n        ctx.lineTo(x + radius, y + height);\n        ctx.quadraticCurveTo(x, y + height, x, y + height - radius);\n        ctx.lineTo(x, y + radius);\n        ctx.quadraticCurveTo(x, y, x + radius, y);\n    }\n</script>\n\n<script lang=\"ts\">\n    import { createEventDispatcher, onMount } from 'svelte';\n    import theme from '@stores/theme';\n\n    export let track_height = 100;\n    export let start_beat: number = 0;\n    export let end_beat: number = 20;\n    export let signature: number = 4;\n    export let clips: Clip[] = [];\n    let selected_clip = -1;\n\n    let width: number;\n    let height: number;\n\n    let cvs: HTMLCanvasElement;\n    let ctx: CanvasRenderingContext2D;\n\n    const dispatcher = createEventDispatcher();\n\n    let bck_contrast = getComputedStyle(\n        document.documentElement\n    ).getPropertyValue('--theme-colors-background-contrast');\n    let bck_primary = getComputedStyle(\n        document.documentElement\n    ).getPropertyValue('--theme-colors-background-primary');\n    let primary_color = getComputedStyle(\n        document.documentElement\n    ).getPropertyValue('--theme-colors-primary');\n    let primary_dark = getComputedStyle(\n        document.documentElement\n    ).getPropertyValue('--theme-colors-primary_dark');\n    let border_color = getComputedStyle(\n        document.documentElement\n    ).getPropertyValue('--theme-colors-border');\n\n    theme.subscribe(($theme: any) => {\n        bck_contrast = $theme.colors.background.contrast;\n        bck_primary = $theme.colors.background.primary;\n        primary_color = $theme.colors.primary;\n        redraw();\n    });\n\n    $: {\n        // When any of these change, call redraw\n        start_beat;\n        end_beat;\n        clips;\n        width;\n        height;\n        signature;\n\n        redraw();\n    }\n\n    function getRealMousePosition(e) {\n        var mouseX = e.offsetX * (cvs.width / cvs.clientWidth);\n        var mouseY = e.offsetY * (cvs.height / cvs.clientHeight);\n\n        return { x: mouseX, y: mouseY };\n    }\n\n    function redraw() {\n        if (cvs) {\n            ctx = ctx ?? cvs.getContext('2d', { alpha: false });\n            cvs.width = cvs.clientWidth;\n            cvs.height = cvs.clientHeight;\n\n            drawBackground();\n            drawClips();\n        }\n    }\n\n    function drawBackground() {\n        ctx.save();\n        {\n            ctx.scale(1, cvs.height);\n            ctx.stroke();\n            ctx.fillStyle = `${bck_contrast}`;\n\n            ctx.fillRect(0, 0, cvs.width, cvs.height);\n            drawDivisions(ctx);\n        }\n        ctx.restore();\n    }\n\n    function drawSubDivisions(ctx: CanvasRenderingContext2D) {\n        const view_range = end_beat - start_beat;\n        const beat_width = cvs.width / view_range;\n        const start_offset = (start_beat % 1) * beat_width;\n\n        ctx.beginPath();\n        for (let i = 0; i < view_range * (signature + 1); i++) {\n            const x = (i * beat_width) / (signature + 1) - start_offset;\n\n            ctx.moveTo(x, 0);\n            ctx.lineTo(x, 1);\n        }\n        ctx.strokeStyle = `${bck_contrast}`;\n        ctx.lineWidth = 1.0;\n        ctx.globalAlpha = 0.5;\n        ctx.stroke();\n    }\n\n    function drawDivisions(ctx: CanvasRenderingContext2D) {\n        const view_range = end_beat - start_beat;\n        const beat_width = cvs.width / view_range;\n        const start_offset = (start_beat % 1) * beat_width;\n\n        if (beat_width > 60) {\n            drawSubDivisions(ctx);\n        }\n        ctx.beginPath();\n        for (let i = 0; i < view_range; i++) {\n            const x = i * beat_width - start_offset;\n\n            ctx.moveTo(x, 0);\n            ctx.lineTo(x, 1);\n        }\n        ctx.strokeStyle = `${bck_contrast}`;\n        ctx.lineWidth = 2.0;\n        ctx.globalAlpha = 0.5;\n        ctx.stroke();\n    }\n\n    function drawClips() {\n        const beat_width = cvs.width / (end_beat - start_beat);\n\n        for (const clip of clips) {\n            const clip_start_beats = clip.position;\n            const clip_duration_beats = clip.duration;\n            const clip_width = clip_duration_beats * beat_width;\n            const index = clips.indexOf(clip);\n            ctx.save();\n            {\n                ctx.translate((clip_start_beats - start_beat) * beat_width, 0);\n\n                if (index == selected_clip) {\n                    ctx.fillStyle = `${primary_dark}`;\n                } else {\n                    ctx.fillStyle = `${primary_color}`;\n                }\n                ctx.beginPath();\n                roundRect(ctx, 0, 0, clip_width, cvs.height, 16);\n                ctx.fill();\n\n                // border\n                ctx.strokeStyle = 'black';\n                ctx.lineWidth = 2.0;\n                ctx.stroke();\n\n                ctx.fillStyle = `${bck_primary}`;\n                ctx.textBaseline = 'top';\n                ctx.font = '14px sans-serif';\n                ctx.fillText(\n                    displayName(clip.name, clip_width),\n                    8,\n                    8,\n                    clip_width\n                );\n            }\n            ctx.restore();\n        }\n    }\n\n    function displayName(text: string, space: number) {\n        let metrics = ctx.measureText(text);\n        while (metrics.width > space - 20) {\n            if (text.length === 1) {\n                return '';\n            }\n            if (text.length < 4) {\n                text = text.slice(0, -1);\n                metrics = ctx.measureText(text);\n                continue;\n            }\n            text = text.slice(0, -4) + '...';\n            metrics = ctx.measureText(text);\n        }\n        return text;\n    }\n\n    function down(this: HTMLCanvasElement, e: PointerEvent) {\n        // if right click\n        if (e.button == 2) {\n            return;\n        }\n\n        let duplicated_clips = [];\n        const down_x = getRealMousePosition(e).x;\n        const beat_width = cvs.width / (end_beat - start_beat);\n\n        let clip = clips\n            .slice()\n            .reverse()\n            .find((clip) => {\n                const clip_start_beats = clip.position;\n                const clip_duration_beats = clip.duration;\n                const clip_width = clip_duration_beats * beat_width;\n                const clip_x = (clip_start_beats - start_beat) * beat_width;\n\n                return down_x > clip_x && down_x < clip_x + clip_width;\n            });\n\n        if (!clip) {\n            return;\n        }\n\n        if (control_key_pressed) {\n            // duplicate clip\n            let duplicate_clip = JSON.parse(JSON.stringify(clip));\n            clip = duplicate_clip;\n\n            clips.push(duplicate_clip);\n            // duplication\n\n            const up = (e: PointerEvent) => {\n                this.onpointerup = null;\n                this.onpointermove = null;\n                this.releasePointerCapture(e.pointerId);\n                dispatcher('clipDuplicated', clip);\n                for (const duplicated_clip of duplicated_clips) {\n                    dispatcher('clipDuplicated', duplicated_clip);\n                }\n            };\n\n            this.onpointerup = up;\n        } else {\n            // move\n\n            const up = (e: PointerEvent) => {\n                this.onpointerup = null;\n                this.onpointermove = null;\n                this.releasePointerCapture(e.pointerId);\n                dispatcher('clipMoved', clip);\n                for (const duplicated_clip of duplicated_clips) {\n                    dispatcher('clipDuplicated', duplicated_clip);\n                }\n            };\n\n            this.onpointerup = up;\n        }\n\n        selected_clip = clips.indexOf(clip);\n        const clip_start_x = (clip.position - start_beat) * beat_width;\n\n        const move = (e: PointerEvent) => {\n            const x = getRealMousePosition(e).x;\n            const clip_duration_beats = clip.duration;\n            const clip_width = clip_duration_beats * beat_width;\n            const new_clip_x = clip_start_x + (x - down_x);\n            let new_clip_start = new_clip_x / beat_width + start_beat;\n\n            if (new_clip_start < 0) {\n                new_clip_start = 0;\n            }\n\n            if (beat_width > 60 && !e.altKey) {\n                new_clip_start =\n                    Math.floor(new_clip_start * (signature + 1)) /\n                    (signature + 1);\n            }\n            if (e.shiftKey) {\n                new_clip_start = Math.floor(new_clip_start);\n            }\n\n            clip.position = new_clip_start;\n            clips = clips;\n        };\n\n        this.setPointerCapture(e.pointerId);\n        this.onpointermove = move;\n\n        const deleteKey = (e: KeyboardEvent) => {\n            if (e.key === 'Delete') {\n                dispatcher('clipDeleted', clip);\n            }\n            if (e.key === 'd' || e.key === 'D') {\n                let duplicate_clip = JSON.parse(JSON.stringify(clip));\n\n                duplicate_clip.position +=\n                    clip.duration * (duplicated_clips.length + 1);\n                clips.push(duplicate_clip);\n                duplicated_clips.push(duplicate_clip);\n                clips = clips;\n            }\n        };\n        this.onkeydown = deleteKey;\n        clips = clips;\n    }\n\n    function deleteMove(e) {\n        if (e.buttons != 2) {\n            return;\n        }\n\n        const down_x = getRealMousePosition(e).x;\n        const beat_width = cvs.width / (end_beat - start_beat);\n\n        let clip = clips\n            .slice()\n            .reverse()\n            .find((clip) => {\n                const clip_start_beats = clip.position;\n                const clip_duration_beats = clip.duration;\n                const clip_width = clip_duration_beats * beat_width;\n                const clip_x = (clip_start_beats - start_beat) * beat_width;\n\n                return down_x > clip_x && down_x < clip_x + clip_width;\n            });\n\n        if (!clip) {\n            return;\n        }\n        dispatcher('clipDeleted', clip);\n    }\n\n    onMount(() => {\n        redraw();\n    });\n</script>\n\n<div\n    use:watchResize={redraw}\n    class=\"track\"\n    style={`--track-height: ${track_height}px;`}\n>\n    <canvas\n        tabindex=\"0\"\n        class=\"grid\"\n        bind:this={cvs}\n        bind:clientHeight={height}\n        bind:clientWidth={width}\n        on:pointerdown|stopPropagation={down}\n        on:pointermove={deleteMove}\n        on:contextmenu|stopPropagation={(e) => e.preventDefault()}\n    />\n</div>\n\n<style lang=\"scss\">\n    .track {\n        background: var(--theme-colors-background-contrast);\n        border-radius: 10px;\n        position: relative;\n        overflow: hidden;\n        height: var(--track-height);\n        width: 100%;\n    }\n\n    .grid {\n        position: absolute;\n        top: 0;\n        left: 0;\n        // bottom: 0;\n        // right: 0;\n\n        width: 100%;\n        height: 100%;\n    }\n</style>\n","<script lang=\"ts\">\n    import { TimelineTrack, Cursor } from './components';\n    import project from '../../../stores/project';\n    import { dropZone } from '../../../actions';\n    import { shift_key_pressed } from '../../../actions/key-listener';\n\n    export let scrollY;\n\n    let track_arr = [];\n\n    let elem;\n    let scale = 100;\n    let start_beat: number = 0;\n    let end_beat: number;\n\n    $: end_beat = start_beat + 20 * scale;\n\n    project.subscribe(($project: any) => {\n        track_arr = $project.tracks ?? [];\n    });\n\n    function get_dropzoneOptions(track_id) {\n        return {\n            key: 'clipObject',\n            callback: (object: any, x: number) => {\n                const unique_clip = object;\n                let bounds = elem.getBoundingClientRect();\n                let beat_width = bounds.width / (end_beat - start_beat);\n                let pos: number = (x - bounds.x) / beat_width;\n                pos = Math.floor(pos);\n                project.add_clip_to_track(track_id, unique_clip.index, pos);\n            },\n        };\n    }\n\n    function get_clip_moved_callback(track_id) {\n        return (event: any) => {\n            const clip = event.detail;\n            project.set_clip_position(track_id, clip.index, clip.position);\n        };\n    }\n\n    function get_clip_deleted(track_id) {\n        return (event: any) => {\n            const clip = event.detail;\n            project.delete_clip_from_track(track_id, clip.index);\n        };\n    }\n\n    function scroll_callback(e: WheelEvent) {\n        e.preventDefault();\n\n        if (shift_key_pressed) {\n            const wheelDelta = Math.sign(e.deltaY);\n\n            scale += wheelDelta * 10;\n            scale = Math.max(scale, 1);\n            console.log(scale);\n        } else {\n            const wheelDelta = Math.sign(e.deltaX);\n\n            start_beat += wheelDelta * scale;\n            start_beat = Math.max(start_beat, 0);\n        }\n    }\n</script>\n\n<div class=\"timeline-container\" on:wheel={scroll_callback}>\n    <!-- <Cursor {scrollY} /> -->\n    <div class=\"track-stack\">\n        {#each track_arr as track (track.id)}\n            <div\n                class=\"timeline-track\"\n                use:dropZone={get_dropzoneOptions(track.id)}\n                bind:this={elem}\n            >\n                <TimelineTrack\n                    {start_beat}\n                    {end_beat}\n                    on:clipMoved={get_clip_moved_callback(track.id)}\n                    on:clipDeleted={get_clip_deleted(track.id)}\n                    on:clipDuplicated={(event) => {\n                        const clip = event.detail;\n                        project.duplicate_clip(\n                            track.id,\n                            clip.from_unique_clip_index,\n                            Math.floor(clip.position)\n                        );\n                    }}\n                    clips={track.clips ?? []}\n                />\n            </div>\n        {/each}\n    </div>\n</div>\n\n<style lang=\"scss\">\n    .timeline-container {\n        flex-grow: 1;\n        position: relative;\n        background-color: var(--theme-colors-background-primary);\n    }\n\n    .track-stack {\n        position: absolute;\n        padding: 8px;\n        display: flex;\n        flex-direction: column;\n        gap: 10px;\n        width: 100%;\n        align-items: center;\n        justify-content: center;\n    }\n\n    :global(.timeline-track) {\n        width: 100%;\n    }\n\n    ::-webkit-scrollbar {\n        width: 6px;\n        border-radius: 16px;\n        background: var(--theme-colors-background-contrast);\n    }\n</style>\n","<script lang=\"ts\">\n    const sprite = 'assets/Add.svg';\n</script>\n\n<button on:click>\n    <img alt=\"AddTrackButton\" src={sprite} />\n</button>\n\n<style lang=\"scss\">\n    button {\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        height: 100px;\n        width: 100%;\n        background-color: var(--theme-colors-button-hover);\n        border-radius: 10px;\n        border: 2px solid var(--theme-colors-border);\n        box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n\n        &:active {\n            background-color: var(--theme-colors-button-hover);\n            box-shadow: inset 2px 2px 4px rgba(0, 0, 0, 0.1);\n        }\n\n        img {\n            max-width: 100%;\n        }\n    }\n</style>\n","<script lang=\"ts\">\n    import { createEventDispatcher } from 'svelte';\n    import project from '../../../../stores/project';\n    import { Knob } from '../../../shared-components/';\n    import { control_key_pressed } from '../../../../actions/key-listener';\n\n    export let track = undefined;\n    export let selected = false;\n    export let editable = false;\n    export let enabled = true;\n    export let height = '100px';\n    export let topknobvalue = 0;\n    export let botknobvalue = 0;\n    const dispatch = createEventDispatcher();\n\n    function selectHandler(e) {\n        if (control_key_pressed) {\n            editable = true;\n        } else {\n            selected = !selected;\n            dispatch('select');\n        }\n    }\n\n    const remove_self = createEventDispatcher();\n\n    function isSelected() {\n        selected = !selected;\n        project.set_track_enabled(track.id, selected);\n    }\n\n    function handleKeydown(e) {\n        if (editable) {\n            if (e.key === 'Enter' || e.key === 'Escape') {\n                editable = false;\n            } else if (e.key === 'Backspace') {\n                if (control_key_pressed) track.name = '';\n                else track.name = track.name.slice(0, -1);\n            } else {\n                if (e.key.length === 1) {\n                    track.name += e.key;\n                }\n            }\n        }\n    }\n\n    $: if (!editable) {\n        dispatch('change-trackname', { trackname: track.name });\n    }\n\n    function set_track_gain(gain: number) {\n        project.set_track_gain(track.id, gain);\n    }\n\n    function set_track_pan(pan: number) {\n        project.set_track_pan(track.id, pan);\n    }\n\n    function enableHandler() {\n        enabled = !enabled;\n    }\n</script>\n\n<svelte:window on:keydown={handleKeydown} />\n<div\n    class=\"container\"\n    style={`--height: ${height};`}\n    on:click|stopPropagation|preventDefault={selectHandler}\n>\n    <div class=\"trackholder\">\n        <div\n            class=\"select\"\n            on:click|stopPropagation|preventDefault={enableHandler}\n        >\n            {#if enabled}\n                <div class=\"isEnabled\" />\n            {/if}\n        </div>\n        <div class=\"name\">\n            <span class={editable ? 'edit-mode' : 'read-mode'}\n                >{track.name}</span\n            >\n        </div>\n        <div class=\"knobs\">\n            <div class=\"topknob\">\n                <Knob bind:value={topknobvalue} min={0} max={100} />\n            </div>\n            <div class=\"bottomknob\">\n                <Knob bind:value={botknobvalue} min={0} max={100} />\n            </div>\n        </div>\n    </div>\n    {#if selected}\n        <div class=\"shadowfilter\">\n            <div class=\"isSelected\" />\n        </div>\n    {/if}\n</div>\n\n<style lang=\"scss\">\n    .container {\n        position: relative;\n        width: 100%;\n        height: var(--height);\n\n        .shadowfilter {\n            border: 1px solid rgba(0, 0, 0, 0.05);\n            position: absolute;\n            border-radius: 10px;\n            background: rgba(48, 48, 48, 0.15);\n            width: 100%;\n            height: 100%;\n\n            .isSelected {\n                border: 2px solid rgba(0, 0, 0, 0.05);\n                border-radius: 50%;\n                display: flex;\n                position: absolute;\n                flex-direction: row;\n                top: calc(50% - 8px);\n                left: 20px;\n                width: 16px;\n                height: 16px;\n                cursor: pointer;\n            }\n        }\n        .trackholder {\n            border: 1px solid var(--theme-colors-border);\n            position: absolute;\n            box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.05);\n            border-radius: 10px;\n            background-color: var(--theme-colors-background-contrast);\n            width: 100%;\n            height: var(--height);\n            overflow: hidden;\n            white-space: nowrap;\n\n            .select {\n                border: 2px solid var(--theme-colors-primary);\n                border-radius: 50%;\n                position: absolute;\n                display: flex;\n                flex-direction: row;\n                top: calc(50% - 8px);\n                left: 20px;\n                width: 16px;\n                height: 16px;\n                cursor: pointer;\n\n                .isEnabled {\n                    border: none;\n                    background-color: var(--theme-colors-primary);\n                    border-radius: 50%;\n                    position: relative;\n                    display: flex;\n                    flex-direction: row;\n                    top: 1px;\n                    left: 1px;\n                    width: 14px;\n                    height: 14px;\n                }\n            }\n\n            .name {\n                position: absolute;\n                top: calc(50% - 24px / 2);\n                left: 50px;\n                max-width: 70%;\n\n                span {\n                    user-select: none;\n                    font-family: var(--theme-fonts-title), sans-serif;\n                    color: var(--theme-fonts-color);\n                    font-size: 24px;\n                    text-overflow: ellipsis;\n                }\n                .read-mode {\n                    padding: 10px;\n                }\n                .edit-mode {\n                    padding: 10px;\n                    border: 1px solid var(--theme-colors-primary);\n                    border-radius: 15px;\n                }\n            }\n\n            .knobs {\n                position: absolute;\n                display: flex;\n                flex-direction: row;\n                top: calc(50% - 50px);\n                height: 100px;\n                width: 30px;\n                right: 20px;\n\n                .topknob {\n                    position: absolute;\n                    top: 10px;\n                }\n                .bottomknob {\n                    position: absolute;\n                    bottom: 8px;\n                }\n            }\n        }\n    }\n</style>\n","<script lang=\"ts\">\n    import { AddTrackButton, Track } from './components';\n    import project from '../../../stores/project';\n    import { shift_key_pressed } from '../../../actions/key-listener';\n    import type { TrackId } from '@engine';\n\n    function add_track_callback() {\n        project.add_track('Track Name');\n    }\n\n    let tracks = [];\n\n    project.subscribe(($project: any) => {\n        if ($project != null) {\n            tracks = $project.tracks;\n        }\n    });\n\n    let selected_tracks = [];\n    let selected_tracks_id = [];\n    function select_track_callback(index, node_id) {\n        const is_selected = selected_tracks_id.includes(index);\n        if (shift_key_pressed) {\n            if (is_selected) {\n                selected_tracks = selected_tracks.filter(\n                    (id) => id !== node_id\n                );\n                selected_tracks_id = selected_tracks_id.filter(\n                    (id) => id !== index\n                );\n            } else {\n                selected_tracks = [...selected_tracks, node_id];\n                selected_tracks_id = [...selected_tracks_id, index];\n            }\n        } else {\n            if (is_selected) {\n                selected_tracks = [];\n                selected_tracks_id = [];\n            } else {\n                selected_tracks = [node_id];\n                selected_tracks_id = [index];\n            }\n        }\n    }\n\n    function handleKeydown(event) {\n        if (event.key === 'Delete') {\n            for (let track of selected_tracks) {\n                project.delete_track(track);\n            }\n            selected_tracks = [];\n            selected_tracks_id = [];\n        }\n    }\n</script>\n\n<svelte:window on:keydown={handleKeydown} />\n<div class=\"track-container\">\n    <div class=\"track-stack\">\n        {#each tracks as track, index (track.id)}\n            <Track\n                {track}\n                selected={selected_tracks.includes(track.id)}\n                editable={(selected_tracks.includes(track.id), false)}\n                on:select={(e) => select_track_callback(index, track.id)}\n                on:change-trackname={(e) =>\n                    project.set_track_name(track.id, e.detail.trackname)}\n            />\n        {/each}\n    </div>\n    <div class=\"add-track\">\n        <AddTrackButton on:click={add_track_callback} />\n    </div>\n</div>\n\n<style lang=\"scss\">\n    .track-container {\n        display: flex;\n        flex-direction: column;\n        justify-content: stretch;\n        width: 316px;\n        padding: 8px;\n        background-color: var(--theme-colors-background-primary);\n        .track-stack {\n            display: flex;\n            flex-direction: column;\n            gap: 10px;\n            z-index: 1;\n            align-items: center;\n            justify-content: center;\n            margin-bottom: 10px;\n        }\n        .add-track {\n            margin-top: auto;\n        }\n    }\n</style>\n","<script lang=\"ts\">\n    export let icontype;\n    export let size = 48;\n    export let buttoncolor = 'white';\n\n    const sprites = {\n        play: 'assets/Play.svg',\n        pause: 'assets/Pause.svg',\n        stop: 'assets/Stop.svg',\n    };\n    $: icon = sprites[icontype];\n</script>\n\n<button on:click style={`--size: ${size}px; --buttoncolor: ${buttoncolor}`}>\n    <img alt=\"IconButton\" src={icon} />\n</button>\n\n<style lang=\"scss\">\n    button {\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        user-select: none;\n        width: var(--size);\n        height: var(--size);\n        background-color: var(--theme-colors-background-primary);\n        border: 1px solid #ebebeb;\n        border-radius: 16px;\n        color: blue($color: #000000);\n        box-shadow: 2px 2px 4px 0px rgba(0, 0, 0, 0.05);\n        border-color: var(--theme-colors-border);\n        &:hover {\n            border-color: var(--theme-colors-primary);\n        }\n        &:active {\n            background-color: rgba(0, 0, 0, 0.37);\n            box-shadow: inset 2px 2px 2px rgba(0, 0, 0, 0.25);\n        }\n    }\n</style>\n","import { writable } from \"svelte/store\";\nexport var ViewMode;\n(function (ViewMode) {\n    ViewMode[ViewMode[\"Graph\"] = 0] = \"Graph\";\n    ViewMode[ViewMode[\"Timeline\"] = 1] = \"Timeline\";\n})(ViewMode || (ViewMode = {}));\nexport default writable(ViewMode.Graph);\n","<script lang=\"ts\">\n    import view from '../../../stores/view';\n    import { ViewMode } from '../../../stores/view';\n\n    export let viewBool = false;\n\n    $: if (viewBool) {\n        $view = ViewMode.Graph;\n    } else {\n        $view = ViewMode.Timeline;\n    }\n</script>\n\n<label class=\"switch\">\n    <input type=\"checkbox\" bind:checked={viewBool} />\n    <span class=\"slider\">\n        <span class=\"node\">\n            <img alt=\"node\" src=\"assets/Node1.svg\" height=\"20\" width=\"20\"/>\n        </span>\n        <span class=\"timeline\">\n            <img alt=\"node\" src=\"assets/Timeline.svg\" height=\"24\" width=\"24\" />\n        </span>\n    </span>\n</label>\n\n<style lang=\"scss\">\n    .switch {\n        user-select: none;\n        position: relative;\n        display: inline-block;\n        width: 102px;\n        height: 52px;\n        box-shadow: inset 2px 2px 4px rgba(0, 0, 0, 0.05);\n        border-radius: 16px;\n    }\n    .switch input {\n        opacity: 0;\n        width: 0;\n        height: 0;\n    }\n\n    .slider {\n        position: absolute;\n        cursor: pointer;\n        top: 0;\n        left: 0;\n        right: 0;\n        bottom: 0;\n        border: 1px solid var(--theme-colors-border);\n        box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.05);\n        background-color: var(--theme-colors-background-contrast);\n        border-radius: 16px;\n        -webkit-transition: 0.4s;\n        transition: 0.4s;\n    }\n\n    .slider:before {\n        position: absolute;\n        content: '';\n        height: 46px;\n        width: 46px;\n        left: 2px;\n        top: 2px;\n        border-radius: 16px;\n        box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.05);\n        background-color: var(--theme-colors-background-primary);\n        -webkit-transition: 0.4s;\n        transition: 0.4s;\n    }\n\n    input:checked + .slider:before {\n        -webkit-transform: translateX(50px);\n        -ms-transform: translateX(50px);\n        transform: translateX(50px);\n    }\n\n    .node {\n        position: absolute;\n        transform: translate(-50%, -50%);\n        top: 50%;\n        left: 76%;\n        font-size: 10px;\n    }\n\n    .timeline {\n        color: rgb(5, 5, 5);\n        position: absolute;\n        transform: translate(-50%, -50%);\n        top: 50%;\n        left: 24%;\n        font-size: 10px;\n    }\n</style>\n","<script lang=\"ts\">\n    export let tempo: number = 96;\n    let min: number = 0.0;\n    let max: number = 999.9;\n    let ret: number = 0;\n\n    $: tempo = Math.max(min, Math.min(tempo, max));\n\n    function detectTrackPad(e) {\n        var isTrackpad = false;\n        if (e.wheelDeltaY) {\n            if (e.wheelDeltaY === e.deltaY * -3) {\n                handleTrackPad(e);\n                return;\n            }\n        } else if (e.deltaMode === 0) {\n            handleTrackPad(e);\n            return;\n        }\n        handleWheel(e);\n    }\n\n    function handleWheel(e: WheelEvent) {\n        const side = Math.sign(e.deltaY);\n        const factor = e.shiftKey ? 2 : 1;\n\n        tempo -= side * factor;\n    }\n\n    function handleTrackPad(e: WheelEvent) {\n        const side = Math.sign(e.deltaY);\n        const factor = e.shiftKey ? 2 : 1;\n\n        if (ret === 0) {\n            tempo -= side;\n        }\n        ret += 1;\n        if (ret === 5) {\n            ret = 0;\n        }\n    }\n\n    function handlePointerDown(e: PointerEvent) {\n        if (e.button !== 0) {\n            return;\n        }\n\n        const startValue = tempo;\n        let deltaY = 0;\n\n        this.onpointermove = (e: PointerEvent) => {\n            deltaY += e.movementY / 2;\n\n            tempo = startValue - Math.round(deltaY / 4);\n        };\n\n        this.onpointerup = (e: PointerEvent) => {\n            this.onpointermove = null;\n            this.onpointerup = null;\n            this.releasePointerCapture(e.pointerId);\n        };\n        this.setPointerCapture(e.pointerId);\n    }\n</script>\n\n<div class=\"frame\" on:wheel={detectTrackPad} on:pointerdown={handlePointerDown}>\n    <div class=\"tempo\">\n        <span>\n            {tempo}\n        </span>\n        <span class=\"little\">.00</span>\n    </div>\n    <div class=\"buttons\">\n        <svg\n            class=\"arrow\"\n            width=\"9\"\n            height=\"6\"\n            viewBox=\"0 0 9 6\"\n            fill=\"none\"\n            xmlns=\"http://www.w3.org/2000/svg\"\n        >\n            <path\n                d=\"M4.93687 1.09089C4.7416 0.895629 4.42502 0.895629 4.22976 1.09089L1.04778 4.27287C0.852517 4.46813 0.852517 4.78472 1.04778 4.97998C1.24304 5.17524 1.55962 5.17524 1.75489 4.97998L4.58331 2.15155L7.41174 4.97998C7.607 5.17524 7.92358 5.17524 8.11885 4.97998C8.31411 4.78472 8.31411 4.46813 8.11885 4.27287L4.93687 1.09089ZM5.08331 2V1.44444H4.08331V2H5.08331Z\"\n                fill=\"black\"\n            />\n        </svg>\n        <svg\n            width=\"9\"\n            height=\"6\"\n            viewBox=\"0 0 9 6\"\n            fill=\"none\"\n            xmlns=\"http://www.w3.org/2000/svg\"\n        >\n            <path\n                d=\"M4.22976 5.02019C4.42502 5.21546 4.7416 5.21546 4.93687 5.02019L8.11885 1.83821C8.31411 1.64295 8.31411 1.32637 8.11885 1.13111C7.92358 0.935845 7.607 0.935845 7.41174 1.13111L4.58331 3.95953L1.75489 1.13111C1.55962 0.935845 1.24304 0.935845 1.04778 1.13111C0.852517 1.32637 0.852517 1.64295 1.04778 1.83821L4.22976 5.02019ZM4.08331 4.11108V4.66664H5.08331V4.11108H4.08331Z\"\n                fill=\"black\"\n            />\n        </svg>\n    </div>\n</div>\n\n<style lang=\"scss\">\n    .frame {\n        position: relative;\n        cursor: ns-resize;\n        min-width: 100px;\n        height: 40px;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        background: var(--theme-colors-background-primary);\n        border: 2px solid var(--theme-colors-border);\n        box-sizing: border-box;\n        box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.05);\n        border-radius: 1rem;\n        user-select: none;\n        color: var(--theme-fonts-color);\n        font-family: var(--theme-fonts-paragraph);\n    }\n\n    .arrow {\n        margin-bottom: 4px;\n        transition: margin-bottom 0.2s;\n    }\n\n    .frame:hover .arrow {\n        transition: margin-bottom 0.2s;\n        margin-bottom: 14px;\n    }\n\n    .little {\n        font-size: 10px;\n        padding-top: 8px;\n    }\n\n    .buttons {\n        position: absolute;\n        right: 10px;\n        display: flex;\n        flex-direction: column;\n    }\n</style>\n","<script lang=\"ts\">\n    export let time: number = 0.0;\n    export let tempo: number = 96;\n    export let signature: number = 4;\n    export let is_bar: boolean = false;\n\n    $: min = Math.floor(time / 60);\n    $: sec = Math.floor(time - min * 60);\n    $: rest = Math.floor((time - min * 60 - sec) * 100);\n\n    $: bps = 60 / tempo;\n    $: bars = Math.floor(time / (signature * bps)) + 1;\n    $: steps = Math.floor((time - (bars - 1) * signature * bps) / bps) + 1;\n    $: ticks = Math.floor(\n        (((time - (bars - 1) * signature * bps) % bps) * 24) / bps\n    );\n\n    function pad_with_zero(x: number) {\n        return x < 10 ? '0' + x : x;\n    }\n\n    $: bst_string = `${bars}:${pad_with_zero(steps)}`;\n    $: ticks_string = `:${pad_with_zero(ticks)}`;\n\n    $: time_str = `${min}:${pad_with_zero(sec)}`;\n    $: rest_str = `:${pad_with_zero(rest)}`;\n\n    function change_mode() {\n        is_bar = !is_bar;\n    }\n</script>\n\n<div class=\"frame\" on:click={change_mode}>\n    {#if is_bar}\n        <div class=\"content\">\n            <p>{bst_string}</p>\n            <p class=\"little\">{ticks_string}</p>\n        </div>\n        <span>Bar</span>\n    {:else}\n        <div class=\"content\">\n            <p>{time_str}</p>\n            <p class=\"little\">{rest_str}</p>\n        </div>\n        <span>Min</span>\n    {/if}\n</div>\n\n<style>\n    .frame {\n        position: relative;\n        width: 336px;\n        height: 60px;\n        background: var(--theme-colors-background-primary);\n        border: 1px solid var(--theme-colors-border);\n        box-sizing: border-box;\n        box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.05);\n        border-radius: 16px;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        user-select: none;\n    }\n\n    .content {\n        position: relative;\n        display: flex;\n        margin: auto;\n    }\n\n    p {\n        margin: 0px;\n        color: var(--theme-fonts-color);\n        font-size: 36px;\n        font-family: var(--theme-fonts-title), sans-serif;\n    }\n\n    .little {\n        margin-top: auto;\n        margin-bottom: 6px;\n        font-size: 14px;\n    }\n\n    span {\n        position: absolute;\n        right: 5%;\n        bottom: 10%;\n        font-family: var(--theme-fonts-title), sans-serif;\n        font-size: 10px;\n        color: var(--theme-fonts-color);\n    }\n</style>\n","<script lang=\"ts\">\n    export let volume = 50;\n    export let color = '#ff0149';\n\n    let isDragged = false;\n\n    $: thumb_position = `${volume}%`;\n    $: thumb_transform_x = `-${volume}%`;\n    $: track_length = `${volume}%`;\n\n    function draggingTrue() {\n        if (!isDragged) isDragged = true;\n    }\n    function draggingFalse() {\n        if (isDragged) isDragged = false;\n    }\n</script>\n\n<div class=\"container\">\n    <div\n        class=\"wrap\"\n        style={`--thumb_position: ${thumb_position}; --track_length: ${track_length}; --thumb_transform_x: ${thumb_transform_x};  --color: ${color}`}\n        on:click={draggingFalse}\n        on:mousedown={draggingTrue}\n    >\n        <input\n            type=\"range\"\n            class=\"range\"\n            min=\"0\"\n            max=\"100\"\n            step=\"0.1\"\n            bind:value={volume}\n        />\n        <div class=\"track\">\n            <div class=\"track-inner\" />\n            <div class=\"track-progress\" />\n        </div>\n        <div class=\"thumb\">\n            {#if isDragged}\n                <span class=\"tooltiptext\"\n                    >{Math.round(parseInt(`${volume}`))}%</span\n                >\n            {/if}\n        </div>\n    </div>\n</div>\n\n<style lang=\"scss\">\n    .container {\n        display: flex;\n        align-content: center;\n        padding: 0px 8px;\n        border: 1px solid var(--theme-colors-border);\n        border-radius: 16px;\n        box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.05);\n        user-select: none;\n    }\n    .wrap {\n        position: relative;\n    }\n\n    .range {\n        width: 100%;\n        cursor: pointer;\n        opacity: 0;\n        padding-top: 9px;\n        height: 100%;\n    }\n    .range::-ms-tooltip {\n        display: none;\n    }\n\n    .track {\n        width: 100%;\n        height: 2px;\n        position: absolute;\n        top: 50%;\n        transform: translateY(-50%);\n        pointer-events: none;\n    }\n\n    .track-progress {\n        position: absolute;\n        top: 0px;\n        left: 0px;\n        width: var(--track_length);\n        height: 100%;\n        background: var(--color);\n    }\n\n    .track-inner {\n        position: absolute;\n        top: 0px;\n        left: 0px;\n        width: 100%;\n        height: 100%;\n        background: var(--theme-colors-background-contrast);\n    }\n\n    .thumb {\n        width: 16px;\n        height: 16px;\n        background: var(--color);\n        border-radius: 50%;\n        position: absolute;\n        top: 50%;\n        left: var(--thumb_position);\n        transform: translate(var(--thumb_transform_x), -50%);\n        pointer-events: none;\n\n        .tooltiptext {\n            font-size: 10px;\n            font-family: var(--theme-fonts-title), sans-serif;\n            color: var(--theme-fonts-color);\n            position: absolute;\n            width: 120px;\n            top: -70%;\n            left: 25%;\n            border-width: 5px;\n        }\n    }\n</style>\n","<script lang=\"ts\">\n    import project from '@app/stores/project';\n    import theme, { ThemeMode } from '@stores/theme';\n    import { getContext } from 'svelte';\n    import {\n        ButtonIcon,\n        ButtonSwitch,\n        Tempo,\n        GlobalTimer,\n        Slider,\n    } from './components';\n\n    let { toggle, current, _ } = getContext('theme');\n\n    let playing: boolean = false;\n\n    let globalTimerTime: number = 100;\n\n    // Todo remove = true, it's only used for easier debugging\n    let buttonSwitchViewMode: boolean = false;\n\n    let tempoTempo: number = 96;\n\n    let sliderVolume: number = 50;\n\n    $: set_volume_callback(sliderVolume);\n    $: set_tempo_callback(tempoTempo);\n\n    $: playButtonIcon = playing ? 'pause' : 'play';\n\n    function toggleTheme() {\n        toggle();\n\n        theme.toggleTheme();\n    }\n\n    function playButtonClicked(): void {\n        playing = !playing;\n        if (playing) {\n            project.play();\n        }\n        console.log(playButtonIcon);\n    }\n\n    function stopButtonClicked(): void {\n        project.stop();\n        playing = false;\n        console.log('Stop Button Clikced');\n    }\n\n    function buttonSwitchedClicked(): void {\n        console.log(buttonSwitchViewMode ? 'graph' : 'timeline');\n    }\n\n    function set_volume_callback(volume: number) {\n        project.set_volume(volume);\n    }\n\n    function set_tempo_callback(tempo: number) {\n        project.set_tempo(tempo);\n    }\n</script>\n\n<nav>\n    <div class=\"group left\">\n        <div class=\"subgroup toolbar-title\">\n            {#if $current === 'light'}\n                <img\n                    alt=\"logo\"\n                    on:click={toggleTheme}\n                    src=\"assets/logo-dark.svg\"\n                />\n            {:else}\n                <img\n                    alt=\"logo\"\n                    on:click={toggleTheme}\n                    src=\"assets/logo-light.svg\"\n                />\n            {/if}\n        </div>\n    </div>\n    <div class=\"group middle\">\n        <div class=\"subgroup control-buttons\">\n            <ButtonIcon\n                icontype={playButtonIcon}\n                on:click={playButtonClicked}\n            />\n            <ButtonIcon icontype=\"stop\" on:click={stopButtonClicked} />\n        </div>\n        <div class=\"subgroup time-group\">\n            <GlobalTimer time={globalTimerTime} />\n        </div>\n        <div class=\"subgroup view-group\">\n            <ButtonSwitch\n                bind:viewBool={buttonSwitchViewMode}\n                on:click={buttonSwitchedClicked}\n            />\n        </div>\n    </div>\n    <div class=\"group right\">\n        <div class=\"subgroup right-controls\">\n            <Tempo bind:tempo={tempoTempo} />\n            <Slider bind:volume={sliderVolume} />\n        </div>\n    </div>\n</nav>\n\n<style lang=\"scss\">\n    nav {\n        flex-shrink: 0;\n        flex-grow: 0;\n        display: flex;\n        justify-content: space-between;\n        height: 100px;\n        background-color: var(--theme-colors-background-primary);\n        align-items: end;\n        padding-bottom: 24px;\n        .left,\n        .right {\n            flex: 2;\n        }\n        .left {\n            justify-content: flex-start;\n        }\n        .middle {\n            align-items: end;\n        }\n        .right {\n            justify-content: flex-end;\n        }\n        .group,\n        .subgroup {\n            display: inline-flex;\n            flex-direction: row;\n        }\n        .group {\n            gap: 18px;\n        }\n        .subgroup {\n            gap: 12px;\n        }\n    }\n\n    .toolbar-title {\n        user-select: none;\n        margin-left: 32px;\n        margin-top: 50px;\n        img {\n            height: 100px;\n            width: 100px;\n            margin-bottom: -12px;\n        }\n    }\n\n    .control-buttons {\n        display: flex;\n        flex-direction: row;\n    }\n\n    .time-group {\n        width: 336px;\n        height: 60px;\n    }\n\n    .right-controls {\n        margin-right: 18px;\n    }\n</style>\n","/*!\n * css-vars-ponyfill\n * v2.4.7\n * https://jhildenbiddle.github.io/css-vars-ponyfill/\n * (c) 2018-2021 John Hildenbiddle <http://hildenbiddle.com>\n * MIT license\n */\nfunction _extends() {\n    _extends = Object.assign || function(target) {\n        for (var i = 1; i < arguments.length; i++) {\n            var source = arguments[i];\n            for (var key in source) {\n                if (Object.prototype.hasOwnProperty.call(source, key)) {\n                    target[key] = source[key];\n                }\n            }\n        }\n        return target;\n    };\n    return _extends.apply(this, arguments);\n}\n\n/*!\n * get-css-data\n * v2.0.2\n * https://github.com/jhildenbiddle/get-css-data\n * (c) 2018-2021 John Hildenbiddle <http://hildenbiddle.com>\n * MIT license\n */ function getUrls(urls) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var settings = {\n        mimeType: options.mimeType || null,\n        onBeforeSend: options.onBeforeSend || Function.prototype,\n        onSuccess: options.onSuccess || Function.prototype,\n        onError: options.onError || Function.prototype,\n        onComplete: options.onComplete || Function.prototype\n    };\n    var urlArray = Array.isArray(urls) ? urls : [ urls ];\n    var urlQueue = Array.apply(null, Array(urlArray.length)).map((function(x) {\n        return null;\n    }));\n    function isValidCss(text) {\n        var isString = typeof text === \"string\";\n        var isHTML = isString && text.trim().charAt(0) === \"<\";\n        return isString && !isHTML;\n    }\n    function onError(xhr, urlIndex) {\n        settings.onError(xhr, urlArray[urlIndex], urlIndex);\n    }\n    function onSuccess(responseText, urlIndex) {\n        var returnVal = settings.onSuccess(responseText, urlArray[urlIndex], urlIndex);\n        responseText = returnVal === false ? \"\" : returnVal || responseText;\n        urlQueue[urlIndex] = responseText;\n        if (urlQueue.indexOf(null) === -1) {\n            settings.onComplete(urlQueue);\n        }\n    }\n    var parser = document.createElement(\"a\");\n    urlArray.forEach((function(url, i) {\n        parser.setAttribute(\"href\", url);\n        parser.href = String(parser.href);\n        var isIElte9 = Boolean(document.all && !window.atob);\n        var isIElte9CORS = isIElte9 && parser.host.split(\":\")[0] !== location.host.split(\":\")[0];\n        if (isIElte9CORS) {\n            var isSameProtocol = parser.protocol === location.protocol;\n            if (isSameProtocol) {\n                var xdr = new XDomainRequest;\n                xdr.open(\"GET\", url);\n                xdr.timeout = 0;\n                xdr.onprogress = Function.prototype;\n                xdr.ontimeout = Function.prototype;\n                xdr.onload = function() {\n                    var text = xdr.responseText;\n                    if (isValidCss(text)) {\n                        onSuccess(text, i);\n                    } else {\n                        onError(xdr, i);\n                    }\n                };\n                xdr.onerror = function(err) {\n                    onError(xdr, i);\n                };\n                setTimeout((function() {\n                    xdr.send();\n                }), 0);\n            } else {\n                console.warn(\"Internet Explorer 9 Cross-Origin (CORS) requests must use the same protocol (\".concat(url, \")\"));\n                onError(null, i);\n            }\n        } else {\n            var xhr = new XMLHttpRequest;\n            xhr.open(\"GET\", url);\n            if (settings.mimeType && xhr.overrideMimeType) {\n                xhr.overrideMimeType(settings.mimeType);\n            }\n            settings.onBeforeSend(xhr, url, i);\n            xhr.onreadystatechange = function() {\n                if (xhr.readyState === 4) {\n                    var text = xhr.responseText;\n                    if (xhr.status < 400 && isValidCss(text)) {\n                        onSuccess(text, i);\n                    } else if (xhr.status === 0 && isValidCss(text)) {\n                        onSuccess(text, i);\n                    } else {\n                        onError(xhr, i);\n                    }\n                }\n            };\n            xhr.send();\n        }\n    }));\n}\n\n/**\n * Gets CSS data from <style> and <link> nodes (including @imports), then\n * returns data in order processed by DOM. Allows specifying nodes to\n * include/exclude and filtering CSS data using RegEx.\n *\n * @preserve\n * @param {object}   [options] The options object\n * @param {object}   [options.rootElement=document] Root element to traverse for\n *                   <link> and <style> nodes.\n * @param {string}   [options.include] CSS selector matching <link> and <style>\n *                   nodes to include\n * @param {string}   [options.exclude] CSS selector matching <link> and <style>\n *                   nodes to exclude\n * @param {object}   [options.filter] Regular expression used to filter node CSS\n *                   data. Each block of CSS data is tested against the filter,\n *                   and only matching data is included.\n * @param {boolean}  [options.skipDisabled=true] Determines if disabled\n *                   stylesheets will be skipped while collecting CSS data.\n * @param {boolean}  [options.useCSSOM=false] Determines if CSS data will be\n *                   collected from a stylesheet's runtime values instead of its\n *                   text content. This is required to get accurate CSS data\n *                   when a stylesheet has been modified using the deleteRule()\n *                   or insertRule() methods because these modifications will\n *                   not be reflected in the stylesheet's text content.\n * @param {function} [options.onBeforeSend] Callback before XHR is sent. Passes\n *                   1) the XHR object, 2) source node reference, and 3) the\n *                   source URL as arguments.\n * @param {function} [options.onSuccess] Callback on each CSS node read. Passes\n *                   1) CSS text, 2) source node reference, and 3) the source\n *                   URL as arguments.\n * @param {function} [options.onError] Callback on each error. Passes 1) the XHR\n *                   object for inspection, 2) soure node reference, and 3) the\n *                   source URL that failed (either a <link> href or an @import)\n *                   as arguments\n * @param {function} [options.onComplete] Callback after all nodes have been\n *                   processed. Passes 1) concatenated CSS text, 2) an array of\n *                   CSS text in DOM order, and 3) an array of nodes in DOM\n *                   order as arguments.\n *\n * @example\n *\n *   getCssData({\n *     rootElement : document,\n *     include     : 'style,link[rel=\"stylesheet\"]',\n *     exclude     : '[href=\"skip.css\"]',\n *     filter      : /red/,\n *     skipDisabled: true,\n *     useCSSOM    : false,\n *     onBeforeSend(xhr, node, url) {\n *       // ...\n *     }\n *     onSuccess(cssText, node, url) {\n *       // ...\n *     }\n *     onError(xhr, node, url) {\n *       // ...\n *     },\n *     onComplete(cssText, cssArray, nodeArray) {\n *       // ...\n *     }\n *   });\n */ function getCssData(options) {\n    var regex = {\n        cssComments: /\\/\\*[\\s\\S]+?\\*\\//g,\n        cssImports: /(?:@import\\s*)(?:url\\(\\s*)?(?:['\"])([^'\"]*)(?:['\"])(?:\\s*\\))?(?:[^;]*;)/g\n    };\n    var settings = {\n        rootElement: options.rootElement || document,\n        include: options.include || 'style,link[rel=\"stylesheet\"]',\n        exclude: options.exclude || null,\n        filter: options.filter || null,\n        skipDisabled: options.skipDisabled !== false,\n        useCSSOM: options.useCSSOM || false,\n        onBeforeSend: options.onBeforeSend || Function.prototype,\n        onSuccess: options.onSuccess || Function.prototype,\n        onError: options.onError || Function.prototype,\n        onComplete: options.onComplete || Function.prototype\n    };\n    var sourceNodes = Array.apply(null, settings.rootElement.querySelectorAll(settings.include)).filter((function(node) {\n        return !matchesSelector(node, settings.exclude);\n    }));\n    var cssArray = Array.apply(null, Array(sourceNodes.length)).map((function(x) {\n        return null;\n    }));\n    function handleComplete() {\n        var isComplete = cssArray.indexOf(null) === -1;\n        if (isComplete) {\n            cssArray.reduce((function(skipIndices, value, i) {\n                if (value === \"\") {\n                    skipIndices.push(i);\n                }\n                return skipIndices;\n            }), []).reverse().forEach((function(skipIndex) {\n                return [ sourceNodes, cssArray ].forEach((function(arr) {\n                    return arr.splice(skipIndex, 1);\n                }));\n            }));\n            var cssText = cssArray.join(\"\");\n            settings.onComplete(cssText, cssArray, sourceNodes);\n        }\n    }\n    function handleSuccess(cssText, cssIndex, node, sourceUrl) {\n        var returnVal = settings.onSuccess(cssText, node, sourceUrl);\n        cssText = returnVal !== undefined && Boolean(returnVal) === false ? \"\" : returnVal || cssText;\n        resolveImports(cssText, node, sourceUrl, (function(resolvedCssText, errorData) {\n            if (cssArray[cssIndex] === null) {\n                errorData.forEach((function(data) {\n                    return settings.onError(data.xhr, node, data.url);\n                }));\n                if (!settings.filter || settings.filter.test(resolvedCssText)) {\n                    cssArray[cssIndex] = resolvedCssText;\n                } else {\n                    cssArray[cssIndex] = \"\";\n                }\n                handleComplete();\n            }\n        }));\n    }\n    function parseImportData(cssText, baseUrl) {\n        var ignoreRules = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];\n        var importData = {};\n        importData.rules = (cssText.replace(regex.cssComments, \"\").match(regex.cssImports) || []).filter((function(rule) {\n            return ignoreRules.indexOf(rule) === -1;\n        }));\n        importData.urls = importData.rules.map((function(rule) {\n            return rule.replace(regex.cssImports, \"$1\");\n        }));\n        importData.absoluteUrls = importData.urls.map((function(url) {\n            return getFullUrl$1(url, baseUrl);\n        }));\n        importData.absoluteRules = importData.rules.map((function(rule, i) {\n            var oldUrl = importData.urls[i];\n            var newUrl = getFullUrl$1(importData.absoluteUrls[i], baseUrl);\n            return rule.replace(oldUrl, newUrl);\n        }));\n        return importData;\n    }\n    function resolveImports(cssText, node, baseUrl, callbackFn) {\n        var __errorData = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : [];\n        var __errorRules = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : [];\n        var importData = parseImportData(cssText, baseUrl, __errorRules);\n        if (importData.rules.length) {\n            getUrls(importData.absoluteUrls, {\n                onBeforeSend: function onBeforeSend(xhr, url, urlIndex) {\n                    settings.onBeforeSend(xhr, node, url);\n                },\n                onSuccess: function onSuccess(cssText, url, urlIndex) {\n                    var returnVal = settings.onSuccess(cssText, node, url);\n                    cssText = returnVal === false ? \"\" : returnVal || cssText;\n                    var responseImportData = parseImportData(cssText, url, __errorRules);\n                    responseImportData.rules.forEach((function(rule, i) {\n                        cssText = cssText.replace(rule, responseImportData.absoluteRules[i]);\n                    }));\n                    return cssText;\n                },\n                onError: function onError(xhr, url, urlIndex) {\n                    __errorData.push({\n                        xhr: xhr,\n                        url: url\n                    });\n                    __errorRules.push(importData.rules[urlIndex]);\n                    resolveImports(cssText, node, baseUrl, callbackFn, __errorData, __errorRules);\n                },\n                onComplete: function onComplete(responseArray) {\n                    responseArray.forEach((function(importText, i) {\n                        cssText = cssText.replace(importData.rules[i], importText);\n                    }));\n                    resolveImports(cssText, node, baseUrl, callbackFn, __errorData, __errorRules);\n                }\n            });\n        } else {\n            callbackFn(cssText, __errorData);\n        }\n    }\n    if (sourceNodes.length) {\n        sourceNodes.forEach((function(node, i) {\n            var linkHref = node.getAttribute(\"href\");\n            var linkRel = node.getAttribute(\"rel\");\n            var isLink = node.nodeName.toLowerCase() === \"link\" && linkHref && linkRel && linkRel.toLowerCase().indexOf(\"stylesheet\") !== -1;\n            var isSkip = settings.skipDisabled === false ? false : node.disabled;\n            var isStyle = node.nodeName.toLowerCase() === \"style\";\n            if (isLink && !isSkip) {\n                getUrls(linkHref, {\n                    mimeType: \"text/css\",\n                    onBeforeSend: function onBeforeSend(xhr, url, urlIndex) {\n                        settings.onBeforeSend(xhr, node, url);\n                    },\n                    onSuccess: function onSuccess(cssText, url, urlIndex) {\n                        var sourceUrl = getFullUrl$1(linkHref);\n                        handleSuccess(cssText, i, node, sourceUrl);\n                    },\n                    onError: function onError(xhr, url, urlIndex) {\n                        cssArray[i] = \"\";\n                        settings.onError(xhr, node, url);\n                        handleComplete();\n                    }\n                });\n            } else if (isStyle && !isSkip) {\n                var cssText = node.textContent;\n                if (settings.useCSSOM) {\n                    cssText = Array.apply(null, node.sheet.cssRules).map((function(rule) {\n                        return rule.cssText;\n                    })).join(\"\");\n                }\n                handleSuccess(cssText, i, node, location.href);\n            } else {\n                cssArray[i] = \"\";\n                handleComplete();\n            }\n        }));\n    } else {\n        settings.onComplete(\"\", []);\n    }\n}\n\nfunction getFullUrl$1(url, base) {\n    var d = document.implementation.createHTMLDocument(\"\");\n    var b = d.createElement(\"base\");\n    var a = d.createElement(\"a\");\n    d.head.appendChild(b);\n    d.body.appendChild(a);\n    b.href = base || document.baseURI || (document.querySelector(\"base\") || {}).href || location.href;\n    a.href = url;\n    return a.href;\n}\n\nfunction matchesSelector(elm, selector) {\n    var matches = elm.matches || elm.matchesSelector || elm.webkitMatchesSelector || elm.mozMatchesSelector || elm.msMatchesSelector || elm.oMatchesSelector;\n    return matches.call(elm, selector);\n}\n\nvar balancedMatch = balanced;\n\nfunction balanced(a, b, str) {\n    if (a instanceof RegExp) a = maybeMatch(a, str);\n    if (b instanceof RegExp) b = maybeMatch(b, str);\n    var r = range(a, b, str);\n    return r && {\n        start: r[0],\n        end: r[1],\n        pre: str.slice(0, r[0]),\n        body: str.slice(r[0] + a.length, r[1]),\n        post: str.slice(r[1] + b.length)\n    };\n}\n\nfunction maybeMatch(reg, str) {\n    var m = str.match(reg);\n    return m ? m[0] : null;\n}\n\nbalanced.range = range;\n\nfunction range(a, b, str) {\n    var begs, beg, left, right, result;\n    var ai = str.indexOf(a);\n    var bi = str.indexOf(b, ai + 1);\n    var i = ai;\n    if (ai >= 0 && bi > 0) {\n        if (a === b) {\n            return [ ai, bi ];\n        }\n        begs = [];\n        left = str.length;\n        while (i >= 0 && !result) {\n            if (i == ai) {\n                begs.push(i);\n                ai = str.indexOf(a, i + 1);\n            } else if (begs.length == 1) {\n                result = [ begs.pop(), bi ];\n            } else {\n                beg = begs.pop();\n                if (beg < left) {\n                    left = beg;\n                    right = bi;\n                }\n                bi = str.indexOf(b, i + 1);\n            }\n            i = ai < bi && ai >= 0 ? ai : bi;\n        }\n        if (begs.length) {\n            result = [ left, right ];\n        }\n    }\n    return result;\n}\n\nfunction parseCss(css) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var defaults = {\n        preserveStatic: true,\n        removeComments: false\n    };\n    var settings = _extends({}, defaults, options);\n    var errors = [];\n    function error(msg) {\n        throw new Error(\"CSS parse error: \".concat(msg));\n    }\n    function match(re) {\n        var m = re.exec(css);\n        if (m) {\n            css = css.slice(m[0].length);\n            return m;\n        }\n    }\n    function open() {\n        return match(/^{\\s*/);\n    }\n    function close() {\n        return match(/^}/);\n    }\n    function whitespace() {\n        match(/^\\s*/);\n    }\n    function comment() {\n        whitespace();\n        if (css[0] !== \"/\" || css[1] !== \"*\") {\n            return;\n        }\n        var i = 2;\n        while (css[i] && (css[i] !== \"*\" || css[i + 1] !== \"/\")) {\n            i++;\n        }\n        if (!css[i]) {\n            return error(\"end of comment is missing\");\n        }\n        var str = css.slice(2, i);\n        css = css.slice(i + 2);\n        return {\n            type: \"comment\",\n            comment: str\n        };\n    }\n    function comments() {\n        var cmnts = [];\n        var c;\n        while (c = comment()) {\n            cmnts.push(c);\n        }\n        return settings.removeComments ? [] : cmnts;\n    }\n    function selector() {\n        whitespace();\n        while (css[0] === \"}\") {\n            error(\"extra closing bracket\");\n        }\n        var m = match(/^((\"(?:\\\\\"|[^\"])*\"|'(?:\\\\'|[^'])*'|[^{])+)/);\n        if (m) {\n            var _selector = m[0].trim();\n            var selectorItems;\n            var hasComment = /\\/\\*/.test(_selector);\n            if (hasComment) {\n                _selector = _selector.replace(/\\/\\*([^*]|[\\r\\n]|(\\*+([^*/]|[\\r\\n])))*\\*\\/+/g, \"\");\n            }\n            var hasCommaInQuotes = /[\"']\\w*,\\w*[\"']/.test(_selector);\n            if (hasCommaInQuotes) {\n                _selector = _selector.replace(/\"(?:\\\\\"|[^\"])*\"|'(?:\\\\'|[^'])*'/g, (function(m) {\n                    return m.replace(/,/g, \"‌\");\n                }));\n            }\n            var hasMultipleSelectors = /,/.test(_selector);\n            if (hasMultipleSelectors) {\n                selectorItems = _selector.split(/\\s*(?![^(]*\\)),\\s*/);\n            } else {\n                selectorItems = [ _selector ];\n            }\n            if (hasCommaInQuotes) {\n                selectorItems = selectorItems.map((function(s) {\n                    return s.replace(/\\u200C/g, \",\");\n                }));\n            }\n            return selectorItems;\n        }\n    }\n    function declaration() {\n        if (css[0] === \"@\") {\n            return at_rule();\n        }\n        match(/^([;\\s]*)+/);\n        var comment_regexp = /\\/\\*[^*]*\\*+([^/*][^*]*\\*+)*\\//g;\n        var prop = match(/^(\\*?[-#/*\\\\\\w.]+(\\[[0-9a-z_-]+\\])?)\\s*/);\n        if (!prop) {\n            return;\n        }\n        prop = prop[0].trim();\n        if (!match(/^:\\s*/)) {\n            return error(\"property missing ':'\");\n        }\n        var val = match(/^((?:\\/\\*.*?\\*\\/|'(?:\\\\'|.)*?'|\"(?:\\\\\"|.)*?\"|\\((\\s*'(?:\\\\'|.)*?'|\"(?:\\\\\"|.)*?\"|[^)]*?)\\s*\\)|[^};])+)/);\n        var ret = {\n            type: \"declaration\",\n            property: prop.replace(comment_regexp, \"\"),\n            value: val ? val[0].replace(comment_regexp, \"\").trim() : \"\"\n        };\n        match(/^[;\\s]*/);\n        return ret;\n    }\n    function declarations() {\n        if (!open()) {\n            return error(\"missing '{'\");\n        }\n        var d;\n        var decls = comments();\n        while (d = declaration()) {\n            decls.push(d);\n            decls = decls.concat(comments());\n        }\n        if (!close()) {\n            return error(\"missing '}'\");\n        }\n        return decls;\n    }\n    function keyframe() {\n        whitespace();\n        var vals = [];\n        var m;\n        while (m = match(/^((\\d+\\.\\d+|\\.\\d+|\\d+)%?|[a-z]+)\\s*/)) {\n            vals.push(m[1]);\n            match(/^,\\s*/);\n        }\n        if (vals.length) {\n            return {\n                type: \"keyframe\",\n                values: vals,\n                declarations: declarations()\n            };\n        }\n    }\n    function at_keyframes() {\n        var m = match(/^@([-\\w]+)?keyframes\\s*/);\n        if (!m) {\n            return;\n        }\n        var vendor = m[1];\n        m = match(/^([-\\w]+)\\s*/);\n        if (!m) {\n            return error(\"@keyframes missing name\");\n        }\n        var name = m[1];\n        if (!open()) {\n            return error(\"@keyframes missing '{'\");\n        }\n        var frame;\n        var frames = comments();\n        while (frame = keyframe()) {\n            frames.push(frame);\n            frames = frames.concat(comments());\n        }\n        if (!close()) {\n            return error(\"@keyframes missing '}'\");\n        }\n        return {\n            type: \"keyframes\",\n            name: name,\n            vendor: vendor,\n            keyframes: frames\n        };\n    }\n    function at_page() {\n        var m = match(/^@page */);\n        if (m) {\n            var sel = selector() || [];\n            return {\n                type: \"page\",\n                selectors: sel,\n                declarations: declarations()\n            };\n        }\n    }\n    function at_page_margin_box() {\n        var m = match(/@(top|bottom|left|right)-(left|center|right|top|middle|bottom)-?(corner)?\\s*/);\n        if (m) {\n            var name = \"\".concat(m[1], \"-\").concat(m[2]) + (m[3] ? \"-\".concat(m[3]) : \"\");\n            return {\n                type: \"page-margin-box\",\n                name: name,\n                declarations: declarations()\n            };\n        }\n    }\n    function at_fontface() {\n        var m = match(/^@font-face\\s*/);\n        if (m) {\n            return {\n                type: \"font-face\",\n                declarations: declarations()\n            };\n        }\n    }\n    function at_supports() {\n        var m = match(/^@supports *([^{]+)/);\n        if (m) {\n            return {\n                type: \"supports\",\n                supports: m[1].trim(),\n                rules: rules()\n            };\n        }\n    }\n    function at_host() {\n        var m = match(/^@host\\s*/);\n        if (m) {\n            return {\n                type: \"host\",\n                rules: rules()\n            };\n        }\n    }\n    function at_media() {\n        var m = match(/^@media([^{]+)*/);\n        if (m) {\n            return {\n                type: \"media\",\n                media: (m[1] || \"\").trim(),\n                rules: rules()\n            };\n        }\n    }\n    function at_custom_m() {\n        var m = match(/^@custom-media\\s+(--[^\\s]+)\\s*([^{;]+);/);\n        if (m) {\n            return {\n                type: \"custom-media\",\n                name: m[1].trim(),\n                media: m[2].trim()\n            };\n        }\n    }\n    function at_document() {\n        var m = match(/^@([-\\w]+)?document *([^{]+)/);\n        if (m) {\n            return {\n                type: \"document\",\n                document: m[2].trim(),\n                vendor: m[1] ? m[1].trim() : null,\n                rules: rules()\n            };\n        }\n    }\n    function at_x() {\n        var m = match(/^@(import|charset|namespace)\\s*([^;]+);/);\n        if (m) {\n            return {\n                type: m[1],\n                name: m[2].trim()\n            };\n        }\n    }\n    function at_rule() {\n        whitespace();\n        if (css[0] === \"@\") {\n            var ret = at_x() || at_fontface() || at_media() || at_keyframes() || at_supports() || at_document() || at_custom_m() || at_host() || at_page() || at_page_margin_box();\n            if (ret && !settings.preserveStatic) {\n                var hasVarFunc = false;\n                if (ret.declarations) {\n                    hasVarFunc = ret.declarations.some((function(decl) {\n                        return /var\\(/.test(decl.value);\n                    }));\n                } else {\n                    var arr = ret.keyframes || ret.rules || [];\n                    hasVarFunc = arr.some((function(obj) {\n                        return (obj.declarations || []).some((function(decl) {\n                            return /var\\(/.test(decl.value);\n                        }));\n                    }));\n                }\n                return hasVarFunc ? ret : {};\n            }\n            return ret;\n        }\n    }\n    function rule() {\n        if (!settings.preserveStatic) {\n            var balancedMatch$1 = balancedMatch(\"{\", \"}\", css);\n            if (balancedMatch$1) {\n                var hasVarDecl = /:(?:root|host)(?![.:#(])/.test(balancedMatch$1.pre) && /--\\S*\\s*:/.test(balancedMatch$1.body);\n                var hasVarFunc = /var\\(/.test(balancedMatch$1.body);\n                if (!hasVarDecl && !hasVarFunc) {\n                    css = css.slice(balancedMatch$1.end + 1);\n                    return {};\n                }\n            }\n        }\n        var sel = selector() || [];\n        var decls = settings.preserveStatic ? declarations() : declarations().filter((function(decl) {\n            var hasVarDecl = sel.some((function(s) {\n                return /:(?:root|host)(?![.:#(])/.test(s);\n            })) && /^--\\S/.test(decl.property);\n            var hasVarFunc = /var\\(/.test(decl.value);\n            return hasVarDecl || hasVarFunc;\n        }));\n        if (!sel.length) {\n            error(\"selector missing\");\n        }\n        return {\n            type: \"rule\",\n            selectors: sel,\n            declarations: decls\n        };\n    }\n    function rules(core) {\n        if (!core && !open()) {\n            return error(\"missing '{'\");\n        }\n        var node;\n        var rules = comments();\n        while (css.length && (core || css[0] !== \"}\") && (node = at_rule() || rule())) {\n            if (node.type) {\n                rules.push(node);\n            }\n            rules = rules.concat(comments());\n        }\n        if (!core && !close()) {\n            return error(\"missing '}'\");\n        }\n        return rules;\n    }\n    return {\n        type: \"stylesheet\",\n        stylesheet: {\n            rules: rules(true),\n            errors: errors\n        }\n    };\n}\n\nfunction parseVars(cssData) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var defaults = {\n        parseHost: false,\n        store: {},\n        onWarning: function onWarning() {}\n    };\n    var settings = _extends({}, defaults, options);\n    var reVarDeclSelectors = new RegExp(\":\".concat(settings.parseHost ? \"host\" : \"root\", \"$\"));\n    if (typeof cssData === \"string\") {\n        cssData = parseCss(cssData, settings);\n    }\n    cssData.stylesheet.rules.forEach((function(rule) {\n        if (rule.type !== \"rule\" || !rule.selectors.some((function(s) {\n            return reVarDeclSelectors.test(s);\n        }))) {\n            return;\n        }\n        rule.declarations.forEach((function(decl, i) {\n            var prop = decl.property;\n            var value = decl.value;\n            if (prop && prop.indexOf(\"--\") === 0) {\n                settings.store[prop] = value;\n            }\n        }));\n    }));\n    return settings.store;\n}\n\nfunction stringifyCss(tree) {\n    var delim = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"\";\n    var cb = arguments.length > 2 ? arguments[2] : undefined;\n    var renderMethods = {\n        charset: function charset(node) {\n            return \"@charset \" + node.name + \";\";\n        },\n        comment: function comment(node) {\n            return node.comment.indexOf(\"__CSSVARSPONYFILL\") === 0 ? \"/*\" + node.comment + \"*/\" : \"\";\n        },\n        \"custom-media\": function customMedia(node) {\n            return \"@custom-media \" + node.name + \" \" + node.media + \";\";\n        },\n        declaration: function declaration(node) {\n            return node.property + \":\" + node.value + \";\";\n        },\n        document: function document(node) {\n            return \"@\" + (node.vendor || \"\") + \"document \" + node.document + \"{\" + visit(node.rules) + \"}\";\n        },\n        \"font-face\": function fontFace(node) {\n            return \"@font-face\" + \"{\" + visit(node.declarations) + \"}\";\n        },\n        host: function host(node) {\n            return \"@host\" + \"{\" + visit(node.rules) + \"}\";\n        },\n        import: function _import(node) {\n            return \"@import \" + node.name + \";\";\n        },\n        keyframe: function keyframe(node) {\n            return node.values.join(\",\") + \"{\" + visit(node.declarations) + \"}\";\n        },\n        keyframes: function keyframes(node) {\n            return \"@\" + (node.vendor || \"\") + \"keyframes \" + node.name + \"{\" + visit(node.keyframes) + \"}\";\n        },\n        media: function media(node) {\n            return \"@media \" + node.media + \"{\" + visit(node.rules) + \"}\";\n        },\n        namespace: function namespace(node) {\n            return \"@namespace \" + node.name + \";\";\n        },\n        page: function page(node) {\n            return \"@page \" + (node.selectors.length ? node.selectors.join(\", \") : \"\") + \"{\" + visit(node.declarations) + \"}\";\n        },\n        \"page-margin-box\": function pageMarginBox(node) {\n            return \"@\" + node.name + \"{\" + visit(node.declarations) + \"}\";\n        },\n        rule: function rule(node) {\n            var decls = node.declarations;\n            if (decls.length) {\n                return node.selectors.join(\",\") + \"{\" + visit(decls) + \"}\";\n            }\n        },\n        supports: function supports(node) {\n            return \"@supports \" + node.supports + \"{\" + visit(node.rules) + \"}\";\n        }\n    };\n    function visit(nodes) {\n        var buf = \"\";\n        for (var i = 0; i < nodes.length; i++) {\n            var n = nodes[i];\n            if (cb) {\n                cb(n);\n            }\n            var txt = renderMethods[n.type](n);\n            if (txt) {\n                buf += txt;\n                if (txt.length && n.selectors) {\n                    buf += delim;\n                }\n            }\n        }\n        return buf;\n    }\n    return visit(tree.stylesheet.rules);\n}\n\nfunction walkCss(node, fn) {\n    node.rules.forEach((function(rule) {\n        if (rule.rules) {\n            walkCss(rule, fn);\n            return;\n        }\n        if (rule.keyframes) {\n            rule.keyframes.forEach((function(keyframe) {\n                if (keyframe.type === \"keyframe\") {\n                    fn(keyframe.declarations, rule);\n                }\n            }));\n            return;\n        }\n        if (!rule.declarations) {\n            return;\n        }\n        fn(rule.declarations, node);\n    }));\n}\n\nvar VAR_PROP_IDENTIFIER = \"--\";\n\nvar VAR_FUNC_IDENTIFIER = \"var\";\n\nfunction transformCss(cssData) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var defaults = {\n        preserveStatic: true,\n        preserveVars: false,\n        variables: {},\n        onWarning: function onWarning() {}\n    };\n    var settings = _extends({}, defaults, options);\n    if (typeof cssData === \"string\") {\n        cssData = parseCss(cssData, settings);\n    }\n    walkCss(cssData.stylesheet, (function(declarations, node) {\n        for (var i = 0; i < declarations.length; i++) {\n            var decl = declarations[i];\n            var type = decl.type;\n            var prop = decl.property;\n            var value = decl.value;\n            if (type !== \"declaration\") {\n                continue;\n            }\n            if (!settings.preserveVars && prop && prop.indexOf(VAR_PROP_IDENTIFIER) === 0) {\n                declarations.splice(i, 1);\n                i--;\n                continue;\n            }\n            if (value.indexOf(VAR_FUNC_IDENTIFIER + \"(\") !== -1) {\n                var resolvedValue = resolveValue(value, settings);\n                if (resolvedValue !== decl.value) {\n                    resolvedValue = fixNestedCalc(resolvedValue);\n                    if (!settings.preserveVars) {\n                        decl.value = resolvedValue;\n                    } else {\n                        declarations.splice(i, 0, {\n                            type: type,\n                            property: prop,\n                            value: resolvedValue\n                        });\n                        i++;\n                    }\n                }\n            }\n        }\n    }));\n    return stringifyCss(cssData);\n}\n\nfunction fixNestedCalc(value) {\n    var reCalcVal = /calc\\(([^)]+)\\)/g;\n    (value.match(reCalcVal) || []).forEach((function(match) {\n        var newVal = \"calc\".concat(match.split(\"calc\").join(\"\"));\n        value = value.replace(match, newVal);\n    }));\n    return value;\n}\n\nfunction resolveValue(value) {\n    var settings = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var __recursiveFallback = arguments.length > 2 ? arguments[2] : undefined;\n    if (value.indexOf(\"var(\") === -1) {\n        return value;\n    }\n    var valueData = balancedMatch(\"(\", \")\", value);\n    function resolveFunc(value) {\n        var name = value.split(\",\")[0].replace(/[\\s\\n\\t]/g, \"\");\n        var fallback = (value.match(/(?:\\s*,\\s*){1}(.*)?/) || [])[1];\n        var match = Object.prototype.hasOwnProperty.call(settings.variables, name) ? String(settings.variables[name]) : undefined;\n        var replacement = match || (fallback ? String(fallback) : undefined);\n        var unresolvedFallback = __recursiveFallback || value;\n        if (!match) {\n            settings.onWarning('variable \"'.concat(name, '\" is undefined'));\n        }\n        if (replacement && replacement !== \"undefined\" && replacement.length > 0) {\n            return resolveValue(replacement, settings, unresolvedFallback);\n        } else {\n            return \"var(\".concat(unresolvedFallback, \")\");\n        }\n    }\n    if (!valueData) {\n        if (value.indexOf(\"var(\") !== -1) {\n            settings.onWarning('missing closing \")\" in the value \"'.concat(value, '\"'));\n        }\n        return value;\n    } else if (valueData.pre.slice(-3) === \"var\") {\n        var isEmptyVarFunc = valueData.body.trim().length === 0;\n        if (isEmptyVarFunc) {\n            settings.onWarning(\"var() must contain a non-whitespace string\");\n            return value;\n        } else {\n            return valueData.pre.slice(0, -3) + resolveFunc(valueData.body) + resolveValue(valueData.post, settings);\n        }\n    } else {\n        return valueData.pre + \"(\".concat(resolveValue(valueData.body, settings), \")\") + resolveValue(valueData.post, settings);\n    }\n}\n\nvar isBrowser = typeof window !== \"undefined\";\n\nvar isNativeSupport = isBrowser && window.CSS && window.CSS.supports && window.CSS.supports(\"(--a: 0)\");\n\nvar counters = {\n    group: 0,\n    job: 0\n};\n\nvar defaults = {\n    rootElement: isBrowser ? document : null,\n    shadowDOM: false,\n    include: \"style,link[rel=stylesheet]\",\n    exclude: \"\",\n    variables: {},\n    onlyLegacy: true,\n    preserveStatic: true,\n    preserveVars: false,\n    silent: false,\n    updateDOM: true,\n    updateURLs: true,\n    watch: null,\n    onBeforeSend: function onBeforeSend() {},\n    onError: function onError() {},\n    onWarning: function onWarning() {},\n    onSuccess: function onSuccess() {},\n    onComplete: function onComplete() {},\n    onFinally: function onFinally() {}\n};\n\nvar regex = {\n    cssComments: /\\/\\*[\\s\\S]+?\\*\\//g,\n    cssKeyframes: /@(?:-\\w*-)?keyframes/,\n    cssMediaQueries: /@media[^{]+\\{([\\s\\S]+?})\\s*}/g,\n    cssUrls: /url\\((?!['\"]?(?:data|http|\\/\\/):)['\"]?([^'\")]*)['\"]?\\)/g,\n    cssVarDeclRules: /(?::(?:root|host)(?![.:#(])[\\s,]*[^{]*{\\s*[^}]*})/g,\n    cssVarDecls: /(?:[\\s;]*)(-{2}\\w[\\w-]*)(?:\\s*:\\s*)([^;]*);/g,\n    cssVarFunc: /var\\(\\s*--[\\w-]/,\n    cssVars: /(?:(?::(?:root|host)(?![.:#(])[\\s,]*[^{]*{\\s*[^;]*;*\\s*)|(?:var\\(\\s*))(--[^:)]+)(?:\\s*[:)])/\n};\n\nvar variableStore = {\n    dom: {},\n    job: {},\n    user: {}\n};\n\nvar cssVarsIsRunning = false;\n\nvar cssVarsObserver = null;\n\nvar cssVarsSrcNodeCount = 0;\n\nvar debounceTimer = null;\n\nvar isShadowDOMReady = false;\n\n/**\n * Fetches, parses, and transforms CSS custom properties from specified\n * <style> and <link> elements into static values, then appends a new <style>\n * element with static values to the DOM to provide CSS custom property\n * compatibility for legacy browsers. Also provides a single interface for\n * live updates of runtime values in both modern and legacy browsers.\n *\n * @preserve\n * @param {object}   [options] Options object\n * @param {object}   [options.rootElement=document] Root element to traverse for\n *                   <link> and <style> nodes\n * @param {boolean}  [options.shadowDOM=false] Determines if shadow DOM <link>\n *                   and <style> nodes will be processed.\n * @param {string}   [options.include=\"style,link[rel=stylesheet]\"] CSS selector\n *                   matching <link re=\"stylesheet\"> and <style> nodes to\n *                   process\n * @param {string}   [options.exclude] CSS selector matching <link\n *                   rel=\"stylehseet\"> and <style> nodes to exclude from those\n *                   matches by options.include\n * @param {object}   [options.variables] A map of custom property name/value\n *                   pairs. Property names can omit or include the leading\n *                   double-hyphen (—), and values specified will override\n *                   previous values\n * @param {boolean}  [options.onlyLegacy=true] Determines if the ponyfill will\n *                   only generate legacy-compatible CSS in browsers that lack\n *                   native support (i.e., legacy browsers)\n * @param {boolean}  [options.preserveStatic=true] Determines if CSS\n *                   declarations that do not reference a custom property will\n *                   be preserved in the transformed CSS\n * @param {boolean}  [options.preserveVars=false] Determines if CSS custom\n *                   property declarations will be preserved in the transformed\n *                   CSS\n * @param {boolean}  [options.silent=false] Determines if warning and error\n *                   messages will be displayed on the console\n * @param {boolean}  [options.updateDOM=true] Determines if the ponyfill will\n *                   update the DOM after processing CSS custom properties\n * @param {boolean}  [options.updateURLs=true] Determines if relative url()\n *                   paths will be converted to absolute urls in external CSS\n * @param {boolean}  [options.watch=false] Determines if a MutationObserver will\n *                   be created that will execute the ponyfill when a <link> or\n *                   <style> DOM mutation is observed\n * @param {function} [options.onBeforeSend] Callback before XHR is sent. Passes\n *                   1) the XHR object, 2) source node reference, and 3) the\n *                   source URL as arguments\n * @param {function} [options.onError] Callback after a CSS parsing error has\n *                   occurred or an XHR request has failed. Passes 1) an error\n *                   message, and 2) source node reference, 3) xhr, and 4 url as\n *                   arguments.\n * @param {function} [options.onWarning] Callback after each CSS parsing warning\n *                   has occurred. Passes 1) a warning message as an argument.\n * @param {function} [options.onSuccess] Callback after CSS data has been\n *                   collected from each node and before CSS custom properties\n *                   have been transformed. Allows modifying the CSS data before\n *                   it is transformed by returning any string value (or false\n *                   to skip). Passes 1) CSS text, 2) source node reference, and\n *                   3) the source URL as arguments.\n * @param {function} [options.onComplete] Callback after all CSS has been\n *                   processed, legacy-compatible CSS has been generated, and\n *                   (optionally) the DOM has been updated. Passes 1) a CSS\n *                   string with CSS variable values resolved, 2) an array of\n *                   output <style> node references that have been appended to\n *                   the DOM, 3) an object containing all custom properies names\n *                   and values, and 4) the ponyfill execution time in\n *                   milliseconds.\n * @param {function} [options.onFinally] Callback in modern and legacy browsers\n *                   after the ponyfill has finished all tasks. Passes 1) a\n *                   boolean indicating if the last ponyfill call resulted in a\n *                   style change, 2) a boolean indicating if the current\n *                   browser provides native support for CSS custom properties,\n *                   and 3) the ponyfill execution time in milliseconds.\n * @example\n *\n *   cssVars({\n *     rootElement   : document,\n *     shadowDOM     : false,\n *     include       : 'style,link[rel=\"stylesheet\"]',\n *     exclude       : '',\n *     variables     : {},\n *     onlyLegacy    : true,\n *     preserveStatic: true,\n *     preserveVars  : false,\n *     silent        : false,\n *     updateDOM     : true,\n *     updateURLs    : true,\n *     watch         : false,\n *     onBeforeSend(xhr, node, url) {},\n *     onError(message, node, xhr, url) {},\n *     onWarning(message) {},\n *     onSuccess(cssText, node, url) {},\n *     onComplete(cssText, styleNode, cssVariables, benchmark) {},\n *     onFinally(hasChanged, hasNativeSupport, benchmark)\n *   });\n */ function cssVars() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var msgPrefix = \"cssVars(): \";\n    var settings = _extends({}, defaults, options);\n    function handleError(message, sourceNode, xhr, url) {\n        if (!settings.silent && window.console) {\n            console.error(\"\".concat(msgPrefix).concat(message, \"\\n\"), sourceNode);\n        }\n        settings.onError(message, sourceNode, xhr, url);\n    }\n    function handleWarning(message) {\n        if (!settings.silent && window.console) {\n            console.warn(\"\".concat(msgPrefix).concat(message));\n        }\n        settings.onWarning(message);\n    }\n    function handleFinally(hasChanged) {\n        settings.onFinally(Boolean(hasChanged), isNativeSupport, getTimeStamp() - settings.__benchmark);\n    }\n    if (!isBrowser) {\n        return;\n    }\n    if (settings.watch) {\n        settings.watch = defaults.watch;\n        addMutationObserver(settings);\n        cssVars(settings);\n        return;\n    } else if (settings.watch === false && cssVarsObserver) {\n        cssVarsObserver.disconnect();\n        cssVarsObserver = null;\n    }\n    if (!settings.__benchmark) {\n        if (cssVarsIsRunning === settings.rootElement) {\n            cssVarsDebounced(options);\n            return;\n        }\n        var srcNodes = [].slice.call(settings.rootElement.querySelectorAll('[data-cssvars]:not([data-cssvars=\"out\"])'));\n        settings.__benchmark = getTimeStamp();\n        settings.exclude = [ cssVarsObserver ? '[data-cssvars]:not([data-cssvars=\"\"])' : '[data-cssvars=\"out\"]', \"link[disabled]:not([data-cssvars])\", settings.exclude ].filter((function(selector) {\n            return selector;\n        })).join(\",\");\n        settings.variables = fixVarNames(settings.variables);\n        srcNodes.forEach((function(srcNode) {\n            var hasStyleCache = srcNode.nodeName.toLowerCase() === \"style\" && srcNode.__cssVars.text;\n            var hasStyleChanged = hasStyleCache && srcNode.textContent !== srcNode.__cssVars.text;\n            if (hasStyleCache && hasStyleChanged) {\n                srcNode.sheet && (srcNode.sheet.disabled = false);\n                srcNode.setAttribute(\"data-cssvars\", \"\");\n            }\n        }));\n        if (!cssVarsObserver) {\n            var outNodes = [].slice.call(settings.rootElement.querySelectorAll('[data-cssvars=\"out\"]'));\n            outNodes.forEach((function(outNode) {\n                var dataGroup = outNode.getAttribute(\"data-cssvars-group\");\n                var srcNode = dataGroup ? settings.rootElement.querySelector('[data-cssvars=\"src\"][data-cssvars-group=\"'.concat(dataGroup, '\"]')) : null;\n                if (!srcNode) {\n                    outNode.parentNode.removeChild(outNode);\n                }\n            }));\n            if (cssVarsSrcNodeCount && srcNodes.length < cssVarsSrcNodeCount) {\n                cssVarsSrcNodeCount = srcNodes.length;\n                variableStore.dom = {};\n            }\n        }\n    }\n    if (document.readyState !== \"loading\") {\n        if (isNativeSupport && settings.onlyLegacy) {\n            var hasVarChange = false;\n            if (settings.updateDOM) {\n                var targetElm = settings.rootElement.host || (settings.rootElement === document ? document.documentElement : settings.rootElement);\n                Object.keys(settings.variables).forEach((function(key) {\n                    var varValue = settings.variables[key];\n                    hasVarChange = hasVarChange || varValue !== getComputedStyle(targetElm).getPropertyValue(key);\n                    targetElm.style.setProperty(key, varValue);\n                }));\n            }\n            handleFinally(hasVarChange);\n        } else if (!isShadowDOMReady && (settings.shadowDOM || settings.rootElement.shadowRoot || settings.rootElement.host)) {\n            getCssData({\n                rootElement: defaults.rootElement,\n                include: defaults.include,\n                exclude: settings.exclude,\n                skipDisabled: false,\n                onSuccess: function onSuccess(cssText, node, url) {\n                    var isUserDisabled = (node.sheet || {}).disabled && !node.__cssVars;\n                    if (isUserDisabled) {\n                        return false;\n                    }\n                    cssText = cssText.replace(regex.cssComments, \"\").replace(regex.cssMediaQueries, \"\");\n                    cssText = (cssText.match(regex.cssVarDeclRules) || []).join(\"\");\n                    return cssText || false;\n                },\n                onComplete: function onComplete(cssText, cssArray, nodeArray) {\n                    parseVars(cssText, {\n                        store: variableStore.dom,\n                        onWarning: handleWarning\n                    });\n                    isShadowDOMReady = true;\n                    cssVars(settings);\n                }\n            });\n        } else {\n            cssVarsIsRunning = settings.rootElement;\n            getCssData({\n                rootElement: settings.rootElement,\n                include: settings.include,\n                exclude: settings.exclude,\n                skipDisabled: false,\n                onBeforeSend: settings.onBeforeSend,\n                onError: function onError(xhr, node, url) {\n                    var responseUrl = xhr.responseURL || getFullUrl(url, location.href);\n                    var statusText = xhr.statusText ? \"(\".concat(xhr.statusText, \")\") : \"Unspecified Error\" + (xhr.status === 0 ? \" (possibly CORS related)\" : \"\");\n                    var errorMsg = \"CSS XHR Error: \".concat(responseUrl, \" \").concat(xhr.status, \" \").concat(statusText);\n                    handleError(errorMsg, node, xhr, responseUrl);\n                },\n                onSuccess: function onSuccess(cssText, node, url) {\n                    var isUserDisabled = (node.sheet || {}).disabled && !node.__cssVars;\n                    if (isUserDisabled) {\n                        return false;\n                    }\n                    var isLink = node.nodeName.toLowerCase() === \"link\";\n                    var isStyleImport = node.nodeName.toLowerCase() === \"style\" && cssText !== node.textContent;\n                    var returnVal = settings.onSuccess(cssText, node, url);\n                    cssText = returnVal !== undefined && Boolean(returnVal) === false ? \"\" : returnVal || cssText;\n                    if (settings.updateURLs && (isLink || isStyleImport)) {\n                        cssText = fixRelativeCssUrls(cssText, url);\n                    }\n                    return cssText;\n                },\n                onComplete: function onComplete(cssText, cssArray) {\n                    var nodeArray = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];\n                    var currentVars = _extends({}, variableStore.dom, variableStore.user);\n                    var hasVarChange = false;\n                    variableStore.job = {};\n                    nodeArray.forEach((function(node, i) {\n                        var nodeCSS = cssArray[i];\n                        node.__cssVars = node.__cssVars || {};\n                        node.__cssVars.text = nodeCSS;\n                        if (regex.cssVars.test(nodeCSS)) {\n                            try {\n                                var cssTree = parseCss(nodeCSS, {\n                                    preserveStatic: settings.preserveStatic,\n                                    removeComments: true\n                                });\n                                parseVars(cssTree, {\n                                    parseHost: Boolean(settings.rootElement.host),\n                                    store: variableStore.dom,\n                                    onWarning: handleWarning\n                                });\n                                node.__cssVars.tree = cssTree;\n                            } catch (err) {\n                                handleError(err.message, node);\n                            }\n                        }\n                    }));\n                    _extends(variableStore.job, variableStore.dom);\n                    if (settings.updateDOM) {\n                        _extends(variableStore.user, settings.variables);\n                        _extends(variableStore.job, variableStore.user);\n                    } else {\n                        _extends(variableStore.job, variableStore.user, settings.variables);\n                        _extends(currentVars, settings.variables);\n                    }\n                    hasVarChange = counters.job > 0 && Boolean(Object.keys(variableStore.job).length > Object.keys(currentVars).length || Boolean(Object.keys(currentVars).length && Object.keys(variableStore.job).some((function(key) {\n                        return variableStore.job[key] !== currentVars[key];\n                    }))));\n                    if (hasVarChange) {\n                        resetCssNodes(settings.rootElement);\n                        cssVars(settings);\n                    } else {\n                        var outCssArray = [];\n                        var outNodeArray = [];\n                        var hasKeyframesWithVars = false;\n                        if (settings.updateDOM) {\n                            counters.job++;\n                        }\n                        nodeArray.forEach((function(node, i) {\n                            var isSkip = !node.__cssVars.tree;\n                            if (node.__cssVars.tree) {\n                                try {\n                                    transformCss(node.__cssVars.tree, _extends({}, settings, {\n                                        variables: variableStore.job,\n                                        onWarning: handleWarning\n                                    }));\n                                    var outCss = stringifyCss(node.__cssVars.tree);\n                                    if (settings.updateDOM) {\n                                        var nodeCSS = cssArray[i];\n                                        var hasCSSVarFunc = regex.cssVarFunc.test(nodeCSS);\n                                        if (!node.getAttribute(\"data-cssvars\")) {\n                                            node.setAttribute(\"data-cssvars\", \"src\");\n                                        }\n                                        if (outCss.length && hasCSSVarFunc) {\n                                            var dataGroup = node.getAttribute(\"data-cssvars-group\") || ++counters.group;\n                                            var outCssNoSpaces = outCss.replace(/\\s/g, \"\");\n                                            var outNode = settings.rootElement.querySelector('[data-cssvars=\"out\"][data-cssvars-group=\"'.concat(dataGroup, '\"]')) || document.createElement(\"style\");\n                                            hasKeyframesWithVars = hasKeyframesWithVars || regex.cssKeyframes.test(outCss);\n                                            if (settings.preserveStatic) {\n                                                node.sheet && (node.sheet.disabled = true);\n                                            }\n                                            if (!outNode.hasAttribute(\"data-cssvars\")) {\n                                                outNode.setAttribute(\"data-cssvars\", \"out\");\n                                            }\n                                            if (outCssNoSpaces === node.textContent.replace(/\\s/g, \"\")) {\n                                                isSkip = true;\n                                                if (outNode && outNode.parentNode) {\n                                                    node.removeAttribute(\"data-cssvars-group\");\n                                                    outNode.parentNode.removeChild(outNode);\n                                                }\n                                            } else if (outCssNoSpaces !== outNode.textContent.replace(/\\s/g, \"\")) {\n                                                [ node, outNode ].forEach((function(n) {\n                                                    n.setAttribute(\"data-cssvars-job\", counters.job);\n                                                    n.setAttribute(\"data-cssvars-group\", dataGroup);\n                                                }));\n                                                outNode.textContent = outCss;\n                                                outCssArray.push(outCss);\n                                                outNodeArray.push(outNode);\n                                                if (!outNode.parentNode) {\n                                                    node.parentNode.insertBefore(outNode, node.nextSibling);\n                                                }\n                                            }\n                                        }\n                                    } else {\n                                        if (node.textContent.replace(/\\s/g, \"\") !== outCss) {\n                                            outCssArray.push(outCss);\n                                        }\n                                    }\n                                } catch (err) {\n                                    handleError(err.message, node);\n                                }\n                            }\n                            if (isSkip) {\n                                node.setAttribute(\"data-cssvars\", \"skip\");\n                            }\n                            if (!node.hasAttribute(\"data-cssvars-job\")) {\n                                node.setAttribute(\"data-cssvars-job\", counters.job);\n                            }\n                        }));\n                        cssVarsSrcNodeCount = settings.rootElement.querySelectorAll('[data-cssvars]:not([data-cssvars=\"out\"])').length;\n                        if (settings.shadowDOM) {\n                            var elms = [].concat(settings.rootElement).concat([].slice.call(settings.rootElement.querySelectorAll(\"*\")));\n                            for (var i = 0, elm; elm = elms[i]; ++i) {\n                                if (elm.shadowRoot && elm.shadowRoot.querySelector(\"style\")) {\n                                    var shadowSettings = _extends({}, settings, {\n                                        rootElement: elm.shadowRoot\n                                    });\n                                    cssVars(shadowSettings);\n                                }\n                            }\n                        }\n                        if (settings.updateDOM && hasKeyframesWithVars) {\n                            fixKeyframes(settings.rootElement);\n                        }\n                        cssVarsIsRunning = false;\n                        settings.onComplete(outCssArray.join(\"\"), outNodeArray, JSON.parse(JSON.stringify(variableStore.job)), getTimeStamp() - settings.__benchmark);\n                        handleFinally(outNodeArray.length);\n                    }\n                }\n            });\n        }\n    } else {\n        document.addEventListener(\"DOMContentLoaded\", (function init(evt) {\n            cssVars(options);\n            document.removeEventListener(\"DOMContentLoaded\", init);\n        }));\n    }\n}\n\ncssVars.reset = function() {\n    counters.job = 0;\n    counters.group = 0;\n    cssVarsIsRunning = false;\n    if (cssVarsObserver) {\n        cssVarsObserver.disconnect();\n        cssVarsObserver = null;\n    }\n    cssVarsSrcNodeCount = 0;\n    debounceTimer = null;\n    isShadowDOMReady = false;\n    for (var prop in variableStore) {\n        variableStore[prop] = {};\n    }\n};\n\nfunction addMutationObserver(settings) {\n    function isDisabled(node) {\n        var isDisabledAttr = isLink(node) && node.hasAttribute(\"disabled\");\n        var isDisabledSheet = (node.sheet || {}).disabled;\n        return isDisabledAttr || isDisabledSheet;\n    }\n    function isLink(node) {\n        var isStylesheet = node.nodeName.toLowerCase() === \"link\" && (node.getAttribute(\"rel\") || \"\").indexOf(\"stylesheet\") !== -1;\n        return isStylesheet;\n    }\n    function isStyle(node) {\n        return node.nodeName.toLowerCase() === \"style\";\n    }\n    function isValidAttributeMutation(mutation) {\n        var isValid = false;\n        if (mutation.type === \"attributes\" && isLink(mutation.target) && !isDisabled(mutation.target)) {\n            var isEnabledMutation = mutation.attributeName === \"disabled\";\n            var isHrefMutation = mutation.attributeName === \"href\";\n            var isSkipNode = mutation.target.getAttribute(\"data-cssvars\") === \"skip\";\n            var isSrcNode = mutation.target.getAttribute(\"data-cssvars\") === \"src\";\n            if (isEnabledMutation) {\n                isValid = !isSkipNode && !isSrcNode;\n            } else if (isHrefMutation) {\n                if (isSkipNode) {\n                    mutation.target.setAttribute(\"data-cssvars\", \"\");\n                } else if (isSrcNode) {\n                    resetCssNodes(settings.rootElement, true);\n                }\n                isValid = true;\n            }\n        }\n        return isValid;\n    }\n    function isValidStyleTextMutation(mutation) {\n        var isValid = false;\n        if (mutation.type === \"childList\") {\n            var isStyleElm = isStyle(mutation.target);\n            var isOutNode = mutation.target.getAttribute(\"data-cssvars\") === \"out\";\n            isValid = isStyleElm && !isOutNode;\n        }\n        return isValid;\n    }\n    function isValidAddMutation(mutation) {\n        var isValid = false;\n        if (mutation.type === \"childList\") {\n            isValid = [].slice.call(mutation.addedNodes).some((function(node) {\n                var isElm = node.nodeType === 1;\n                var hasAttr = isElm && node.hasAttribute(\"data-cssvars\");\n                var isStyleWithVars = isStyle(node) && regex.cssVars.test(node.textContent);\n                var isValid = !hasAttr && (isLink(node) || isStyleWithVars);\n                return isValid && !isDisabled(node);\n            }));\n        }\n        return isValid;\n    }\n    function isValidRemoveMutation(mutation) {\n        var isValid = false;\n        if (mutation.type === \"childList\") {\n            isValid = [].slice.call(mutation.removedNodes).some((function(node) {\n                var isElm = node.nodeType === 1;\n                var isOutNode = isElm && node.getAttribute(\"data-cssvars\") === \"out\";\n                var isSrcNode = isElm && node.getAttribute(\"data-cssvars\") === \"src\";\n                var isValid = isSrcNode;\n                if (isSrcNode || isOutNode) {\n                    var dataGroup = node.getAttribute(\"data-cssvars-group\");\n                    var orphanNode = settings.rootElement.querySelector('[data-cssvars-group=\"'.concat(dataGroup, '\"]'));\n                    if (isSrcNode) {\n                        resetCssNodes(settings.rootElement, true);\n                    }\n                    if (orphanNode) {\n                        orphanNode.parentNode.removeChild(orphanNode);\n                    }\n                }\n                return isValid;\n            }));\n        }\n        return isValid;\n    }\n    if (!window.MutationObserver) {\n        return;\n    }\n    if (cssVarsObserver) {\n        cssVarsObserver.disconnect();\n        cssVarsObserver = null;\n    }\n    cssVarsObserver = new MutationObserver((function(mutations) {\n        var hasValidMutation = mutations.some((function(mutation) {\n            return isValidAttributeMutation(mutation) || isValidStyleTextMutation(mutation) || isValidAddMutation(mutation) || isValidRemoveMutation(mutation);\n        }));\n        if (hasValidMutation) {\n            cssVars(settings);\n        }\n    }));\n    cssVarsObserver.observe(document.documentElement, {\n        attributes: true,\n        attributeFilter: [ \"disabled\", \"href\" ],\n        childList: true,\n        subtree: true\n    });\n}\n\nfunction cssVarsDebounced(settings) {\n    var delay = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 100;\n    clearTimeout(debounceTimer);\n    debounceTimer = setTimeout((function() {\n        settings.__benchmark = null;\n        cssVars(settings);\n    }), delay);\n}\n\nfunction fixKeyframes(rootElement) {\n    var animationNameProp = [ \"animation-name\", \"-moz-animation-name\", \"-webkit-animation-name\" ].filter((function(prop) {\n        return getComputedStyle(document.body)[prop];\n    }))[0];\n    if (animationNameProp) {\n        var allNodes = rootElement.getElementsByTagName(\"*\");\n        var keyframeNodes = [];\n        var nameMarker = \"__CSSVARSPONYFILL-KEYFRAMES__\";\n        for (var i = 0, len = allNodes.length; i < len; i++) {\n            var node = allNodes[i];\n            var animationName = getComputedStyle(node)[animationNameProp];\n            if (animationName !== \"none\") {\n                node.style[animationNameProp] += nameMarker;\n                keyframeNodes.push(node);\n            }\n        }\n        void document.body.offsetHeight;\n        for (var _i = 0, _len = keyframeNodes.length; _i < _len; _i++) {\n            var nodeStyle = keyframeNodes[_i].style;\n            nodeStyle[animationNameProp] = nodeStyle[animationNameProp].replace(nameMarker, \"\");\n        }\n    }\n}\n\nfunction fixRelativeCssUrls(cssText, baseUrl) {\n    var cssUrls = cssText.replace(regex.cssComments, \"\").match(regex.cssUrls) || [];\n    cssUrls.forEach((function(cssUrl) {\n        var oldUrl = cssUrl.replace(regex.cssUrls, \"$1\");\n        var newUrl = getFullUrl(oldUrl, baseUrl);\n        cssText = cssText.replace(cssUrl, cssUrl.replace(oldUrl, newUrl));\n    }));\n    return cssText;\n}\n\nfunction fixVarNames() {\n    var varObj = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var reLeadingHyphens = /^-{2}/;\n    return Object.keys(varObj).reduce((function(obj, value) {\n        var key = reLeadingHyphens.test(value) ? value : \"--\".concat(value.replace(/^-+/, \"\"));\n        obj[key] = varObj[value];\n        return obj;\n    }), {});\n}\n\nfunction getFullUrl(url) {\n    var base = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : location.href;\n    var d = document.implementation.createHTMLDocument(\"\");\n    var b = d.createElement(\"base\");\n    var a = d.createElement(\"a\");\n    d.head.appendChild(b);\n    d.body.appendChild(a);\n    b.href = base;\n    a.href = url;\n    return a.href;\n}\n\nfunction getTimeStamp() {\n    return isBrowser && (window.performance || {}).now ? window.performance.now() : (new Date).getTime();\n}\n\nfunction resetCssNodes(rootElement) {\n    var resetDOMVariableStore = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n    var resetNodes = [].slice.call(rootElement.querySelectorAll('[data-cssvars=\"skip\"],[data-cssvars=\"src\"]'));\n    resetNodes.forEach((function(node) {\n        return node.setAttribute(\"data-cssvars\", \"\");\n    }));\n    if (resetDOMVariableStore) {\n        variableStore.dom = {};\n    }\n}\n\nexport default cssVars;\n//# sourceMappingURL=css-vars-ponyfill.esm.js.map\n","export const presets = {\n  light: {\n    colors: {\n      text: '#282230',\n      background: {\n        _: '#f1f1f1',\n        contrast: '#b1b1b1',\n      },\n      primary: '#01796f',\n      primary_dark: '#016159',\n      secondary: '#562931',\n    },\n  },\n  dark: {\n    colors: {\n      text: '#f1f1f1',\n      background: {\n        _: '#27323a',\n        contrast: '#0d1215',\n      },\n      primary: '#01978b',\n      primary_dark: '#00887c',\n      secondary: '#fe8690',\n    },\n  },\n  forest: {\n    colors: {\n      text: '#f9f2cf',\n      background: {\n        _: '#3b6c4c',\n        contrast: '#1d492c',\n      },\n      primary: '#efdc7e',\n      primary_dark: '#e4d589',\n      secondary: '#4a875f',\n    },\n  },\n  // {\n  //   name: 'forest',\n  //   light: {\n  //     textColor: '#f9f2cf',\n  //     backgroundColor: '#3b6c4c',\n  //     button: {\n  //       primary: {\n  //         backgroundColor: 'var(--theme-colors-primary)',\n  //         color: 'var(--theme-text-color)',\n  //       },\n  //     },\n  //     colors: {\n  //       primary: '#51a56e',\n  //       secondary: '#4a875f',\n  //     },\n  //   },\n  //   dark: {\n  //     textColor: '#beb9a0',\n  //     backgroundColor: '#1d492c',\n  //     colors: {\n  //       primary: '#316643',\n  //     },\n  //   },\n  // },\n}\n","import { writable } from 'svelte/store'\n\nexport const currentMode = writable()\nexport const currentThemeName = writable()\nexport const currentThemeObject = writable()\nexport const themes = writable()\n","import { get } from 'svelte/store'\nimport { currentThemeName, themes as themesStore } from './store'\n\nexport default function toggle() {\n  let themes = get(themesStore)\n  currentThemeName.update(current => {\n    let keys = Object.keys(themes)\n    return keys.reduce((newCurrent, theme, index, source) => {\n      if (theme === current) {\n        if (source[index + 1]) return source[index + 1]\n        else return source[0]\n      }\n      return newCurrent\n    }, '')\n  })\n}\n","/**\n * Recursively process configuration object from nested to kebab-case\n * @name processConfig\n * @param {Object} obj\n *\n */\nexport default function processConfig(obj) {\n  const result = {}\n\n  const recurse = (obj, current) => {\n    for (let prop in obj) {\n      const value = obj[prop]\n      const key = (current ? `${current}-${prop}` : prop)\n        .replace(/-_$/g, '')\n        // .replace(/([a-z0-9])([A-Z])/g, '$1-$2')\n        .replace(/([A-Z])([A-Z])(?=[a-z])/g, '$1-$2')\n        .toLowerCase()\n\n      if (value && typeof value === 'object') {\n        recurse(value, key)\n      } else {\n        result[key] = value\n      }\n    }\n  }\n\n  recurse(obj)\n\n  return result\n}\n","<script context=\"module\">\n  export const STORAGE_KEY = '__svelte-themer__theme'\n  export const CONTEXT_KEY = 'theme'\n  export const VARIABLE_PREFIX = 'theme'\n  export const VALID_MODES = ['auto', 'light', 'dark']\n\n  export const INVALID_THEMES_MESSAGE = 'Invalid themes object supplied'\n  export const INVALID_PREFIX_MESSAGE = 'Invalid prefix string supplied'\n  export const INVALID_MODE_MESSAGE = `Invalid mode string supplied, must be one of: ${VALID_MODES.join(\n    ', '\n  )}`\n</script>\n\n<script>\n  import { onMount, afterUpdate, setContext } from 'svelte'\n  import { presets } from './presets'\n  import toggle from '../support/toggle'\n  import { createCSS } from '../support/css'\n  import {\n    currentThemeName,\n    currentThemeObject,\n    currentMode,\n    themes as themesStore,\n  } from '../support/store'\n  import isObject from '../support/isObject'\n\n  /**\n   * Specify the key used for local storage\n   * @type {string} [key='__svelte-themer__theme']\n   */\n  export let key = STORAGE_KEY\n  /**\n   * Themes collection\n   * @type {Object} themes - theme object\n   */\n  export let themes = presets\n  /**\n   * Sets the specified theme as active\n   * @type {string | null} [theme='dark']\n   */\n  export let theme = null\n  /**\n   * Specify custom CSS variable prefix\n   * @type {string | null} [prefix='theme']\n   */\n  export let prefix = VARIABLE_PREFIX\n  /**\n   * Specify preferred theme mode\n   * @type {\"auto\" | \"dark\" | \"light\"} [mode='auto']\n   */\n  export let mode = 'auto'\n  /**\n   * Site default CSS variables\n   * @type {Object} [base={}]\n   */\n  export let base = {}\n\n  if (!isObject(themes) || !Object.keys(themes).length)\n    throw new Error(INVALID_THEMES_MESSAGE)\n  if (typeof prefix === 'string' && !prefix.trim().length)\n    throw new Error(INVALID_PREFIX_MESSAGE)\n  if (!VALID_MODES.includes(mode)) throw new Error(INVALID_MODE_MESSAGE)\n\n  themesStore.set(themes)\n  const [fallback] = Object.keys(themes)\n  $: if (!Object.keys(themes).includes($currentThemeName))\n    currentThemeName.set(fallback)\n  $: currentThemeObject.set(themes[$currentThemeName])\n\n  // create CSS\n  const style = createCSS(prefix, base, themes)\n\n  setContext(CONTEXT_KEY, {\n    current: currentThemeName,\n    toggle,\n    theme: currentThemeName,\n  })\n\n  onMount(() => {\n    // detect dark mode\n    const darkSchemeQuery = matchMedia('(prefers-color-scheme: dark)')\n    // determine the users preferred mode\n    const preferredMode = darkSchemeQuery.matches ? 'dark' : 'light'\n    // listen for media query status change\n    darkSchemeQuery.addEventListener(\n      'change',\n      ({ matches }) =>\n        mode === 'auto' && currentMode.set(matches ? 'dark' : 'light')\n    )\n\n    // loading order: saved, prefers, fallback\n    const saved = key ? localStorage && localStorage.getItem(key) : null\n\n    if (theme && themes[theme]) {\n      currentThemeName.set(theme)\n    } else if (saved && themes[saved]) {\n      currentThemeName.set(saved)\n    } else {\n      if (mode === 'auto' && preferredMode) {\n        currentThemeName.set(preferredMode)\n      } else if (['light', 'dark'].includes(mode) && themes[mode]) {\n        currentThemeName.set(mode)\n      } else {\n        currentThemeName.set(fallback)\n      }\n    }\n\n    return () =>\n      key && localStorage && localStorage.setItem(key, $currentThemeName)\n  })\n\n  afterUpdate(() => {\n    if (document)\n      document.documentElement.setAttribute('theme', $currentThemeName)\n    if (key && localStorage) localStorage.setItem(key, $currentThemeName)\n  })\n</script>\n\n<svelte:head>\n  {@html style}\n</svelte:head>\n\n<slot>\n  <!-- children -->\n</slot>\n","export default function isObject(obj) {\n  return Object.prototype.toString.call(obj) === '[object Object]'\n}\n","import { get } from 'svelte/store'\nimport processConfig from './processConfig'\nimport { themes as themesStore } from './store'\n\n/**\n * CSS Variable Name\n * @typedef {string} VariableName\n */\n\n/**\n * Create CSS template\n * @name setCSS\n * @param {string} prefix - CSS variable prefix\n * @param {Object[]} themes - themes array\n * @returns {string} CSS template\n */\nexport function createCSS(prefix, base = {}) {\n  const variablePrefix = prefix ? `--${prefix}` : '-'\n\n  /**\n   * Helper to create CSS Variable name string\n   * @param {string} prop property name\n   * @param {string} [key] optional prop prefix\n   * @returns {VariableName}\n   */\n  function createCSSVariableName(prop, key) {\n    if (key) return `${variablePrefix}-${key}-${prop}`\n    else return `${variablePrefix}-${prop}`\n  }\n\n  /**\n   * Helper to merge variable name and value to create statement\n   * @param {VariableName} variableName CSS Variable name\n   * @param {string} value CSS Variable Value\n   */\n  function createCSSVariableStatement(variableName, value) {\n    return `${variableName}: ${value};`\n  }\n\n  /**\n   * Helper to create variable overrides for themed use\n   * @param {VariableName} variableName CSS Variable name\n   * @param {string} prop theme property\n   * @param {string} key theme key\n   * @returns {string}\n   */\n  function createCSSVariableOverride(variableName, prop, key) {\n    return `${variablePrefix}-${prop}: var(${variablePrefix}-${key}-${prop});`\n  }\n\n  const themes = get(themesStore)\n\n  // process and add base config to root content\n  const processedBaseConfig = processConfig(base)\n\n  const baseCSSVariables = Object.entries(processedBaseConfig).map(\n    ([prop, value]) => [createCSSVariableName(prop), value]\n  )\n  const rootCSSVariables = [].concat(baseCSSVariables)\n  const themeCSSContent = []\n\n  for (let [themeName, themeValues] of Object.entries(themes)) {\n    const processed = processConfig(themeValues)\n\n    const overrides = []\n    for (let [prop, value] of Object.entries(processed)) {\n      // create and add initial variables\n      const initialVariableName = createCSSVariableName(prop)\n      // do not add initial variable if provided by base\n      if (\n        !rootCSSVariables.some(\n          ([variableName]) => variableName === initialVariableName\n        )\n      ) {\n        rootCSSVariables.push([initialVariableName, value])\n      }\n      // add theme vars to root theme array\n      rootCSSVariables.push([createCSSVariableName(prop, themeName), value])\n      // add theme-specific overrides of initial variables\n      overrides.push(\n        createCSSVariableOverride(createCSSVariableName(prop), prop, themeName)\n      )\n    }\n\n    const themeCSSClassName = prefix ? `${prefix}--${themeName}` : themeName\n    themeCSSContent.push(`\n      [theme='${themeName}'],\n      .${themeCSSClassName} {\n        ${overrides.join('\\n\\t')}\n      }\n    `)\n  }\n  // add to root\n\n  const template = `\n    <style>\n      :root {\n        ${rootCSSVariables\n          .map(vars => createCSSVariableStatement(...vars))\n          .join('\\n\\t')}\n      }\n\n      ${themeCSSContent.join('')}\n    </style>\n  `\n\n  return template.trim()\n}\n","<script lang=\"ts\">\n    import {\n        Toolbar,\n        ClipPanel,\n        NodePanel,\n        TimelinePanel,\n        GraphPanel,\n        TrackPanel,\n    } from './components';\n    import { ThemeWrapper, ThemeToggle } from 'svelte-themer';\n    import { themes } from './themes';\n    import view from './stores/view';\n    import { onkeydown, onkeyup, onkeypress } from './actions/key-listener';\n\n    window.onkeydown = onkeydown;\n    window.onkeyup = onkeyup;\n    window.onkeypress = onkeypress;\n\n    let scrollY: number = 0;\n\n    // ask if user really wants to reload the page\n    window.onbeforeunload = (e: BeforeUnloadEvent) => {\n        e.preventDefault();\n        e.returnValue = '';\n    };\n</script>\n\n<ThemeWrapper {themes}>\n    <main>\n        <Toolbar />\n        <div class=\"content-container\">\n            {#if $view}\n                <ClipPanel />\n            {/if}\n            {#if !$view}\n                <NodePanel />\n            {/if}\n            <div\n                class=\"main-content\"\n                on:scroll={(e) => (scrollY = e.currentTarget.scrollTop)}\n            >\n                <TrackPanel />\n                {#if $view}\n                    <TimelinePanel {scrollY} />\n                {:else}\n                    <GraphPanel />\n                {/if}\n            </div>\n        </div>\n    </main>\n    <div id=\"mobile-easteregg\">\n        <h1>Nema Studio</h1>\n        <p>Currently only available on desktop</p>\n    </div>\n</ThemeWrapper>\n\n<style lang=\"scss\">\n    @media (max-width: 640px) {\n        main {\n            display: none;\n        }\n        div {\n            text-align: center;\n            padding: 1em;\n            max-width: 240px;\n            margin: 0 auto;\n        }\n        h1 {\n            color: var(--theme-colors-primary);\n            text-transform: uppercase;\n            font-size: 4em;\n            font-weight: 100;\n        }\n    }\n\n    @media (min-width: 641px) {\n        #mobile-easteregg {\n            display: none;\n        }\n\n        :global(body) {\n            padding: 0;\n            overflow: hidden;\n            background-color: var(--theme-colors-background-primary);\n            scrollbar-color: var(--theme-colors-background-primary);\n        }\n        .content-container {\n            display: flex;\n            flex-direction: row;\n            flex: 1;\n        }\n\n        main {\n            height: 100%;\n            display: flex;\n            flex-direction: column;\n        }\n\n        ::-webkit-scrollbar {\n            width: 6px;\n            border-radius: 16px;\n            background: var(--theme-colors-background-contrast);\n        }\n\n        .main-content {\n            overflow-x: hidden;\n            display: flex;\n            flex-direction: row;\n            box-shadow: inset 2px 2px 2px rgba(0, 0, 0, 0.05);\n            height: calc(100vh - 130px);\n            overflow-y: scroll;\n            flex-grow: 1;\n        }\n    }\n</style>\n","import App from './App.svelte';\nconst app = new App({\n    target: document.body,\n    props: {},\n});\nexport default app;\n"],"names":["noop","run","fn","blank_object","Object","create","run_all","fns","forEach","is_function","thing","safe_not_equal","a","b","src_url_equal_anchor","src_url_equal","element_src","url","document","createElement","href","subscribe","store","callbacks","unsub","unsubscribe","get_store_value","value","_","component_subscribe","component","callback","$$","on_destroy","push","get_slot_context","definition","ctx","$$scope","tar","src","k","assign","slice","null_to_empty","set_store_value","ret","set","action_destroyer","action_result","destroy","is_client","window","now","performance","Date","raf","cb","requestAnimationFrame","tasks","Set","run_tasks","task","c","delete","f","size","append","target","node","appendChild","insert","anchor","insertBefore","detach","parentNode","removeChild","destroy_each","iterations","detaching","i","length","d","element","name","svg_element","createElementNS","text","data","createTextNode","space","empty","listen","event","handler","options","addEventListener","removeEventListener","prevent_default","preventDefault","call","this","stop_propagation","stopPropagation","attr","attribute","removeAttribute","getAttribute","setAttribute","to_number","set_data","wholeText","set_input_value","input","set_style","key","important","style","setProperty","crossorigin","current_component","is_crossorigin","undefined","parent","error","toggle_class","toggle","classList","HtmlTag","constructor","e","n","html","h","m","nodeName","t","innerHTML","Array","from","childNodes","p","set_current_component","get_current_component","Error","onMount","on_mount","createEventDispatcher","type","detail","bubbles","createEvent","initCustomEvent","custom_event","bubble","dirty_components","binding_callbacks","render_callbacks","flush_callbacks","resolved_promise","Promise","resolve","update_scheduled","add_render_callback","add_flush_callback","flushing","seen_callbacks","flush","update","pop","has","add","clear","fragment","before_update","dirty","after_update","outroing","outros","group_outros","r","check_outros","transition_in","block","local","transition_out","o","globals","globalThis","global","outro_and_destroy_block","lookup","update_keyed_each","old_blocks","get_key","dynamic","list","create_each_block","next","get_context","old_indexes","new_blocks","new_lookup","Map","deltas","child_ctx","get","Math","abs","will_move","did_move","first","new_block","old_block","new_key","old_key","bind","index","props","bound","create_component","mount_component","customElement","new_on_destroy","map","filter","destroy_component","make_dirty","then","fill","init","instance","create_fragment","not_equal","append_styles","parent_component","on_disconnect","context","skip_bound","root","ready","rest","hydrate","nodes","children","l","intro","SvelteComponent","$destroy","$on","indexOf","splice","$set","$$props","obj","$$set","keys","dropZone","ondragover","dataTransfer","getData","object","JSON","parse","clientX","clientY","dragSource","draggable","setData","stringify","clipname","dragSourceOptions","sprite","height","width","files","subscriber_queue","writable","start","stop","subscribers","new_value","run_queue","subscriber","invalidate","derived","stores","initial_value","single","isArray","stores_array","auto","inited","values","pending","cleanup","sync","result","unsubscribers","lAudioContext","AudioContext","webkitAudioContext","wasm","heap","getObject","idx","heap_next","takeObject","dropObject","cachedTextDecoder","TextDecoder","ignoreBOM","fatal","decode","cachegetUint8Memory0","getUint8Memory0","buffer","memory","Uint8Array","getStringFromWasm0","ptr","len","subarray","addHeapObject","WASM_VECTOR_LEN","cachedTextEncoder","TextEncoder","encodeString","encodeInto","arg","view","buf","encode","read","written","passStringToWasm0","malloc","realloc","mem","offset","code","charCodeAt","isLikeNone","x","cachegetInt32Memory0","getInt32Memory0","Int32Array","debugString","val","description","debug","builtInMatches","exec","toString","className","message","stack","__wbg_adapter_20","arg0","arg1","arg2","_dyn_core__ops__function__FnMut__A____Output___R_as_wasm_bindgen__closure__WasmClosure___describe__invoke__h2105f326b72972f7","u32CvtShim","Uint32Array","int64CvtShim","BigInt64Array","uint64CvtShim","BigUint64Array","_assertClass","klass","cachegetFloat64Memory0","getFloat64Memory0","Float64Array","handleError","args","apply","__wbindgen_exn_store","cachegetFloat32Memory0","getArrayF32FromWasm0","Float32Array","KnobKind","freeze","Absolute","Relative","KnobMode","Linear","Exponential","Logarithmic","BufferId","static","prototype","__destroy_into_raw","free","__wbg_bufferid_free","ClipId","__wbg_clipid_free","Link","__wbg_link_free","track","__wbg_get_link_track","TrackId","__wrap","ptr0","__wbg_set_link_track","__wbg_get_link_node","NodeId","__wbg_set_link_node","output_index","__wbg_get_link_output_index","__wbg_set_link_output_index","get_track","link_get_track","get_node","link_get_node","get_output_index","ModuleId","__wbg_moduleid_free","ModuleInstanceId","__wbg_moduleinstanceid_free","__wbg_nodeid_free","Project","__wbg_project_free","__wbindgen_malloc","__wbindgen_realloc","len0","project_new","retptr","__wbindgen_add_to_stack_pointer","project_name","r0","r1","__wbindgen_free","tempo","project_tempo","volume","project_volume","set_tempo","project_set_tempo","set_volume","project_set_volume","quartz","project_quartz","quartz_to_secs","pos","low0","high0","project_quartz_to_secs","secs_to_quartz","secs","project_secs_to_quartz","set_name","project_set_name","current_pos","project_current_pos","set_cursor_pos","project_set_cursor_pos","set_cursor_pos_secs","project_set_cursor_pos_secs","is_track_index_in_timeline","project_is_track_index_in_timeline","get_track_by_index","project_get_track_by_index","remove_track_by_index","project_remove_track_by_index","remove_track_by_id","track_id","project_remove_track_by_id","get_track_count","project_get_track_count","create_buffer","passArray8ToWasm0","project_create_buffer","delete_buffer","buffer_id","project_delete_buffer","get_buffer_duration","project_get_buffer_duration","is_buffer_alive","project_is_buffer_alive","copy_clip","position","unique_clip_id","low1","high1","UniqueClipId","ptr2","project_copy_clip","is_clip_alive","clip_id","project_is_clip_alive","set_clip_buffer","project_set_clip_buffer","set_clip_name","project_set_clip_name","set_clip_position","project_set_clip_position","set_clip_duration","duration","project_set_clip_duration","get_clip_position","project_get_clip_position","r2","get_clip_duration","project_get_clip_duration","get_clip_buffer","project_get_clip_buffer","get_clip_name","project_get_clip_name","v0","delete_clip","project_delete_clip","get_clip_ids_count","project_get_clip_ids_count","get_clip_id","project_get_clip_id","get_clip_unique_clip_id_index","project_get_clip_unique_clip_id_index","is_module_factory_alive","module_factory_id","project_is_module_factory_alive","create_module_instance","module_id","project_create_module_instance","get_module_factory_name","project_get_module_factory_name","get_module_factory_id_count","project_get_module_factory_id_count","get_module_factory_id","project_get_module_factory_id","play","project_play","project_stop","create_unique_clip","project_create_unique_clip","is_unique_clip_alive","project_is_unique_clip_alive","set_unique_clip_buffer","project_set_unique_clip_buffer","set_unique_clip_name","project_set_unique_clip_name","set_unique_clip_duration","project_set_unique_clip_duration","get_unique_clip_duration","project_get_unique_clip_duration","get_unique_clip_buffer","project_get_unique_clip_buffer","get_unique_clip_name","project_get_unique_clip_name","delete_unique_clip","project_delete_unique_clip","get_unique_clip_ids_count","project_get_unique_clip_ids_count","get_unique_clip_id","project_get_unique_clip_id","node_id_to_number","id","project_node_id_to_number","number_to_node_id","project_number_to_node_id","node_id_equals","id1","id2","project_node_id_equals","track_id_to_number","number_to_track_id","track_id_equals","create_node","module_instance_id","y","project_create_node","delete_node","node_id","project_delete_node","set_node_position_by_id","project_set_node_position_by_id","is_node_valid","project_is_node_valid","get_node_ids_count","project_get_node_ids_count","get_node_id","project_get_node_id","get_node_name","project_get_node_name","get_node_module_instance_id","project_get_node_module_instance_id","set_node_position","project_set_node_position","get_node_x","project_get_node_x","get_node_y","project_get_node_y","link_nodes","first_node_id","second_node_id","first_node_index","second_node_index","project_link_nodes","link_node_to_track","project_link_node_to_track","unlink_node","project_unlink_node","input_count","project_input_count","output_count","project_output_count","get_param_id","project_get_param_id","get_link","input_index","project_get_link","get_link_from_param_id","param_id","project_get_link_from_param_id","create_track","project_create_track","delete_track","project_delete_track","get_track_clip_count","project_get_track_clip_count","get_track_name","project_get_track_name","get_track_clip","project_get_track_clip","is_track_alive","project_is_track_alive","set_track_name","project_set_track_name","remove_clip","project_remove_clip","remove_clip_by_index","project_remove_clip_by_index","add_clip_to_track","project_add_clip_to_track","track_id_from_input","project_track_id_from_input","get_track_gain","project_get_track_gain","get_track_pan","project_get_track_pan","set_track_gain","gain","project_set_track_gain","set_track_enabled","enabled","project_set_track_enabled","set_track_pan","pan","project_set_track_pan","is_track_enabled","project_is_track_enabled","get_module_of","project_get_module_of","delete_module","project_delete_module","get_module_instance_control_count","project_get_module_instance_control_count","get_module_instance_control_type","control_index","project_get_module_instance_control_type","get_module_instance_control_input_label","project_get_module_instance_control_input_label","get_module_instance_control_output_label","project_get_module_instance_control_output_label","get_module_instance_control_param_label","param_index","project_get_module_instance_control_param_label","get_module_instance_control_param_default_value","project_get_module_instance_control_param_default_value","get_module_instance_control_param_min_value","project_get_module_instance_control_param_min_value","get_module_instance_control_param_max_value","project_get_module_instance_control_param_max_value","get_module_instance_control_param_value","project_get_module_instance_control_param_value","set_module_instance_control_param_value","project_set_module_instance_control_param_value","__wbg_trackid_free","__wbg_uniqueclipid_free","Vec2","__wbg_vec2_free","__wbg_get_vec2_x","__wbg_set_vec2_x","__wbg_get_vec2_y","__wbg_set_vec2_y","vec2_new","async","URL","imports","wbg","__wbindgen_object_drop_ref","__wbindgen_string_new","__wbindgen_object_clone_ref","__wbg_bufferid_new","__wbindgen_cb_drop","original","cnt","__wbindgen_number_new","__wbindgen_string_get","__wbg_frequency_c790829b1330266e","frequency","__wbg_detune_0c98198e067c9898","detune","__wbg_Q_241cc46dcc77b167","Q","__wbg_gain_74d947d9f01c5ccb","__wbg_value_51f8c3c3dc0f903a","__wbg_setvalue_df8236adf40ea2d3","__wbg_defaultValue_489944cf72078ada","defaultValue","__wbg_threshold_773394fed450776b","threshold","__wbg_knee_62b5c28da556ba51","knee","__wbg_ratio_a643cb0eb7ff69f4","ratio","__wbg_attack_f1c47c074c6479ad","attack","__wbg_release_66aaf443d2ecd4fe","release","__wbg_pan_060c77bc11ed83a4","__wbg_delayTime_9ac5b7dc014ec35d","delayTime","__wbg_gain_d4eaca6128dcfd90","__wbg_instanceof_AudioBuffer_75ae7a42c391f759","AudioBuffer","__wbg_duration_b1826cd5d3410ee3","__wbg_new_3d276f1b0c6c5e21","arguments","__wbg_copyToChannel_b4918009bf25ac35","arg3","copyToChannel","__wbg_setbuffer_fd285c7b7a06678a","__wbg_frequency_8c3d017b1ec56a31","__wbg_detune_d8da7bdbf3f81230","__wbg_log_3445347661d4505e","console","log","__wbg_destination_6c3ac66ee8b2fe85","destination","__wbg_sampleRate_ffa6f08191b00934","sampleRate","__wbg_currentTime_e231c76a3c011126","currentTime","__wbg_new_52bbbd81ffc19dff","__wbg_createBiquadFilter_c3c52028a2109b9d","createBiquadFilter","__wbg_createBufferSource_7244d810d62a0bed","createBufferSource","__wbg_createChannelMerger_542d0885aa4bdc09","createChannelMerger","__wbg_createChannelSplitter_95302cbc3f9b9f85","createChannelSplitter","__wbg_createConstantSource_b41469da72be11da","createConstantSource","__wbg_createConvolver_c452427019e40ddc","createConvolver","__wbg_createDelay_d178a6d343f579c3","createDelay","__wbg_createDynamicsCompressor_ac679007d232220a","createDynamicsCompressor","__wbg_createGain_c5f114390c363029","createGain","__wbg_createOscillator_976d3c8e16e078b0","createOscillator","__wbg_createStereoPanner_6b0ead6c67bbd51c","createStereoPanner","__wbg_decodeAudioData_e04afd162e340c7d","decodeAudioData","__wbg_instanceof_AudioNode_ed5150583da4af19","AudioNode","__wbg_numberOfInputs_1f4e15cb1c81e60f","numberOfInputs","__wbg_numberOfOutputs_93000d7c5d3817c8","numberOfOutputs","__wbg_connect_eb8fcb61cab88f0b","connect","__wbg_connect_ba14c50174f91c1f","__wbg_disconnect_a7d53f0c0236762f","disconnect","__wbg_disconnect_4ebe1430792b62cd","__wbg_setbuffer_c643a88bac27b2bd","__wbg_start_2fc7c700ae119a8f","__wbg_stop_ceac30cd41a20744","__wbg_offset_d3bf86d8c20965b0","__wbg_new_0b83d3df67ecb33e","__wbg_instanceof_Error_561efcb1265706d8","__wbg_message_9f7d15ff97fc4102","__wbg_call_346669c262382ad7","__wbg_new_b1d61b5687f5e73a","state0","wasm_bindgen__convert__closures__invoke2_mut__h0567eb209159ce2b","__wbg_adapter_259","__wbg_resolve_d23068002f584f22","__wbg_then_2fcac196782070cc","__wbg_then_8c2d62e8ae5978f7","__wbg_buffer_397eaa4d72ee94dd","__wbg_newwithbyteoffsetandlength_4b9b8c4e3f5adbff","__wbg_new_a7ce447f15ff496f","__wbg_buffer_facf0398a281c85b","__wbg_set_82a4e8a85e31ac42","Reflect","__wbindgen_debug_string","__wbindgen_throw","__wbindgen_memory","__wbindgen_closure_wrapper1181","dtor","state","real","__wbindgen_export_2","makeMutClosure","Request","fetch","module","Response","WebAssembly","instantiateStreaming","headers","warn","bytes","arrayBuffer","instantiate","Instance","load","exports","__wbindgen_wasm_module","__wbg_audiobuffersourcefactory_free","__wbg_audiobufferwrapper_free","__wbg_audiomodule_free","__wbg_get_audiomodule_id","__wbg_set_audiomodule_id","__wbg_get_audiomodule_x","__wbg_set_audiomodule_x","__wbg_get_audiomodule_y","__wbg_set_audiomodule_y","__wbg_biquadfilterfactory_free","__wbg_channelmergerfactory_free","__wbg_channelsplitterfactory_free","__wbg_constantsourcefactory_free","__wbg_convolverfactory_free","__wbg_delayfactory_free","__wbg_destinationfactory_free","__wbg_dynamicscompressorfactory_free","__wbg_gainfactory_free","__wbg_mixerfactory_free","__wbg_oscillatorfactory_free","__wbg_reverbfactory_free","__wbg_stereopannerfactory_free","project","project_data","$project","tracks","module_names","clips","unique_clips","nodeid_to_number","trackid_to_number","get_track_clips","clips_count","clip","clip_index","from_unique_clip_index","Number","is_enabled","numeral_track_id","get_clip","get_unique_clip","tracks_count","get_tracks","get_clips","unique_clips_count","get_unique_clips","modules_count","modules","get_module_factory_names","nodes_count","node_name","node_position_x","node_position_y","inputs","outputs","params","links","control_count","j","control_type","input_id","input_label","label","output_id","output_label","param_label","param_default_value","param_min_value","param_max_value","param_value","max","min","default","outputNodeId","outputNumeralNodeId","inputPortIndex","outputPortIndex","outputTrackId","outputNumeralTrackId","numeral_node_id","parameters","get_nodes","get_volume","get_tempo","q","s","init_wasm","add_buffer","reject","catch","add_track","unique_clip_index","dur","copy_clip_id","clip_name","BigInt","add_unique_clips","clip_names","buffers","buffer_duration","round","module_factory_index","delete_clip_from_track","set_node_param_value","duplicate_clip","link_node_track","getClipDragSourceOptions","file_names","file_buffers","file","buff","u8_vec","cos","sin","progress_type","absolute","relative","progress_color","track_width","dispatch","normalized","valueArcStart","PI","valueArcEnd","valueArcLarge","valueArcSide","neutral","button","requestPointerLock","mozRequestPointerLock","webkitPointerLockElement","onpointermove","movementX","movementY","onpointerup","exitPointerLock","mozExitPointerLock","webkitExitPointerLock","deltaX","deltaY","is_date","tick_spring","last_value","current_value","target_value","delta","velocity","dt","opts","stiffness","damping","inv_mass","precision","settled","getTime","next_value","spring","last_time","current_token","inv_mass_recovery_rate","cancel_task","token","hard","soft","rate","promise","fulfill","abort","loop","fulfil","drag","elem","elem_store","coordinates","posX","posY","handleMouseMove","dx","mousePosX","dy","mousePosY","$coords","handleMouseUp","updatePos","transform","source","linkWidth","stiffnessValue","invStiffness","link_data","color","linkTarget","output_ports","ports","bounds","local_bounds","getBoundingClientRect","is_link","elem_center","owner_node","output_ports_map","currentTarget","Knob","col","row","kind","NodeControlType","GridNode","node_id_index","node_data","parentid","graph_nodes","clicked","selected","positions","parentTop","parentLeft","parentWidth","parentHeight","posX_","posY_","getElementById","offsetTop","offsetLeft","offsetWidth","offsetHeight","grid_width","grid_height","parameters_grid_nodes","knob_change_value","knod_id","max_width","holder","v","Breaker","current_width","current_height","process_grid","param","graph_nodes_arr","link_ret","link","inputPort","inputNode","inputData","inputNodeId","outputNode","outputPort","outputData","output","shift_key_pressed","control_key_pressed","onkeydown","onkeyup","onkeypress","is_track_output_linked","includes","c_track","track_arr","graphPanel","wireSource","viewportRect","pointerPos","wireVisible","wireStartPos","toViewportSpace","point","left","top","project_v","dropzoneOptions","selected_node","selected_node_id","selected_node_callback","is_selected","move_node_callback","wireEndPos","vpp","collection","detector","isIE","version","agent","navigator","userAgent","toLowerCase","div","all","getElementsByTagName","undef","isLegacyOpera","opera","getOption","reporter","asyncProcess","utils","autoProcess","asyncFrameHandler","batch","Batch","isProcessing","processBatch","processingBatch","process","processBatchAsync","setTimeout","level","force","localAsyncProcess","clearTimeout","topLevel","bottomLevel","getState","initState","cleanState","require$$0","batchProcessor","stateHandler","hasState","idHandler","scrollbarSizes","child","cssText","buildCssTextString","container","body","firstChild","widthSize","clientWidth","heightSize","clientHeight","getScrollbarSizes","detectionContainerClass","initDocument","targetDocument","styleId","containerClass","injectStyle","method","head","styleElement","containerAnimationClass","containerAnimationActiveClass","injectScrollStyle","rules","seperator","join","trim","addEvent","el","attachEvent","removeEvent","detachEvent","getExpandElement","getShrinkElement","makeDetectable","unshift","isUnrendered","getComputedStyle","getStyle","elementStyle","right","bottom","widthCSS","heightCSS","storeStyle","storeCurrentSize","lastWidth","lastHeight","getWidthOffset","getHeightOffset","getExpandWidth","getExpandHeight","positionScrollbars","expand","shrink","expandWidth","expandHeight","shrinkWidth","getShrinkWidth","shrinkHeight","getShrinkHeight","scrollLeft","scrollTop","injectContainerElement","addAnimationClass","onAnimationStart","onRendered","injectScrollElements","removeRelativeStyles","property","replace","getNumericalValue","alterPositionStyles","rootContainer","scrollbarWidth","scrollbarHeight","containerContainerStyle","containerStyle","concat","expandStyle","shrinkStyle","expandChildStyle","shrinkChildStyle","containerContainer","expandChild","shrinkChild","dir","onExpandScroll","onShrinkScroll","onExpand","onShrink","registerListenersAndPositionElements","updateChildSizes","getExpandChildElement","updateDetectorElements","done","sizeChanged","areElementsInjected","w","notifyListenersIfNeeded","lastNotifiedWidth","startSize","lastNotifiedHeight","listeners","listener","handleScroll","finalizeDomMutation","install","isInShadowRoot","getRootNode","contains","ownerDocument","isInDocument","isDetached","addListener","uninstall","isCollection","toArray","array","isElement","nodeType","erd","idCount","defaultIdHandler","idGenerator","generate","idHandlerMaker","quiet","attachFunction","reporterMaker","batchProcessorMaker","globalOptions","callOnAdd","detectionStrategy","eventListenerHandler","eventListeners","getListeners","removeListener","removeAllListeners","listenerHandlerMaker","elementUtils","isDetectable","markAsDetectable","isBusy","busy","markBusy","elementUtilsMaker","desiredStrategy","importantCssRules","strategyOptions","browserDetector","scrollStrategyMaker","OBJECT_STYLE","positionCheckPerformed","mutateDom","tabIndex","onload","getDocument","contentDocument","checkForObjectDocumentTimeoutId","objectDocument","injectObject","listenerProxy","proxy","defaultView","objectStrategyMaker","onReadyCallbacks","listenTo","elements","onResizeCallback","elementsReady","onReadyCallback","elementResizeDetectorMaker","strategy","watchResize","currentHandler","newHandler","themes","light","colors","background","primary","contrast","hover","active","knob","gradient_enabled_start","gradient_enabled_end","gradient_disabled_start","gradient_disabled_end","line","deg","gradient_start","gradient_end","border","primary50","primary100","primary200","primary300","primary500","primary600","primary700","primary800","primary900","primary_dark","complementary50","complementary100","complementary200","complementary300","complementary","complementary500","complementary600","complementary700","complementary800","complementary900","fonts","title","paragraph","dark","ThemeMode","theme","localStorage","getItem","Dark","Light","$theme","toggleTheme","iframe","contentWindow","roundRect","radius","moveTo","lineTo","quadraticCurveTo","cvs","track_height","start_beat","end_beat","signature","selected_clip","dispatcher","bck_contrast","documentElement","getPropertyValue","bck_primary","primary_color","getRealMousePosition","offsetX","offsetY","redraw","getContext","alpha","save","scale","stroke","fillStyle","fillRect","view_range","beat_width","start_offset","beginPath","strokeStyle","lineWidth","globalAlpha","drawSubDivisions","drawDivisions","restore","clip_start_beats","clip_width","translate","textBaseline","font","fillText","displayName","drawClips","metrics","measureText","duplicated_clips","down_x","reverse","find","clip_duration_beats","clip_x","up","releasePointerCapture","pointerId","duplicated_clip","clip_start_x","setPointerCapture","new_clip_start","altKey","floor","shiftKey","buttons","scrollY","unique_clip","wheelDelta","sign","editable","topknobvalue","botknobvalue","trackname","selected_tracks","selected_tracks_id","select_track_callback","icontype","buttoncolor","sprites","pause","icon","ViewMode","Graph","viewBool","$view","Timeline","handleTrackPad","side","wheelDeltaY","deltaMode","factor","handleWheel","startValue","pad_with_zero","time","is_bar","sec","bps","bars","steps","ticks","bst_string","ticks_string","time_str","rest_str","parseInt","isDragged","thumb_position","thumb_transform_x","track_length","globalTimerTime","current","playing","buttonSwitchViewMode","tempoTempo","sliderVolume","playButtonIcon","_extends","hasOwnProperty","getUrls","urls","settings","mimeType","onBeforeSend","Function","onSuccess","onError","onComplete","urlArray","urlQueue","isValidCss","isString","isHTML","charAt","xhr","urlIndex","responseText","returnVal","parser","String","Boolean","atob","host","split","location","protocol","xdr","XDomainRequest","open","timeout","onprogress","ontimeout","onerror","err","send","XMLHttpRequest","overrideMimeType","onreadystatechange","readyState","status","getCssData","regex","rootElement","include","exclude","skipDisabled","useCSSOM","sourceNodes","querySelectorAll","elm","selector","matches","matchesSelector","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector","cssArray","handleComplete","reduce","skipIndices","skipIndex","arr","handleSuccess","cssIndex","sourceUrl","resolveImports","resolvedCssText","errorData","test","parseImportData","baseUrl","ignoreRules","importData","match","rule","absoluteUrls","getFullUrl$1","absoluteRules","oldUrl","newUrl","callbackFn","__errorData","__errorRules","responseImportData","responseArray","importText","linkHref","linkRel","isLink","isSkip","disabled","isStyle","textContent","sheet","cssRules","base","implementation","createHTMLDocument","baseURI","querySelector","balancedMatch","balanced","str","RegExp","maybeMatch","range","end","pre","post","reg","begs","beg","ai","bi","parseCss","css","defaults","preserveStatic","removeComments","errors","msg","re","close","whitespace","comment","comments","cmnts","selectorItems","_selector","hasCommaInQuotes","declaration","at_rule","comment_regexp","prop","declarations","decls","keyframe","vals","at_keyframes","vendor","frame","frames","keyframes","at_page","selectors","at_page_margin_box","at_fontface","at_supports","supports","at_host","at_media","media","at_custom_m","at_document","at_x","hasVarFunc","some","decl","balancedMatch$1","hasVarDecl","sel","core","stylesheet","parseVars","cssData","parseHost","onWarning","reVarDeclSelectors","stringifyCss","tree","delim","renderMethods","charset","visit","import","namespace","page","txt","walkCss","transformCss","preserveVars","variables","VAR_FUNC_IDENTIFIER","resolvedValue","resolveValue","fixNestedCalc","newVal","__recursiveFallback","valueData","resolveFunc","fallback","replacement","unresolvedFallback","isEmptyVarFunc","isBrowser","isNativeSupport","CSS","counters","group","job","shadowDOM","onlyLegacy","silent","updateDOM","updateURLs","watch","onFinally","cssComments","cssKeyframes","cssMediaQueries","cssUrls","cssVarDeclRules","cssVarDecls","cssVarFunc","cssVars","variableStore","dom","user","cssVarsIsRunning","cssVarsObserver","cssVarsSrcNodeCount","debounceTimer","isShadowDOMReady","msgPrefix","sourceNode","handleWarning","handleFinally","hasChanged","getTimeStamp","__benchmark","addMutationObserver","cssVarsDebounced","srcNodes","fixVarNames","srcNode","hasStyleCache","__cssVars","hasStyleChanged","outNodes","outNode","dataGroup","hasVarChange","targetElm","varValue","shadowRoot","nodeArray","responseUrl","responseURL","getFullUrl","statusText","isStyleImport","fixRelativeCssUrls","currentVars","nodeCSS","cssTree","resetCssNodes","outCssArray","outNodeArray","hasKeyframesWithVars","outCss","hasCSSVarFunc","outCssNoSpaces","hasAttribute","nextSibling","elms","shadowSettings","fixKeyframes","evt","isDisabled","isDisabledAttr","isDisabledSheet","MutationObserver","mutations","mutation","isValid","isEnabledMutation","attributeName","isHrefMutation","isSkipNode","isSrcNode","isValidAttributeMutation","isStyleElm","isOutNode","isValidStyleTextMutation","addedNodes","hasAttr","isStyleWithVars","isValidAddMutation","removedNodes","isElm","orphanNode","isValidRemoveMutation","observe","attributes","attributeFilter","childList","subtree","delay","animationNameProp","allNodes","keyframeNodes","nameMarker","_i","_len","nodeStyle","cssUrl","varObj","reLeadingHyphens","resetDOMVariableStore","resetNodes","reset","presets","secondary","forest","currentMode","currentThemeName","currentThemeObject","themesStore","newCurrent","processConfig","recurse","slot_ctx","slot","slot_definition","slot_changes","get_slot_context_fn","slot_context","lets","merged","STORAGE_KEY","VARIABLE_PREFIX","VALID_MODES","INVALID_MODE_MESSAGE","prefix","mode","variablePrefix","createCSSVariableName","createCSSVariableOverride","variableName","processedBaseConfig","baseCSSVariables","entries","rootCSSVariables","themeCSSContent","themeName","themeValues","processed","overrides","initialVariableName","themeCSSClassName","vars","createCSSVariableStatement","createCSS","setContext","darkSchemeQuery","matchMedia","preferredMode","saved","setItem","$currentThemeName","onbeforeunload","returnValue"],"mappings":"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"}